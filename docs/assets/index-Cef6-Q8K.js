var vw=Object.defineProperty;var ww=(r,e,t)=>e in r?vw(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t;var Bt=(r,e,t)=>ww(r,typeof e!="symbol"?e+"":e,t);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const u of l.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&i(u)}).observe(document,{childList:!0,subtree:!0});function t(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(o){if(o.ep)return;o.ep=!0;const l=t(o);fetch(o.href,l)}})();var Ap=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ta(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}function Im(r){if(r.__esModule)return r;var e=r.default;if(typeof e=="function"){var t=function i(){return this instanceof i?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(r).forEach(function(i){var o=Object.getOwnPropertyDescriptor(r,i);Object.defineProperty(t,i,o.get?o:{enumerable:!0,get:function(){return r[i]}})}),t}var Nu={exports:{}},is={},ju={exports:{}},Se={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Np;function _w(){if(Np)return Se;Np=1;var r=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),u=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),v=Symbol.iterator;function b(R){return R===null||typeof R!="object"?null:(R=v&&R[v]||R["@@iterator"],typeof R=="function"?R:null)}var y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,S={};function E(R,Y,le){this.props=R,this.context=Y,this.refs=S,this.updater=le||y}E.prototype.isReactComponent={},E.prototype.setState=function(R,Y){if(typeof R!="object"&&typeof R!="function"&&R!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,R,Y,"setState")},E.prototype.forceUpdate=function(R){this.updater.enqueueForceUpdate(this,R,"forceUpdate")};function k(){}k.prototype=E.prototype;function O(R,Y,le){this.props=R,this.context=Y,this.refs=S,this.updater=le||y}var N=O.prototype=new k;N.constructor=O,w(N,E.prototype),N.isPureReactComponent=!0;var z=Array.isArray,F=Object.prototype.hasOwnProperty,U={current:null},j={key:!0,ref:!0,__self:!0,__source:!0};function V(R,Y,le){var fe,_e={},ve=null,ke=null;if(Y!=null)for(fe in Y.ref!==void 0&&(ke=Y.ref),Y.key!==void 0&&(ve=""+Y.key),Y)F.call(Y,fe)&&!j.hasOwnProperty(fe)&&(_e[fe]=Y[fe]);var be=arguments.length-2;if(be===1)_e.children=le;else if(1<be){for(var Te=Array(be),Ge=0;Ge<be;Ge++)Te[Ge]=arguments[Ge+2];_e.children=Te}if(R&&R.defaultProps)for(fe in be=R.defaultProps,be)_e[fe]===void 0&&(_e[fe]=be[fe]);return{$$typeof:r,type:R,key:ve,ref:ke,props:_e,_owner:U.current}}function Z(R,Y){return{$$typeof:r,type:R.type,key:Y,ref:R.ref,props:R.props,_owner:R._owner}}function ie(R){return typeof R=="object"&&R!==null&&R.$$typeof===r}function D(R){var Y={"=":"=0",":":"=2"};return"$"+R.replace(/[=:]/g,function(le){return Y[le]})}var q=/\/+/g;function ee(R,Y){return typeof R=="object"&&R!==null&&R.key!=null?D(""+R.key):Y.toString(36)}function re(R,Y,le,fe,_e){var ve=typeof R;(ve==="undefined"||ve==="boolean")&&(R=null);var ke=!1;if(R===null)ke=!0;else switch(ve){case"string":case"number":ke=!0;break;case"object":switch(R.$$typeof){case r:case e:ke=!0}}if(ke)return ke=R,_e=_e(ke),R=fe===""?"."+ee(ke,0):fe,z(_e)?(le="",R!=null&&(le=R.replace(q,"$&/")+"/"),re(_e,Y,le,"",function(Ge){return Ge})):_e!=null&&(ie(_e)&&(_e=Z(_e,le+(!_e.key||ke&&ke.key===_e.key?"":(""+_e.key).replace(q,"$&/")+"/")+R)),Y.push(_e)),1;if(ke=0,fe=fe===""?".":fe+":",z(R))for(var be=0;be<R.length;be++){ve=R[be];var Te=fe+ee(ve,be);ke+=re(ve,Y,le,Te,_e)}else if(Te=b(R),typeof Te=="function")for(R=Te.call(R),be=0;!(ve=R.next()).done;)ve=ve.value,Te=fe+ee(ve,be++),ke+=re(ve,Y,le,Te,_e);else if(ve==="object")throw Y=String(R),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(R).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.");return ke}function C(R,Y,le){if(R==null)return R;var fe=[],_e=0;return re(R,fe,"","",function(ve){return Y.call(le,ve,_e++)}),fe}function $(R){if(R._status===-1){var Y=R._result;Y=Y(),Y.then(function(le){(R._status===0||R._status===-1)&&(R._status=1,R._result=le)},function(le){(R._status===0||R._status===-1)&&(R._status=2,R._result=le)}),R._status===-1&&(R._status=0,R._result=Y)}if(R._status===1)return R._result.default;throw R._result}var K={current:null},W={transition:null},G={ReactCurrentDispatcher:K,ReactCurrentBatchConfig:W,ReactCurrentOwner:U};function M(){throw Error("act(...) is not supported in production builds of React.")}return Se.Children={map:C,forEach:function(R,Y,le){C(R,function(){Y.apply(this,arguments)},le)},count:function(R){var Y=0;return C(R,function(){Y++}),Y},toArray:function(R){return C(R,function(Y){return Y})||[]},only:function(R){if(!ie(R))throw Error("React.Children.only expected to receive a single React element child.");return R}},Se.Component=E,Se.Fragment=t,Se.Profiler=o,Se.PureComponent=O,Se.StrictMode=i,Se.Suspense=h,Se.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=G,Se.act=M,Se.cloneElement=function(R,Y,le){if(R==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+R+".");var fe=w({},R.props),_e=R.key,ve=R.ref,ke=R._owner;if(Y!=null){if(Y.ref!==void 0&&(ve=Y.ref,ke=U.current),Y.key!==void 0&&(_e=""+Y.key),R.type&&R.type.defaultProps)var be=R.type.defaultProps;for(Te in Y)F.call(Y,Te)&&!j.hasOwnProperty(Te)&&(fe[Te]=Y[Te]===void 0&&be!==void 0?be[Te]:Y[Te])}var Te=arguments.length-2;if(Te===1)fe.children=le;else if(1<Te){be=Array(Te);for(var Ge=0;Ge<Te;Ge++)be[Ge]=arguments[Ge+2];fe.children=be}return{$$typeof:r,type:R.type,key:_e,ref:ve,props:fe,_owner:ke}},Se.createContext=function(R){return R={$$typeof:u,_currentValue:R,_currentValue2:R,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},R.Provider={$$typeof:l,_context:R},R.Consumer=R},Se.createElement=V,Se.createFactory=function(R){var Y=V.bind(null,R);return Y.type=R,Y},Se.createRef=function(){return{current:null}},Se.forwardRef=function(R){return{$$typeof:d,render:R}},Se.isValidElement=ie,Se.lazy=function(R){return{$$typeof:m,_payload:{_status:-1,_result:R},_init:$}},Se.memo=function(R,Y){return{$$typeof:p,type:R,compare:Y===void 0?null:Y}},Se.startTransition=function(R){var Y=W.transition;W.transition={};try{R()}finally{W.transition=Y}},Se.unstable_act=M,Se.useCallback=function(R,Y){return K.current.useCallback(R,Y)},Se.useContext=function(R){return K.current.useContext(R)},Se.useDebugValue=function(){},Se.useDeferredValue=function(R){return K.current.useDeferredValue(R)},Se.useEffect=function(R,Y){return K.current.useEffect(R,Y)},Se.useId=function(){return K.current.useId()},Se.useImperativeHandle=function(R,Y,le){return K.current.useImperativeHandle(R,Y,le)},Se.useInsertionEffect=function(R,Y){return K.current.useInsertionEffect(R,Y)},Se.useLayoutEffect=function(R,Y){return K.current.useLayoutEffect(R,Y)},Se.useMemo=function(R,Y){return K.current.useMemo(R,Y)},Se.useReducer=function(R,Y,le){return K.current.useReducer(R,Y,le)},Se.useRef=function(R){return K.current.useRef(R)},Se.useState=function(R){return K.current.useState(R)},Se.useSyncExternalStore=function(R,Y,le){return K.current.useSyncExternalStore(R,Y,le)},Se.useTransition=function(){return K.current.useTransition()},Se.version="18.3.1",Se}var jp;function sd(){return jp||(jp=1,ju.exports=_w()),ju.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mp;function Sw(){if(Mp)return is;Mp=1;var r=sd(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,o=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function u(d,h,p){var m,v={},b=null,y=null;p!==void 0&&(b=""+p),h.key!==void 0&&(b=""+h.key),h.ref!==void 0&&(y=h.ref);for(m in h)i.call(h,m)&&!l.hasOwnProperty(m)&&(v[m]=h[m]);if(d&&d.defaultProps)for(m in h=d.defaultProps,h)v[m]===void 0&&(v[m]=h[m]);return{$$typeof:e,type:d,key:b,ref:y,props:v,_owner:o.current}}return is.Fragment=t,is.jsx=u,is.jsxs=u,is}var $p;function bw(){return $p||($p=1,Nu.exports=Sw()),Nu.exports}var x=bw(),A=sd();const Lp=Ta(A);var Fo={},Mu={exports:{}},gt={},$u={exports:{}},Lu={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Up;function Ew(){return Up||(Up=1,function(r){function e(W,G){var M=W.length;W.push(G);e:for(;0<M;){var R=M-1>>>1,Y=W[R];if(0<o(Y,G))W[R]=G,W[M]=Y,M=R;else break e}}function t(W){return W.length===0?null:W[0]}function i(W){if(W.length===0)return null;var G=W[0],M=W.pop();if(M!==G){W[0]=M;e:for(var R=0,Y=W.length,le=Y>>>1;R<le;){var fe=2*(R+1)-1,_e=W[fe],ve=fe+1,ke=W[ve];if(0>o(_e,M))ve<Y&&0>o(ke,_e)?(W[R]=ke,W[ve]=M,R=ve):(W[R]=_e,W[fe]=M,R=fe);else if(ve<Y&&0>o(ke,M))W[R]=ke,W[ve]=M,R=ve;else break e}}return G}function o(W,G){var M=W.sortIndex-G.sortIndex;return M!==0?M:W.id-G.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;r.unstable_now=function(){return l.now()}}else{var u=Date,d=u.now();r.unstable_now=function(){return u.now()-d}}var h=[],p=[],m=1,v=null,b=3,y=!1,w=!1,S=!1,E=typeof setTimeout=="function"?setTimeout:null,k=typeof clearTimeout=="function"?clearTimeout:null,O=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function N(W){for(var G=t(p);G!==null;){if(G.callback===null)i(p);else if(G.startTime<=W)i(p),G.sortIndex=G.expirationTime,e(h,G);else break;G=t(p)}}function z(W){if(S=!1,N(W),!w)if(t(h)!==null)w=!0,$(F);else{var G=t(p);G!==null&&K(z,G.startTime-W)}}function F(W,G){w=!1,S&&(S=!1,k(V),V=-1),y=!0;var M=b;try{for(N(G),v=t(h);v!==null&&(!(v.expirationTime>G)||W&&!D());){var R=v.callback;if(typeof R=="function"){v.callback=null,b=v.priorityLevel;var Y=R(v.expirationTime<=G);G=r.unstable_now(),typeof Y=="function"?v.callback=Y:v===t(h)&&i(h),N(G)}else i(h);v=t(h)}if(v!==null)var le=!0;else{var fe=t(p);fe!==null&&K(z,fe.startTime-G),le=!1}return le}finally{v=null,b=M,y=!1}}var U=!1,j=null,V=-1,Z=5,ie=-1;function D(){return!(r.unstable_now()-ie<Z)}function q(){if(j!==null){var W=r.unstable_now();ie=W;var G=!0;try{G=j(!0,W)}finally{G?ee():(U=!1,j=null)}}else U=!1}var ee;if(typeof O=="function")ee=function(){O(q)};else if(typeof MessageChannel<"u"){var re=new MessageChannel,C=re.port2;re.port1.onmessage=q,ee=function(){C.postMessage(null)}}else ee=function(){E(q,0)};function $(W){j=W,U||(U=!0,ee())}function K(W,G){V=E(function(){W(r.unstable_now())},G)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(W){W.callback=null},r.unstable_continueExecution=function(){w||y||(w=!0,$(F))},r.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Z=0<W?Math.floor(1e3/W):5},r.unstable_getCurrentPriorityLevel=function(){return b},r.unstable_getFirstCallbackNode=function(){return t(h)},r.unstable_next=function(W){switch(b){case 1:case 2:case 3:var G=3;break;default:G=b}var M=b;b=G;try{return W()}finally{b=M}},r.unstable_pauseExecution=function(){},r.unstable_requestPaint=function(){},r.unstable_runWithPriority=function(W,G){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var M=b;b=W;try{return G()}finally{b=M}},r.unstable_scheduleCallback=function(W,G,M){var R=r.unstable_now();switch(typeof M=="object"&&M!==null?(M=M.delay,M=typeof M=="number"&&0<M?R+M:R):M=R,W){case 1:var Y=-1;break;case 2:Y=250;break;case 5:Y=1073741823;break;case 4:Y=1e4;break;default:Y=5e3}return Y=M+Y,W={id:m++,callback:G,priorityLevel:W,startTime:M,expirationTime:Y,sortIndex:-1},M>R?(W.sortIndex=M,e(p,W),t(h)===null&&W===t(p)&&(S?(k(V),V=-1):S=!0,K(z,M-R))):(W.sortIndex=Y,e(h,W),w||y||(w=!0,$(F))),W},r.unstable_shouldYield=D,r.unstable_wrapCallback=function(W){var G=b;return function(){var M=b;b=G;try{return W.apply(this,arguments)}finally{b=M}}}}(Lu)),Lu}var Fp;function kw(){return Fp||(Fp=1,$u.exports=Ew()),$u.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zp;function xw(){if(zp)return gt;zp=1;var r=sd(),e=kw();function t(n){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+n,a=1;a<arguments.length;a++)s+="&args[]="+encodeURIComponent(arguments[a]);return"Minified React error #"+n+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,o={};function l(n,s){u(n,s),u(n+"Capture",s)}function u(n,s){for(o[n]=s,n=0;n<s.length;n++)i.add(s[n])}var d=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),h=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,m={},v={};function b(n){return h.call(v,n)?!0:h.call(m,n)?!1:p.test(n)?v[n]=!0:(m[n]=!0,!1)}function y(n,s,a,c){if(a!==null&&a.type===0)return!1;switch(typeof s){case"function":case"symbol":return!0;case"boolean":return c?!1:a!==null?!a.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function w(n,s,a,c){if(s===null||typeof s>"u"||y(n,s,a,c))return!0;if(c)return!1;if(a!==null)switch(a.type){case 3:return!s;case 4:return s===!1;case 5:return isNaN(s);case 6:return isNaN(s)||1>s}return!1}function S(n,s,a,c,f,g,_){this.acceptsBooleans=s===2||s===3||s===4,this.attributeName=c,this.attributeNamespace=f,this.mustUseProperty=a,this.propertyName=n,this.type=s,this.sanitizeURL=g,this.removeEmptyString=_}var E={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){E[n]=new S(n,0,!1,n,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var s=n[0];E[s]=new S(s,1,!1,n[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(n){E[n]=new S(n,2,!1,n.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){E[n]=new S(n,2,!1,n,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){E[n]=new S(n,3,!1,n.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(n){E[n]=new S(n,3,!0,n,null,!1,!1)}),["capture","download"].forEach(function(n){E[n]=new S(n,4,!1,n,null,!1,!1)}),["cols","rows","size","span"].forEach(function(n){E[n]=new S(n,6,!1,n,null,!1,!1)}),["rowSpan","start"].forEach(function(n){E[n]=new S(n,5,!1,n.toLowerCase(),null,!1,!1)});var k=/[\-:]([a-z])/g;function O(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var s=n.replace(k,O);E[s]=new S(s,1,!1,n,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var s=n.replace(k,O);E[s]=new S(s,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(n){var s=n.replace(k,O);E[s]=new S(s,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(n){E[n]=new S(n,1,!1,n.toLowerCase(),null,!1,!1)}),E.xlinkHref=new S("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(n){E[n]=new S(n,1,!1,n.toLowerCase(),null,!0,!0)});function N(n,s,a,c){var f=E.hasOwnProperty(s)?E[s]:null;(f!==null?f.type!==0:c||!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(w(s,a,f,c)&&(a=null),c||f===null?b(s)&&(a===null?n.removeAttribute(s):n.setAttribute(s,""+a)):f.mustUseProperty?n[f.propertyName]=a===null?f.type===3?!1:"":a:(s=f.attributeName,c=f.attributeNamespace,a===null?n.removeAttribute(s):(f=f.type,a=f===3||f===4&&a===!0?"":""+a,c?n.setAttributeNS(c,s,a):n.setAttribute(s,a))))}var z=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,F=Symbol.for("react.element"),U=Symbol.for("react.portal"),j=Symbol.for("react.fragment"),V=Symbol.for("react.strict_mode"),Z=Symbol.for("react.profiler"),ie=Symbol.for("react.provider"),D=Symbol.for("react.context"),q=Symbol.for("react.forward_ref"),ee=Symbol.for("react.suspense"),re=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),$=Symbol.for("react.lazy"),K=Symbol.for("react.offscreen"),W=Symbol.iterator;function G(n){return n===null||typeof n!="object"?null:(n=W&&n[W]||n["@@iterator"],typeof n=="function"?n:null)}var M=Object.assign,R;function Y(n){if(R===void 0)try{throw Error()}catch(a){var s=a.stack.trim().match(/\n( *(at )?)/);R=s&&s[1]||""}return`
`+R+n}var le=!1;function fe(n,s){if(!n||le)return"";le=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch(H){var c=H}Reflect.construct(n,[],s)}else{try{s.call()}catch(H){c=H}n.call(s.prototype)}else{try{throw Error()}catch(H){c=H}n()}}catch(H){if(H&&c&&typeof H.stack=="string"){for(var f=H.stack.split(`
`),g=c.stack.split(`
`),_=f.length-1,T=g.length-1;1<=_&&0<=T&&f[_]!==g[T];)T--;for(;1<=_&&0<=T;_--,T--)if(f[_]!==g[T]){if(_!==1||T!==1)do if(_--,T--,0>T||f[_]!==g[T]){var P=`
`+f[_].replace(" at new "," at ");return n.displayName&&P.includes("<anonymous>")&&(P=P.replace("<anonymous>",n.displayName)),P}while(1<=_&&0<=T);break}}}finally{le=!1,Error.prepareStackTrace=a}return(n=n?n.displayName||n.name:"")?Y(n):""}function _e(n){switch(n.tag){case 5:return Y(n.type);case 16:return Y("Lazy");case 13:return Y("Suspense");case 19:return Y("SuspenseList");case 0:case 2:case 15:return n=fe(n.type,!1),n;case 11:return n=fe(n.type.render,!1),n;case 1:return n=fe(n.type,!0),n;default:return""}}function ve(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case j:return"Fragment";case U:return"Portal";case Z:return"Profiler";case V:return"StrictMode";case ee:return"Suspense";case re:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case D:return(n.displayName||"Context")+".Consumer";case ie:return(n._context.displayName||"Context")+".Provider";case q:var s=n.render;return n=n.displayName,n||(n=s.displayName||s.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case C:return s=n.displayName||null,s!==null?s:ve(n.type)||"Memo";case $:s=n._payload,n=n._init;try{return ve(n(s))}catch{}}return null}function ke(n){var s=n.type;switch(n.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=s.render,n=n.displayName||n.name||"",s.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ve(s);case 8:return s===V?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function be(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function Te(n){var s=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Ge(n){var s=Te(n)?"checked":"value",a=Object.getOwnPropertyDescriptor(n.constructor.prototype,s),c=""+n[s];if(!n.hasOwnProperty(s)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var f=a.get,g=a.set;return Object.defineProperty(n,s,{configurable:!0,get:function(){return f.call(this)},set:function(_){c=""+_,g.call(this,_)}}),Object.defineProperty(n,s,{enumerable:a.enumerable}),{getValue:function(){return c},setValue:function(_){c=""+_},stopTracking:function(){n._valueTracker=null,delete n[s]}}}}function kn(n){n._valueTracker||(n._valueTracker=Ge(n))}function Ld(n){if(!n)return!1;var s=n._valueTracker;if(!s)return!0;var a=s.getValue(),c="";return n&&(c=Te(n)?n.checked?"true":"false":n.value),n=c,n!==a?(s.setValue(n),!0):!1}function Rs(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function za(n,s){var a=s.checked;return M({},s,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:a??n._wrapperState.initialChecked})}function Ud(n,s){var a=s.defaultValue==null?"":s.defaultValue,c=s.checked!=null?s.checked:s.defaultChecked;a=be(s.value!=null?s.value:a),n._wrapperState={initialChecked:c,initialValue:a,controlled:s.type==="checkbox"||s.type==="radio"?s.checked!=null:s.value!=null}}function Fd(n,s){s=s.checked,s!=null&&N(n,"checked",s,!1)}function Ba(n,s){Fd(n,s);var a=be(s.value),c=s.type;if(a!=null)c==="number"?(a===0&&n.value===""||n.value!=a)&&(n.value=""+a):n.value!==""+a&&(n.value=""+a);else if(c==="submit"||c==="reset"){n.removeAttribute("value");return}s.hasOwnProperty("value")?Ha(n,s.type,a):s.hasOwnProperty("defaultValue")&&Ha(n,s.type,be(s.defaultValue)),s.checked==null&&s.defaultChecked!=null&&(n.defaultChecked=!!s.defaultChecked)}function zd(n,s,a){if(s.hasOwnProperty("value")||s.hasOwnProperty("defaultValue")){var c=s.type;if(!(c!=="submit"&&c!=="reset"||s.value!==void 0&&s.value!==null))return;s=""+n._wrapperState.initialValue,a||s===n.value||(n.value=s),n.defaultValue=s}a=n.name,a!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,a!==""&&(n.name=a)}function Ha(n,s,a){(s!=="number"||Rs(n.ownerDocument)!==n)&&(a==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+a&&(n.defaultValue=""+a))}var wi=Array.isArray;function xn(n,s,a,c){if(n=n.options,s){s={};for(var f=0;f<a.length;f++)s["$"+a[f]]=!0;for(a=0;a<n.length;a++)f=s.hasOwnProperty("$"+n[a].value),n[a].selected!==f&&(n[a].selected=f),f&&c&&(n[a].defaultSelected=!0)}else{for(a=""+be(a),s=null,f=0;f<n.length;f++){if(n[f].value===a){n[f].selected=!0,c&&(n[f].defaultSelected=!0);return}s!==null||n[f].disabled||(s=n[f])}s!==null&&(s.selected=!0)}}function Wa(n,s){if(s.dangerouslySetInnerHTML!=null)throw Error(t(91));return M({},s,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function Bd(n,s){var a=s.value;if(a==null){if(a=s.children,s=s.defaultValue,a!=null){if(s!=null)throw Error(t(92));if(wi(a)){if(1<a.length)throw Error(t(93));a=a[0]}s=a}s==null&&(s=""),a=s}n._wrapperState={initialValue:be(a)}}function Hd(n,s){var a=be(s.value),c=be(s.defaultValue);a!=null&&(a=""+a,a!==n.value&&(n.value=a),s.defaultValue==null&&n.defaultValue!==a&&(n.defaultValue=a)),c!=null&&(n.defaultValue=""+c)}function Wd(n){var s=n.textContent;s===n._wrapperState.initialValue&&s!==""&&s!==null&&(n.value=s)}function qd(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function qa(n,s){return n==null||n==="http://www.w3.org/1999/xhtml"?qd(s):n==="http://www.w3.org/2000/svg"&&s==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var Ds,Vd=function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(s,a,c,f){MSApp.execUnsafeLocalFunction(function(){return n(s,a,c,f)})}:n}(function(n,s){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=s;else{for(Ds=Ds||document.createElement("div"),Ds.innerHTML="<svg>"+s.valueOf().toString()+"</svg>",s=Ds.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;s.firstChild;)n.appendChild(s.firstChild)}});function _i(n,s){if(s){var a=n.firstChild;if(a&&a===n.lastChild&&a.nodeType===3){a.nodeValue=s;return}}n.textContent=s}var Si={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Ev=["Webkit","ms","Moz","O"];Object.keys(Si).forEach(function(n){Ev.forEach(function(s){s=s+n.charAt(0).toUpperCase()+n.substring(1),Si[s]=Si[n]})});function Kd(n,s,a){return s==null||typeof s=="boolean"||s===""?"":a||typeof s!="number"||s===0||Si.hasOwnProperty(n)&&Si[n]?(""+s).trim():s+"px"}function Gd(n,s){n=n.style;for(var a in s)if(s.hasOwnProperty(a)){var c=a.indexOf("--")===0,f=Kd(a,s[a],c);a==="float"&&(a="cssFloat"),c?n.setProperty(a,f):n[a]=f}}var kv=M({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Va(n,s){if(s){if(kv[n]&&(s.children!=null||s.dangerouslySetInnerHTML!=null))throw Error(t(137,n));if(s.dangerouslySetInnerHTML!=null){if(s.children!=null)throw Error(t(60));if(typeof s.dangerouslySetInnerHTML!="object"||!("__html"in s.dangerouslySetInnerHTML))throw Error(t(61))}if(s.style!=null&&typeof s.style!="object")throw Error(t(62))}}function Ka(n,s){if(n.indexOf("-")===-1)return typeof s.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ga=null;function Ya(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var Ja=null,Tn=null,On=null;function Yd(n){if(n=Hi(n)){if(typeof Ja!="function")throw Error(t(280));var s=n.stateNode;s&&(s=eo(s),Ja(n.stateNode,n.type,s))}}function Jd(n){Tn?On?On.push(n):On=[n]:Tn=n}function Qd(){if(Tn){var n=Tn,s=On;if(On=Tn=null,Yd(n),s)for(n=0;n<s.length;n++)Yd(s[n])}}function Xd(n,s){return n(s)}function Zd(){}var Qa=!1;function eh(n,s,a){if(Qa)return n(s,a);Qa=!0;try{return Xd(n,s,a)}finally{Qa=!1,(Tn!==null||On!==null)&&(Zd(),Qd())}}function bi(n,s){var a=n.stateNode;if(a===null)return null;var c=eo(a);if(c===null)return null;a=c[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(n=n.type,c=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!c;break e;default:n=!1}if(n)return null;if(a&&typeof a!="function")throw Error(t(231,s,typeof a));return a}var Xa=!1;if(d)try{var Ei={};Object.defineProperty(Ei,"passive",{get:function(){Xa=!0}}),window.addEventListener("test",Ei,Ei),window.removeEventListener("test",Ei,Ei)}catch{Xa=!1}function xv(n,s,a,c,f,g,_,T,P){var H=Array.prototype.slice.call(arguments,3);try{s.apply(a,H)}catch(Q){this.onError(Q)}}var ki=!1,Is=null,As=!1,Za=null,Tv={onError:function(n){ki=!0,Is=n}};function Ov(n,s,a,c,f,g,_,T,P){ki=!1,Is=null,xv.apply(Tv,arguments)}function Cv(n,s,a,c,f,g,_,T,P){if(Ov.apply(this,arguments),ki){if(ki){var H=Is;ki=!1,Is=null}else throw Error(t(198));As||(As=!0,Za=H)}}function Kr(n){var s=n,a=n;if(n.alternate)for(;s.return;)s=s.return;else{n=s;do s=n,s.flags&4098&&(a=s.return),n=s.return;while(n)}return s.tag===3?a:null}function th(n){if(n.tag===13){var s=n.memoizedState;if(s===null&&(n=n.alternate,n!==null&&(s=n.memoizedState)),s!==null)return s.dehydrated}return null}function rh(n){if(Kr(n)!==n)throw Error(t(188))}function Pv(n){var s=n.alternate;if(!s){if(s=Kr(n),s===null)throw Error(t(188));return s!==n?null:n}for(var a=n,c=s;;){var f=a.return;if(f===null)break;var g=f.alternate;if(g===null){if(c=f.return,c!==null){a=c;continue}break}if(f.child===g.child){for(g=f.child;g;){if(g===a)return rh(f),n;if(g===c)return rh(f),s;g=g.sibling}throw Error(t(188))}if(a.return!==c.return)a=f,c=g;else{for(var _=!1,T=f.child;T;){if(T===a){_=!0,a=f,c=g;break}if(T===c){_=!0,c=f,a=g;break}T=T.sibling}if(!_){for(T=g.child;T;){if(T===a){_=!0,a=g,c=f;break}if(T===c){_=!0,c=g,a=f;break}T=T.sibling}if(!_)throw Error(t(189))}}if(a.alternate!==c)throw Error(t(190))}if(a.tag!==3)throw Error(t(188));return a.stateNode.current===a?n:s}function nh(n){return n=Pv(n),n!==null?ih(n):null}function ih(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var s=ih(n);if(s!==null)return s;n=n.sibling}return null}var sh=e.unstable_scheduleCallback,oh=e.unstable_cancelCallback,Rv=e.unstable_shouldYield,Dv=e.unstable_requestPaint,ze=e.unstable_now,Iv=e.unstable_getCurrentPriorityLevel,el=e.unstable_ImmediatePriority,ah=e.unstable_UserBlockingPriority,Ns=e.unstable_NormalPriority,Av=e.unstable_LowPriority,lh=e.unstable_IdlePriority,js=null,Kt=null;function Nv(n){if(Kt&&typeof Kt.onCommitFiberRoot=="function")try{Kt.onCommitFiberRoot(js,n,void 0,(n.current.flags&128)===128)}catch{}}var jt=Math.clz32?Math.clz32:$v,jv=Math.log,Mv=Math.LN2;function $v(n){return n>>>=0,n===0?32:31-(jv(n)/Mv|0)|0}var Ms=64,$s=4194304;function xi(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function Ls(n,s){var a=n.pendingLanes;if(a===0)return 0;var c=0,f=n.suspendedLanes,g=n.pingedLanes,_=a&268435455;if(_!==0){var T=_&~f;T!==0?c=xi(T):(g&=_,g!==0&&(c=xi(g)))}else _=a&~f,_!==0?c=xi(_):g!==0&&(c=xi(g));if(c===0)return 0;if(s!==0&&s!==c&&!(s&f)&&(f=c&-c,g=s&-s,f>=g||f===16&&(g&4194240)!==0))return s;if(c&4&&(c|=a&16),s=n.entangledLanes,s!==0)for(n=n.entanglements,s&=c;0<s;)a=31-jt(s),f=1<<a,c|=n[a],s&=~f;return c}function Lv(n,s){switch(n){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Uv(n,s){for(var a=n.suspendedLanes,c=n.pingedLanes,f=n.expirationTimes,g=n.pendingLanes;0<g;){var _=31-jt(g),T=1<<_,P=f[_];P===-1?(!(T&a)||T&c)&&(f[_]=Lv(T,s)):P<=s&&(n.expiredLanes|=T),g&=~T}}function tl(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function uh(){var n=Ms;return Ms<<=1,!(Ms&4194240)&&(Ms=64),n}function rl(n){for(var s=[],a=0;31>a;a++)s.push(n);return s}function Ti(n,s,a){n.pendingLanes|=s,s!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,s=31-jt(s),n[s]=a}function Fv(n,s){var a=n.pendingLanes&~s;n.pendingLanes=s,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=s,n.mutableReadLanes&=s,n.entangledLanes&=s,s=n.entanglements;var c=n.eventTimes;for(n=n.expirationTimes;0<a;){var f=31-jt(a),g=1<<f;s[f]=0,c[f]=-1,n[f]=-1,a&=~g}}function nl(n,s){var a=n.entangledLanes|=s;for(n=n.entanglements;a;){var c=31-jt(a),f=1<<c;f&s|n[c]&s&&(n[c]|=s),a&=~f}}var Oe=0;function ch(n){return n&=-n,1<n?4<n?n&268435455?16:536870912:4:1}var dh,il,hh,fh,ph,sl=!1,Us=[],yr=null,vr=null,wr=null,Oi=new Map,Ci=new Map,_r=[],zv="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function gh(n,s){switch(n){case"focusin":case"focusout":yr=null;break;case"dragenter":case"dragleave":vr=null;break;case"mouseover":case"mouseout":wr=null;break;case"pointerover":case"pointerout":Oi.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ci.delete(s.pointerId)}}function Pi(n,s,a,c,f,g){return n===null||n.nativeEvent!==g?(n={blockedOn:s,domEventName:a,eventSystemFlags:c,nativeEvent:g,targetContainers:[f]},s!==null&&(s=Hi(s),s!==null&&il(s)),n):(n.eventSystemFlags|=c,s=n.targetContainers,f!==null&&s.indexOf(f)===-1&&s.push(f),n)}function Bv(n,s,a,c,f){switch(s){case"focusin":return yr=Pi(yr,n,s,a,c,f),!0;case"dragenter":return vr=Pi(vr,n,s,a,c,f),!0;case"mouseover":return wr=Pi(wr,n,s,a,c,f),!0;case"pointerover":var g=f.pointerId;return Oi.set(g,Pi(Oi.get(g)||null,n,s,a,c,f)),!0;case"gotpointercapture":return g=f.pointerId,Ci.set(g,Pi(Ci.get(g)||null,n,s,a,c,f)),!0}return!1}function mh(n){var s=Gr(n.target);if(s!==null){var a=Kr(s);if(a!==null){if(s=a.tag,s===13){if(s=th(a),s!==null){n.blockedOn=s,ph(n.priority,function(){hh(a)});return}}else if(s===3&&a.stateNode.current.memoizedState.isDehydrated){n.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}n.blockedOn=null}function Fs(n){if(n.blockedOn!==null)return!1;for(var s=n.targetContainers;0<s.length;){var a=al(n.domEventName,n.eventSystemFlags,s[0],n.nativeEvent);if(a===null){a=n.nativeEvent;var c=new a.constructor(a.type,a);Ga=c,a.target.dispatchEvent(c),Ga=null}else return s=Hi(a),s!==null&&il(s),n.blockedOn=a,!1;s.shift()}return!0}function yh(n,s,a){Fs(n)&&a.delete(s)}function Hv(){sl=!1,yr!==null&&Fs(yr)&&(yr=null),vr!==null&&Fs(vr)&&(vr=null),wr!==null&&Fs(wr)&&(wr=null),Oi.forEach(yh),Ci.forEach(yh)}function Ri(n,s){n.blockedOn===s&&(n.blockedOn=null,sl||(sl=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Hv)))}function Di(n){function s(f){return Ri(f,n)}if(0<Us.length){Ri(Us[0],n);for(var a=1;a<Us.length;a++){var c=Us[a];c.blockedOn===n&&(c.blockedOn=null)}}for(yr!==null&&Ri(yr,n),vr!==null&&Ri(vr,n),wr!==null&&Ri(wr,n),Oi.forEach(s),Ci.forEach(s),a=0;a<_r.length;a++)c=_r[a],c.blockedOn===n&&(c.blockedOn=null);for(;0<_r.length&&(a=_r[0],a.blockedOn===null);)mh(a),a.blockedOn===null&&_r.shift()}var Cn=z.ReactCurrentBatchConfig,zs=!0;function Wv(n,s,a,c){var f=Oe,g=Cn.transition;Cn.transition=null;try{Oe=1,ol(n,s,a,c)}finally{Oe=f,Cn.transition=g}}function qv(n,s,a,c){var f=Oe,g=Cn.transition;Cn.transition=null;try{Oe=4,ol(n,s,a,c)}finally{Oe=f,Cn.transition=g}}function ol(n,s,a,c){if(zs){var f=al(n,s,a,c);if(f===null)kl(n,s,c,Bs,a),gh(n,c);else if(Bv(f,n,s,a,c))c.stopPropagation();else if(gh(n,c),s&4&&-1<zv.indexOf(n)){for(;f!==null;){var g=Hi(f);if(g!==null&&dh(g),g=al(n,s,a,c),g===null&&kl(n,s,c,Bs,a),g===f)break;f=g}f!==null&&c.stopPropagation()}else kl(n,s,c,null,a)}}var Bs=null;function al(n,s,a,c){if(Bs=null,n=Ya(c),n=Gr(n),n!==null)if(s=Kr(n),s===null)n=null;else if(a=s.tag,a===13){if(n=th(s),n!==null)return n;n=null}else if(a===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;n=null}else s!==n&&(n=null);return Bs=n,null}function vh(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Iv()){case el:return 1;case ah:return 4;case Ns:case Av:return 16;case lh:return 536870912;default:return 16}default:return 16}}var Sr=null,ll=null,Hs=null;function wh(){if(Hs)return Hs;var n,s=ll,a=s.length,c,f="value"in Sr?Sr.value:Sr.textContent,g=f.length;for(n=0;n<a&&s[n]===f[n];n++);var _=a-n;for(c=1;c<=_&&s[a-c]===f[g-c];c++);return Hs=f.slice(n,1<c?1-c:void 0)}function Ws(n){var s=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&s===13&&(n=13)):n=s,n===10&&(n=13),32<=n||n===13?n:0}function qs(){return!0}function _h(){return!1}function yt(n){function s(a,c,f,g,_){this._reactName=a,this._targetInst=f,this.type=c,this.nativeEvent=g,this.target=_,this.currentTarget=null;for(var T in n)n.hasOwnProperty(T)&&(a=n[T],this[T]=a?a(g):g[T]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?qs:_h,this.isPropagationStopped=_h,this}return M(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=qs)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=qs)},persist:function(){},isPersistent:qs}),s}var Pn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ul=yt(Pn),Ii=M({},Pn,{view:0,detail:0}),Vv=yt(Ii),cl,dl,Ai,Vs=M({},Ii,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:fl,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Ai&&(Ai&&n.type==="mousemove"?(cl=n.screenX-Ai.screenX,dl=n.screenY-Ai.screenY):dl=cl=0,Ai=n),cl)},movementY:function(n){return"movementY"in n?n.movementY:dl}}),Sh=yt(Vs),Kv=M({},Vs,{dataTransfer:0}),Gv=yt(Kv),Yv=M({},Ii,{relatedTarget:0}),hl=yt(Yv),Jv=M({},Pn,{animationName:0,elapsedTime:0,pseudoElement:0}),Qv=yt(Jv),Xv=M({},Pn,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),Zv=yt(Xv),e0=M({},Pn,{data:0}),bh=yt(e0),t0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},r0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},n0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function i0(n){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(n):(n=n0[n])?!!s[n]:!1}function fl(){return i0}var s0=M({},Ii,{key:function(n){if(n.key){var s=t0[n.key]||n.key;if(s!=="Unidentified")return s}return n.type==="keypress"?(n=Ws(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?r0[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:fl,charCode:function(n){return n.type==="keypress"?Ws(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?Ws(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),o0=yt(s0),a0=M({},Vs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Eh=yt(a0),l0=M({},Ii,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:fl}),u0=yt(l0),c0=M({},Pn,{propertyName:0,elapsedTime:0,pseudoElement:0}),d0=yt(c0),h0=M({},Vs,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),f0=yt(h0),p0=[9,13,27,32],pl=d&&"CompositionEvent"in window,Ni=null;d&&"documentMode"in document&&(Ni=document.documentMode);var g0=d&&"TextEvent"in window&&!Ni,kh=d&&(!pl||Ni&&8<Ni&&11>=Ni),xh=" ",Th=!1;function Oh(n,s){switch(n){case"keyup":return p0.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ch(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Rn=!1;function m0(n,s){switch(n){case"compositionend":return Ch(s);case"keypress":return s.which!==32?null:(Th=!0,xh);case"textInput":return n=s.data,n===xh&&Th?null:n;default:return null}}function y0(n,s){if(Rn)return n==="compositionend"||!pl&&Oh(n,s)?(n=wh(),Hs=ll=Sr=null,Rn=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return kh&&s.locale!=="ko"?null:s.data;default:return null}}var v0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ph(n){var s=n&&n.nodeName&&n.nodeName.toLowerCase();return s==="input"?!!v0[n.type]:s==="textarea"}function Rh(n,s,a,c){Jd(c),s=Qs(s,"onChange"),0<s.length&&(a=new ul("onChange","change",null,a,c),n.push({event:a,listeners:s}))}var ji=null,Mi=null;function w0(n){Gh(n,0)}function Ks(n){var s=jn(n);if(Ld(s))return n}function _0(n,s){if(n==="change")return s}var Dh=!1;if(d){var gl;if(d){var ml="oninput"in document;if(!ml){var Ih=document.createElement("div");Ih.setAttribute("oninput","return;"),ml=typeof Ih.oninput=="function"}gl=ml}else gl=!1;Dh=gl&&(!document.documentMode||9<document.documentMode)}function Ah(){ji&&(ji.detachEvent("onpropertychange",Nh),Mi=ji=null)}function Nh(n){if(n.propertyName==="value"&&Ks(Mi)){var s=[];Rh(s,Mi,n,Ya(n)),eh(w0,s)}}function S0(n,s,a){n==="focusin"?(Ah(),ji=s,Mi=a,ji.attachEvent("onpropertychange",Nh)):n==="focusout"&&Ah()}function b0(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return Ks(Mi)}function E0(n,s){if(n==="click")return Ks(s)}function k0(n,s){if(n==="input"||n==="change")return Ks(s)}function x0(n,s){return n===s&&(n!==0||1/n===1/s)||n!==n&&s!==s}var Mt=typeof Object.is=="function"?Object.is:x0;function $i(n,s){if(Mt(n,s))return!0;if(typeof n!="object"||n===null||typeof s!="object"||s===null)return!1;var a=Object.keys(n),c=Object.keys(s);if(a.length!==c.length)return!1;for(c=0;c<a.length;c++){var f=a[c];if(!h.call(s,f)||!Mt(n[f],s[f]))return!1}return!0}function jh(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function Mh(n,s){var a=jh(n);n=0;for(var c;a;){if(a.nodeType===3){if(c=n+a.textContent.length,n<=s&&c>=s)return{node:a,offset:s-n};n=c}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=jh(a)}}function $h(n,s){return n&&s?n===s?!0:n&&n.nodeType===3?!1:s&&s.nodeType===3?$h(n,s.parentNode):"contains"in n?n.contains(s):n.compareDocumentPosition?!!(n.compareDocumentPosition(s)&16):!1:!1}function Lh(){for(var n=window,s=Rs();s instanceof n.HTMLIFrameElement;){try{var a=typeof s.contentWindow.location.href=="string"}catch{a=!1}if(a)n=s.contentWindow;else break;s=Rs(n.document)}return s}function yl(n){var s=n&&n.nodeName&&n.nodeName.toLowerCase();return s&&(s==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||s==="textarea"||n.contentEditable==="true")}function T0(n){var s=Lh(),a=n.focusedElem,c=n.selectionRange;if(s!==a&&a&&a.ownerDocument&&$h(a.ownerDocument.documentElement,a)){if(c!==null&&yl(a)){if(s=c.start,n=c.end,n===void 0&&(n=s),"selectionStart"in a)a.selectionStart=s,a.selectionEnd=Math.min(n,a.value.length);else if(n=(s=a.ownerDocument||document)&&s.defaultView||window,n.getSelection){n=n.getSelection();var f=a.textContent.length,g=Math.min(c.start,f);c=c.end===void 0?g:Math.min(c.end,f),!n.extend&&g>c&&(f=c,c=g,g=f),f=Mh(a,g);var _=Mh(a,c);f&&_&&(n.rangeCount!==1||n.anchorNode!==f.node||n.anchorOffset!==f.offset||n.focusNode!==_.node||n.focusOffset!==_.offset)&&(s=s.createRange(),s.setStart(f.node,f.offset),n.removeAllRanges(),g>c?(n.addRange(s),n.extend(_.node,_.offset)):(s.setEnd(_.node,_.offset),n.addRange(s)))}}for(s=[],n=a;n=n.parentNode;)n.nodeType===1&&s.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof a.focus=="function"&&a.focus(),a=0;a<s.length;a++)n=s[a],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var O0=d&&"documentMode"in document&&11>=document.documentMode,Dn=null,vl=null,Li=null,wl=!1;function Uh(n,s,a){var c=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;wl||Dn==null||Dn!==Rs(c)||(c=Dn,"selectionStart"in c&&yl(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),Li&&$i(Li,c)||(Li=c,c=Qs(vl,"onSelect"),0<c.length&&(s=new ul("onSelect","select",null,s,a),n.push({event:s,listeners:c}),s.target=Dn)))}function Gs(n,s){var a={};return a[n.toLowerCase()]=s.toLowerCase(),a["Webkit"+n]="webkit"+s,a["Moz"+n]="moz"+s,a}var In={animationend:Gs("Animation","AnimationEnd"),animationiteration:Gs("Animation","AnimationIteration"),animationstart:Gs("Animation","AnimationStart"),transitionend:Gs("Transition","TransitionEnd")},_l={},Fh={};d&&(Fh=document.createElement("div").style,"AnimationEvent"in window||(delete In.animationend.animation,delete In.animationiteration.animation,delete In.animationstart.animation),"TransitionEvent"in window||delete In.transitionend.transition);function Ys(n){if(_l[n])return _l[n];if(!In[n])return n;var s=In[n],a;for(a in s)if(s.hasOwnProperty(a)&&a in Fh)return _l[n]=s[a];return n}var zh=Ys("animationend"),Bh=Ys("animationiteration"),Hh=Ys("animationstart"),Wh=Ys("transitionend"),qh=new Map,Vh="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function br(n,s){qh.set(n,s),l(s,[n])}for(var Sl=0;Sl<Vh.length;Sl++){var bl=Vh[Sl],C0=bl.toLowerCase(),P0=bl[0].toUpperCase()+bl.slice(1);br(C0,"on"+P0)}br(zh,"onAnimationEnd"),br(Bh,"onAnimationIteration"),br(Hh,"onAnimationStart"),br("dblclick","onDoubleClick"),br("focusin","onFocus"),br("focusout","onBlur"),br(Wh,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ui="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),R0=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ui));function Kh(n,s,a){var c=n.type||"unknown-event";n.currentTarget=a,Cv(c,s,void 0,n),n.currentTarget=null}function Gh(n,s){s=(s&4)!==0;for(var a=0;a<n.length;a++){var c=n[a],f=c.event;c=c.listeners;e:{var g=void 0;if(s)for(var _=c.length-1;0<=_;_--){var T=c[_],P=T.instance,H=T.currentTarget;if(T=T.listener,P!==g&&f.isPropagationStopped())break e;Kh(f,T,H),g=P}else for(_=0;_<c.length;_++){if(T=c[_],P=T.instance,H=T.currentTarget,T=T.listener,P!==g&&f.isPropagationStopped())break e;Kh(f,T,H),g=P}}}if(As)throw n=Za,As=!1,Za=null,n}function Ie(n,s){var a=s[Rl];a===void 0&&(a=s[Rl]=new Set);var c=n+"__bubble";a.has(c)||(Yh(s,n,2,!1),a.add(c))}function El(n,s,a){var c=0;s&&(c|=4),Yh(a,n,c,s)}var Js="_reactListening"+Math.random().toString(36).slice(2);function Fi(n){if(!n[Js]){n[Js]=!0,i.forEach(function(a){a!=="selectionchange"&&(R0.has(a)||El(a,!1,n),El(a,!0,n))});var s=n.nodeType===9?n:n.ownerDocument;s===null||s[Js]||(s[Js]=!0,El("selectionchange",!1,s))}}function Yh(n,s,a,c){switch(vh(s)){case 1:var f=Wv;break;case 4:f=qv;break;default:f=ol}a=f.bind(null,s,a,n),f=void 0,!Xa||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(f=!0),c?f!==void 0?n.addEventListener(s,a,{capture:!0,passive:f}):n.addEventListener(s,a,!0):f!==void 0?n.addEventListener(s,a,{passive:f}):n.addEventListener(s,a,!1)}function kl(n,s,a,c,f){var g=c;if(!(s&1)&&!(s&2)&&c!==null)e:for(;;){if(c===null)return;var _=c.tag;if(_===3||_===4){var T=c.stateNode.containerInfo;if(T===f||T.nodeType===8&&T.parentNode===f)break;if(_===4)for(_=c.return;_!==null;){var P=_.tag;if((P===3||P===4)&&(P=_.stateNode.containerInfo,P===f||P.nodeType===8&&P.parentNode===f))return;_=_.return}for(;T!==null;){if(_=Gr(T),_===null)return;if(P=_.tag,P===5||P===6){c=g=_;continue e}T=T.parentNode}}c=c.return}eh(function(){var H=g,Q=Ya(a),X=[];e:{var J=qh.get(n);if(J!==void 0){var ne=ul,oe=n;switch(n){case"keypress":if(Ws(a)===0)break e;case"keydown":case"keyup":ne=o0;break;case"focusin":oe="focus",ne=hl;break;case"focusout":oe="blur",ne=hl;break;case"beforeblur":case"afterblur":ne=hl;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ne=Sh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ne=Gv;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ne=u0;break;case zh:case Bh:case Hh:ne=Qv;break;case Wh:ne=d0;break;case"scroll":ne=Vv;break;case"wheel":ne=f0;break;case"copy":case"cut":case"paste":ne=Zv;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ne=Eh}var ae=(s&4)!==0,Be=!ae&&n==="scroll",L=ae?J!==null?J+"Capture":null:J;ae=[];for(var I=H,B;I!==null;){B=I;var te=B.stateNode;if(B.tag===5&&te!==null&&(B=te,L!==null&&(te=bi(I,L),te!=null&&ae.push(zi(I,te,B)))),Be)break;I=I.return}0<ae.length&&(J=new ne(J,oe,null,a,Q),X.push({event:J,listeners:ae}))}}if(!(s&7)){e:{if(J=n==="mouseover"||n==="pointerover",ne=n==="mouseout"||n==="pointerout",J&&a!==Ga&&(oe=a.relatedTarget||a.fromElement)&&(Gr(oe)||oe[ir]))break e;if((ne||J)&&(J=Q.window===Q?Q:(J=Q.ownerDocument)?J.defaultView||J.parentWindow:window,ne?(oe=a.relatedTarget||a.toElement,ne=H,oe=oe?Gr(oe):null,oe!==null&&(Be=Kr(oe),oe!==Be||oe.tag!==5&&oe.tag!==6)&&(oe=null)):(ne=null,oe=H),ne!==oe)){if(ae=Sh,te="onMouseLeave",L="onMouseEnter",I="mouse",(n==="pointerout"||n==="pointerover")&&(ae=Eh,te="onPointerLeave",L="onPointerEnter",I="pointer"),Be=ne==null?J:jn(ne),B=oe==null?J:jn(oe),J=new ae(te,I+"leave",ne,a,Q),J.target=Be,J.relatedTarget=B,te=null,Gr(Q)===H&&(ae=new ae(L,I+"enter",oe,a,Q),ae.target=B,ae.relatedTarget=Be,te=ae),Be=te,ne&&oe)t:{for(ae=ne,L=oe,I=0,B=ae;B;B=An(B))I++;for(B=0,te=L;te;te=An(te))B++;for(;0<I-B;)ae=An(ae),I--;for(;0<B-I;)L=An(L),B--;for(;I--;){if(ae===L||L!==null&&ae===L.alternate)break t;ae=An(ae),L=An(L)}ae=null}else ae=null;ne!==null&&Jh(X,J,ne,ae,!1),oe!==null&&Be!==null&&Jh(X,Be,oe,ae,!0)}}e:{if(J=H?jn(H):window,ne=J.nodeName&&J.nodeName.toLowerCase(),ne==="select"||ne==="input"&&J.type==="file")var ue=_0;else if(Ph(J))if(Dh)ue=k0;else{ue=b0;var de=S0}else(ne=J.nodeName)&&ne.toLowerCase()==="input"&&(J.type==="checkbox"||J.type==="radio")&&(ue=E0);if(ue&&(ue=ue(n,H))){Rh(X,ue,a,Q);break e}de&&de(n,J,H),n==="focusout"&&(de=J._wrapperState)&&de.controlled&&J.type==="number"&&Ha(J,"number",J.value)}switch(de=H?jn(H):window,n){case"focusin":(Ph(de)||de.contentEditable==="true")&&(Dn=de,vl=H,Li=null);break;case"focusout":Li=vl=Dn=null;break;case"mousedown":wl=!0;break;case"contextmenu":case"mouseup":case"dragend":wl=!1,Uh(X,a,Q);break;case"selectionchange":if(O0)break;case"keydown":case"keyup":Uh(X,a,Q)}var he;if(pl)e:{switch(n){case"compositionstart":var me="onCompositionStart";break e;case"compositionend":me="onCompositionEnd";break e;case"compositionupdate":me="onCompositionUpdate";break e}me=void 0}else Rn?Oh(n,a)&&(me="onCompositionEnd"):n==="keydown"&&a.keyCode===229&&(me="onCompositionStart");me&&(kh&&a.locale!=="ko"&&(Rn||me!=="onCompositionStart"?me==="onCompositionEnd"&&Rn&&(he=wh()):(Sr=Q,ll="value"in Sr?Sr.value:Sr.textContent,Rn=!0)),de=Qs(H,me),0<de.length&&(me=new bh(me,n,null,a,Q),X.push({event:me,listeners:de}),he?me.data=he:(he=Ch(a),he!==null&&(me.data=he)))),(he=g0?m0(n,a):y0(n,a))&&(H=Qs(H,"onBeforeInput"),0<H.length&&(Q=new bh("onBeforeInput","beforeinput",null,a,Q),X.push({event:Q,listeners:H}),Q.data=he))}Gh(X,s)})}function zi(n,s,a){return{instance:n,listener:s,currentTarget:a}}function Qs(n,s){for(var a=s+"Capture",c=[];n!==null;){var f=n,g=f.stateNode;f.tag===5&&g!==null&&(f=g,g=bi(n,a),g!=null&&c.unshift(zi(n,g,f)),g=bi(n,s),g!=null&&c.push(zi(n,g,f))),n=n.return}return c}function An(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function Jh(n,s,a,c,f){for(var g=s._reactName,_=[];a!==null&&a!==c;){var T=a,P=T.alternate,H=T.stateNode;if(P!==null&&P===c)break;T.tag===5&&H!==null&&(T=H,f?(P=bi(a,g),P!=null&&_.unshift(zi(a,P,T))):f||(P=bi(a,g),P!=null&&_.push(zi(a,P,T)))),a=a.return}_.length!==0&&n.push({event:s,listeners:_})}var D0=/\r\n?/g,I0=/\u0000|\uFFFD/g;function Qh(n){return(typeof n=="string"?n:""+n).replace(D0,`
`).replace(I0,"")}function Xs(n,s,a){if(s=Qh(s),Qh(n)!==s&&a)throw Error(t(425))}function Zs(){}var xl=null,Tl=null;function Ol(n,s){return n==="textarea"||n==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Cl=typeof setTimeout=="function"?setTimeout:void 0,A0=typeof clearTimeout=="function"?clearTimeout:void 0,Xh=typeof Promise=="function"?Promise:void 0,N0=typeof queueMicrotask=="function"?queueMicrotask:typeof Xh<"u"?function(n){return Xh.resolve(null).then(n).catch(j0)}:Cl;function j0(n){setTimeout(function(){throw n})}function Pl(n,s){var a=s,c=0;do{var f=a.nextSibling;if(n.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"){if(c===0){n.removeChild(f),Di(s);return}c--}else a!=="$"&&a!=="$?"&&a!=="$!"||c++;a=f}while(a);Di(s)}function Er(n){for(;n!=null;n=n.nextSibling){var s=n.nodeType;if(s===1||s===3)break;if(s===8){if(s=n.data,s==="$"||s==="$!"||s==="$?")break;if(s==="/$")return null}}return n}function Zh(n){n=n.previousSibling;for(var s=0;n;){if(n.nodeType===8){var a=n.data;if(a==="$"||a==="$!"||a==="$?"){if(s===0)return n;s--}else a==="/$"&&s++}n=n.previousSibling}return null}var Nn=Math.random().toString(36).slice(2),Gt="__reactFiber$"+Nn,Bi="__reactProps$"+Nn,ir="__reactContainer$"+Nn,Rl="__reactEvents$"+Nn,M0="__reactListeners$"+Nn,$0="__reactHandles$"+Nn;function Gr(n){var s=n[Gt];if(s)return s;for(var a=n.parentNode;a;){if(s=a[ir]||a[Gt]){if(a=s.alternate,s.child!==null||a!==null&&a.child!==null)for(n=Zh(n);n!==null;){if(a=n[Gt])return a;n=Zh(n)}return s}n=a,a=n.parentNode}return null}function Hi(n){return n=n[Gt]||n[ir],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function jn(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(t(33))}function eo(n){return n[Bi]||null}var Dl=[],Mn=-1;function kr(n){return{current:n}}function Ae(n){0>Mn||(n.current=Dl[Mn],Dl[Mn]=null,Mn--)}function Re(n,s){Mn++,Dl[Mn]=n.current,n.current=s}var xr={},nt=kr(xr),ct=kr(!1),Yr=xr;function $n(n,s){var a=n.type.contextTypes;if(!a)return xr;var c=n.stateNode;if(c&&c.__reactInternalMemoizedUnmaskedChildContext===s)return c.__reactInternalMemoizedMaskedChildContext;var f={},g;for(g in a)f[g]=s[g];return c&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=s,n.__reactInternalMemoizedMaskedChildContext=f),f}function dt(n){return n=n.childContextTypes,n!=null}function to(){Ae(ct),Ae(nt)}function ef(n,s,a){if(nt.current!==xr)throw Error(t(168));Re(nt,s),Re(ct,a)}function tf(n,s,a){var c=n.stateNode;if(s=s.childContextTypes,typeof c.getChildContext!="function")return a;c=c.getChildContext();for(var f in c)if(!(f in s))throw Error(t(108,ke(n)||"Unknown",f));return M({},a,c)}function ro(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||xr,Yr=nt.current,Re(nt,n),Re(ct,ct.current),!0}function rf(n,s,a){var c=n.stateNode;if(!c)throw Error(t(169));a?(n=tf(n,s,Yr),c.__reactInternalMemoizedMergedChildContext=n,Ae(ct),Ae(nt),Re(nt,n)):Ae(ct),Re(ct,a)}var sr=null,no=!1,Il=!1;function nf(n){sr===null?sr=[n]:sr.push(n)}function L0(n){no=!0,nf(n)}function Tr(){if(!Il&&sr!==null){Il=!0;var n=0,s=Oe;try{var a=sr;for(Oe=1;n<a.length;n++){var c=a[n];do c=c(!0);while(c!==null)}sr=null,no=!1}catch(f){throw sr!==null&&(sr=sr.slice(n+1)),sh(el,Tr),f}finally{Oe=s,Il=!1}}return null}var Ln=[],Un=0,io=null,so=0,Tt=[],Ot=0,Jr=null,or=1,ar="";function Qr(n,s){Ln[Un++]=so,Ln[Un++]=io,io=n,so=s}function sf(n,s,a){Tt[Ot++]=or,Tt[Ot++]=ar,Tt[Ot++]=Jr,Jr=n;var c=or;n=ar;var f=32-jt(c)-1;c&=~(1<<f),a+=1;var g=32-jt(s)+f;if(30<g){var _=f-f%5;g=(c&(1<<_)-1).toString(32),c>>=_,f-=_,or=1<<32-jt(s)+f|a<<f|c,ar=g+n}else or=1<<g|a<<f|c,ar=n}function Al(n){n.return!==null&&(Qr(n,1),sf(n,1,0))}function Nl(n){for(;n===io;)io=Ln[--Un],Ln[Un]=null,so=Ln[--Un],Ln[Un]=null;for(;n===Jr;)Jr=Tt[--Ot],Tt[Ot]=null,ar=Tt[--Ot],Tt[Ot]=null,or=Tt[--Ot],Tt[Ot]=null}var vt=null,wt=null,Ne=!1,$t=null;function of(n,s){var a=Dt(5,null,null,0);a.elementType="DELETED",a.stateNode=s,a.return=n,s=n.deletions,s===null?(n.deletions=[a],n.flags|=16):s.push(a)}function af(n,s){switch(n.tag){case 5:var a=n.type;return s=s.nodeType!==1||a.toLowerCase()!==s.nodeName.toLowerCase()?null:s,s!==null?(n.stateNode=s,vt=n,wt=Er(s.firstChild),!0):!1;case 6:return s=n.pendingProps===""||s.nodeType!==3?null:s,s!==null?(n.stateNode=s,vt=n,wt=null,!0):!1;case 13:return s=s.nodeType!==8?null:s,s!==null?(a=Jr!==null?{id:or,overflow:ar}:null,n.memoizedState={dehydrated:s,treeContext:a,retryLane:1073741824},a=Dt(18,null,null,0),a.stateNode=s,a.return=n,n.child=a,vt=n,wt=null,!0):!1;default:return!1}}function jl(n){return(n.mode&1)!==0&&(n.flags&128)===0}function Ml(n){if(Ne){var s=wt;if(s){var a=s;if(!af(n,s)){if(jl(n))throw Error(t(418));s=Er(a.nextSibling);var c=vt;s&&af(n,s)?of(c,a):(n.flags=n.flags&-4097|2,Ne=!1,vt=n)}}else{if(jl(n))throw Error(t(418));n.flags=n.flags&-4097|2,Ne=!1,vt=n}}}function lf(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;vt=n}function oo(n){if(n!==vt)return!1;if(!Ne)return lf(n),Ne=!0,!1;var s;if((s=n.tag!==3)&&!(s=n.tag!==5)&&(s=n.type,s=s!=="head"&&s!=="body"&&!Ol(n.type,n.memoizedProps)),s&&(s=wt)){if(jl(n))throw uf(),Error(t(418));for(;s;)of(n,s),s=Er(s.nextSibling)}if(lf(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(t(317));e:{for(n=n.nextSibling,s=0;n;){if(n.nodeType===8){var a=n.data;if(a==="/$"){if(s===0){wt=Er(n.nextSibling);break e}s--}else a!=="$"&&a!=="$!"&&a!=="$?"||s++}n=n.nextSibling}wt=null}}else wt=vt?Er(n.stateNode.nextSibling):null;return!0}function uf(){for(var n=wt;n;)n=Er(n.nextSibling)}function Fn(){wt=vt=null,Ne=!1}function $l(n){$t===null?$t=[n]:$t.push(n)}var U0=z.ReactCurrentBatchConfig;function Wi(n,s,a){if(n=a.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(a._owner){if(a=a._owner,a){if(a.tag!==1)throw Error(t(309));var c=a.stateNode}if(!c)throw Error(t(147,n));var f=c,g=""+n;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===g?s.ref:(s=function(_){var T=f.refs;_===null?delete T[g]:T[g]=_},s._stringRef=g,s)}if(typeof n!="string")throw Error(t(284));if(!a._owner)throw Error(t(290,n))}return n}function ao(n,s){throw n=Object.prototype.toString.call(s),Error(t(31,n==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":n))}function cf(n){var s=n._init;return s(n._payload)}function df(n){function s(L,I){if(n){var B=L.deletions;B===null?(L.deletions=[I],L.flags|=16):B.push(I)}}function a(L,I){if(!n)return null;for(;I!==null;)s(L,I),I=I.sibling;return null}function c(L,I){for(L=new Map;I!==null;)I.key!==null?L.set(I.key,I):L.set(I.index,I),I=I.sibling;return L}function f(L,I){return L=Nr(L,I),L.index=0,L.sibling=null,L}function g(L,I,B){return L.index=B,n?(B=L.alternate,B!==null?(B=B.index,B<I?(L.flags|=2,I):B):(L.flags|=2,I)):(L.flags|=1048576,I)}function _(L){return n&&L.alternate===null&&(L.flags|=2),L}function T(L,I,B,te){return I===null||I.tag!==6?(I=Cu(B,L.mode,te),I.return=L,I):(I=f(I,B),I.return=L,I)}function P(L,I,B,te){var ue=B.type;return ue===j?Q(L,I,B.props.children,te,B.key):I!==null&&(I.elementType===ue||typeof ue=="object"&&ue!==null&&ue.$$typeof===$&&cf(ue)===I.type)?(te=f(I,B.props),te.ref=Wi(L,I,B),te.return=L,te):(te=Io(B.type,B.key,B.props,null,L.mode,te),te.ref=Wi(L,I,B),te.return=L,te)}function H(L,I,B,te){return I===null||I.tag!==4||I.stateNode.containerInfo!==B.containerInfo||I.stateNode.implementation!==B.implementation?(I=Pu(B,L.mode,te),I.return=L,I):(I=f(I,B.children||[]),I.return=L,I)}function Q(L,I,B,te,ue){return I===null||I.tag!==7?(I=on(B,L.mode,te,ue),I.return=L,I):(I=f(I,B),I.return=L,I)}function X(L,I,B){if(typeof I=="string"&&I!==""||typeof I=="number")return I=Cu(""+I,L.mode,B),I.return=L,I;if(typeof I=="object"&&I!==null){switch(I.$$typeof){case F:return B=Io(I.type,I.key,I.props,null,L.mode,B),B.ref=Wi(L,null,I),B.return=L,B;case U:return I=Pu(I,L.mode,B),I.return=L,I;case $:var te=I._init;return X(L,te(I._payload),B)}if(wi(I)||G(I))return I=on(I,L.mode,B,null),I.return=L,I;ao(L,I)}return null}function J(L,I,B,te){var ue=I!==null?I.key:null;if(typeof B=="string"&&B!==""||typeof B=="number")return ue!==null?null:T(L,I,""+B,te);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case F:return B.key===ue?P(L,I,B,te):null;case U:return B.key===ue?H(L,I,B,te):null;case $:return ue=B._init,J(L,I,ue(B._payload),te)}if(wi(B)||G(B))return ue!==null?null:Q(L,I,B,te,null);ao(L,B)}return null}function ne(L,I,B,te,ue){if(typeof te=="string"&&te!==""||typeof te=="number")return L=L.get(B)||null,T(I,L,""+te,ue);if(typeof te=="object"&&te!==null){switch(te.$$typeof){case F:return L=L.get(te.key===null?B:te.key)||null,P(I,L,te,ue);case U:return L=L.get(te.key===null?B:te.key)||null,H(I,L,te,ue);case $:var de=te._init;return ne(L,I,B,de(te._payload),ue)}if(wi(te)||G(te))return L=L.get(B)||null,Q(I,L,te,ue,null);ao(I,te)}return null}function oe(L,I,B,te){for(var ue=null,de=null,he=I,me=I=0,Qe=null;he!==null&&me<B.length;me++){he.index>me?(Qe=he,he=null):Qe=he.sibling;var xe=J(L,he,B[me],te);if(xe===null){he===null&&(he=Qe);break}n&&he&&xe.alternate===null&&s(L,he),I=g(xe,I,me),de===null?ue=xe:de.sibling=xe,de=xe,he=Qe}if(me===B.length)return a(L,he),Ne&&Qr(L,me),ue;if(he===null){for(;me<B.length;me++)he=X(L,B[me],te),he!==null&&(I=g(he,I,me),de===null?ue=he:de.sibling=he,de=he);return Ne&&Qr(L,me),ue}for(he=c(L,he);me<B.length;me++)Qe=ne(he,L,me,B[me],te),Qe!==null&&(n&&Qe.alternate!==null&&he.delete(Qe.key===null?me:Qe.key),I=g(Qe,I,me),de===null?ue=Qe:de.sibling=Qe,de=Qe);return n&&he.forEach(function(jr){return s(L,jr)}),Ne&&Qr(L,me),ue}function ae(L,I,B,te){var ue=G(B);if(typeof ue!="function")throw Error(t(150));if(B=ue.call(B),B==null)throw Error(t(151));for(var de=ue=null,he=I,me=I=0,Qe=null,xe=B.next();he!==null&&!xe.done;me++,xe=B.next()){he.index>me?(Qe=he,he=null):Qe=he.sibling;var jr=J(L,he,xe.value,te);if(jr===null){he===null&&(he=Qe);break}n&&he&&jr.alternate===null&&s(L,he),I=g(jr,I,me),de===null?ue=jr:de.sibling=jr,de=jr,he=Qe}if(xe.done)return a(L,he),Ne&&Qr(L,me),ue;if(he===null){for(;!xe.done;me++,xe=B.next())xe=X(L,xe.value,te),xe!==null&&(I=g(xe,I,me),de===null?ue=xe:de.sibling=xe,de=xe);return Ne&&Qr(L,me),ue}for(he=c(L,he);!xe.done;me++,xe=B.next())xe=ne(he,L,me,xe.value,te),xe!==null&&(n&&xe.alternate!==null&&he.delete(xe.key===null?me:xe.key),I=g(xe,I,me),de===null?ue=xe:de.sibling=xe,de=xe);return n&&he.forEach(function(yw){return s(L,yw)}),Ne&&Qr(L,me),ue}function Be(L,I,B,te){if(typeof B=="object"&&B!==null&&B.type===j&&B.key===null&&(B=B.props.children),typeof B=="object"&&B!==null){switch(B.$$typeof){case F:e:{for(var ue=B.key,de=I;de!==null;){if(de.key===ue){if(ue=B.type,ue===j){if(de.tag===7){a(L,de.sibling),I=f(de,B.props.children),I.return=L,L=I;break e}}else if(de.elementType===ue||typeof ue=="object"&&ue!==null&&ue.$$typeof===$&&cf(ue)===de.type){a(L,de.sibling),I=f(de,B.props),I.ref=Wi(L,de,B),I.return=L,L=I;break e}a(L,de);break}else s(L,de);de=de.sibling}B.type===j?(I=on(B.props.children,L.mode,te,B.key),I.return=L,L=I):(te=Io(B.type,B.key,B.props,null,L.mode,te),te.ref=Wi(L,I,B),te.return=L,L=te)}return _(L);case U:e:{for(de=B.key;I!==null;){if(I.key===de)if(I.tag===4&&I.stateNode.containerInfo===B.containerInfo&&I.stateNode.implementation===B.implementation){a(L,I.sibling),I=f(I,B.children||[]),I.return=L,L=I;break e}else{a(L,I);break}else s(L,I);I=I.sibling}I=Pu(B,L.mode,te),I.return=L,L=I}return _(L);case $:return de=B._init,Be(L,I,de(B._payload),te)}if(wi(B))return oe(L,I,B,te);if(G(B))return ae(L,I,B,te);ao(L,B)}return typeof B=="string"&&B!==""||typeof B=="number"?(B=""+B,I!==null&&I.tag===6?(a(L,I.sibling),I=f(I,B),I.return=L,L=I):(a(L,I),I=Cu(B,L.mode,te),I.return=L,L=I),_(L)):a(L,I)}return Be}var zn=df(!0),hf=df(!1),lo=kr(null),uo=null,Bn=null,Ll=null;function Ul(){Ll=Bn=uo=null}function Fl(n){var s=lo.current;Ae(lo),n._currentValue=s}function zl(n,s,a){for(;n!==null;){var c=n.alternate;if((n.childLanes&s)!==s?(n.childLanes|=s,c!==null&&(c.childLanes|=s)):c!==null&&(c.childLanes&s)!==s&&(c.childLanes|=s),n===a)break;n=n.return}}function Hn(n,s){uo=n,Ll=Bn=null,n=n.dependencies,n!==null&&n.firstContext!==null&&(n.lanes&s&&(ht=!0),n.firstContext=null)}function Ct(n){var s=n._currentValue;if(Ll!==n)if(n={context:n,memoizedValue:s,next:null},Bn===null){if(uo===null)throw Error(t(308));Bn=n,uo.dependencies={lanes:0,firstContext:n}}else Bn=Bn.next=n;return s}var Xr=null;function Bl(n){Xr===null?Xr=[n]:Xr.push(n)}function ff(n,s,a,c){var f=s.interleaved;return f===null?(a.next=a,Bl(s)):(a.next=f.next,f.next=a),s.interleaved=a,lr(n,c)}function lr(n,s){n.lanes|=s;var a=n.alternate;for(a!==null&&(a.lanes|=s),a=n,n=n.return;n!==null;)n.childLanes|=s,a=n.alternate,a!==null&&(a.childLanes|=s),a=n,n=n.return;return a.tag===3?a.stateNode:null}var Or=!1;function Hl(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function pf(n,s){n=n.updateQueue,s.updateQueue===n&&(s.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function ur(n,s){return{eventTime:n,lane:s,tag:0,payload:null,callback:null,next:null}}function Cr(n,s,a){var c=n.updateQueue;if(c===null)return null;if(c=c.shared,Ee&2){var f=c.pending;return f===null?s.next=s:(s.next=f.next,f.next=s),c.pending=s,lr(n,a)}return f=c.interleaved,f===null?(s.next=s,Bl(c)):(s.next=f.next,f.next=s),c.interleaved=s,lr(n,a)}function co(n,s,a){if(s=s.updateQueue,s!==null&&(s=s.shared,(a&4194240)!==0)){var c=s.lanes;c&=n.pendingLanes,a|=c,s.lanes=a,nl(n,a)}}function gf(n,s){var a=n.updateQueue,c=n.alternate;if(c!==null&&(c=c.updateQueue,a===c)){var f=null,g=null;if(a=a.firstBaseUpdate,a!==null){do{var _={eventTime:a.eventTime,lane:a.lane,tag:a.tag,payload:a.payload,callback:a.callback,next:null};g===null?f=g=_:g=g.next=_,a=a.next}while(a!==null);g===null?f=g=s:g=g.next=s}else f=g=s;a={baseState:c.baseState,firstBaseUpdate:f,lastBaseUpdate:g,shared:c.shared,effects:c.effects},n.updateQueue=a;return}n=a.lastBaseUpdate,n===null?a.firstBaseUpdate=s:n.next=s,a.lastBaseUpdate=s}function ho(n,s,a,c){var f=n.updateQueue;Or=!1;var g=f.firstBaseUpdate,_=f.lastBaseUpdate,T=f.shared.pending;if(T!==null){f.shared.pending=null;var P=T,H=P.next;P.next=null,_===null?g=H:_.next=H,_=P;var Q=n.alternate;Q!==null&&(Q=Q.updateQueue,T=Q.lastBaseUpdate,T!==_&&(T===null?Q.firstBaseUpdate=H:T.next=H,Q.lastBaseUpdate=P))}if(g!==null){var X=f.baseState;_=0,Q=H=P=null,T=g;do{var J=T.lane,ne=T.eventTime;if((c&J)===J){Q!==null&&(Q=Q.next={eventTime:ne,lane:0,tag:T.tag,payload:T.payload,callback:T.callback,next:null});e:{var oe=n,ae=T;switch(J=s,ne=a,ae.tag){case 1:if(oe=ae.payload,typeof oe=="function"){X=oe.call(ne,X,J);break e}X=oe;break e;case 3:oe.flags=oe.flags&-65537|128;case 0:if(oe=ae.payload,J=typeof oe=="function"?oe.call(ne,X,J):oe,J==null)break e;X=M({},X,J);break e;case 2:Or=!0}}T.callback!==null&&T.lane!==0&&(n.flags|=64,J=f.effects,J===null?f.effects=[T]:J.push(T))}else ne={eventTime:ne,lane:J,tag:T.tag,payload:T.payload,callback:T.callback,next:null},Q===null?(H=Q=ne,P=X):Q=Q.next=ne,_|=J;if(T=T.next,T===null){if(T=f.shared.pending,T===null)break;J=T,T=J.next,J.next=null,f.lastBaseUpdate=J,f.shared.pending=null}}while(!0);if(Q===null&&(P=X),f.baseState=P,f.firstBaseUpdate=H,f.lastBaseUpdate=Q,s=f.shared.interleaved,s!==null){f=s;do _|=f.lane,f=f.next;while(f!==s)}else g===null&&(f.shared.lanes=0);tn|=_,n.lanes=_,n.memoizedState=X}}function mf(n,s,a){if(n=s.effects,s.effects=null,n!==null)for(s=0;s<n.length;s++){var c=n[s],f=c.callback;if(f!==null){if(c.callback=null,c=a,typeof f!="function")throw Error(t(191,f));f.call(c)}}}var qi={},Yt=kr(qi),Vi=kr(qi),Ki=kr(qi);function Zr(n){if(n===qi)throw Error(t(174));return n}function Wl(n,s){switch(Re(Ki,s),Re(Vi,n),Re(Yt,qi),n=s.nodeType,n){case 9:case 11:s=(s=s.documentElement)?s.namespaceURI:qa(null,"");break;default:n=n===8?s.parentNode:s,s=n.namespaceURI||null,n=n.tagName,s=qa(s,n)}Ae(Yt),Re(Yt,s)}function Wn(){Ae(Yt),Ae(Vi),Ae(Ki)}function yf(n){Zr(Ki.current);var s=Zr(Yt.current),a=qa(s,n.type);s!==a&&(Re(Vi,n),Re(Yt,a))}function ql(n){Vi.current===n&&(Ae(Yt),Ae(Vi))}var je=kr(0);function fo(n){for(var s=n;s!==null;){if(s.tag===13){var a=s.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if(s.flags&128)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var Vl=[];function Kl(){for(var n=0;n<Vl.length;n++)Vl[n]._workInProgressVersionPrimary=null;Vl.length=0}var po=z.ReactCurrentDispatcher,Gl=z.ReactCurrentBatchConfig,en=0,Me=null,qe=null,Ye=null,go=!1,Gi=!1,Yi=0,F0=0;function it(){throw Error(t(321))}function Yl(n,s){if(s===null)return!1;for(var a=0;a<s.length&&a<n.length;a++)if(!Mt(n[a],s[a]))return!1;return!0}function Jl(n,s,a,c,f,g){if(en=g,Me=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,po.current=n===null||n.memoizedState===null?W0:q0,n=a(c,f),Gi){g=0;do{if(Gi=!1,Yi=0,25<=g)throw Error(t(301));g+=1,Ye=qe=null,s.updateQueue=null,po.current=V0,n=a(c,f)}while(Gi)}if(po.current=vo,s=qe!==null&&qe.next!==null,en=0,Ye=qe=Me=null,go=!1,s)throw Error(t(300));return n}function Ql(){var n=Yi!==0;return Yi=0,n}function Jt(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ye===null?Me.memoizedState=Ye=n:Ye=Ye.next=n,Ye}function Pt(){if(qe===null){var n=Me.alternate;n=n!==null?n.memoizedState:null}else n=qe.next;var s=Ye===null?Me.memoizedState:Ye.next;if(s!==null)Ye=s,qe=n;else{if(n===null)throw Error(t(310));qe=n,n={memoizedState:qe.memoizedState,baseState:qe.baseState,baseQueue:qe.baseQueue,queue:qe.queue,next:null},Ye===null?Me.memoizedState=Ye=n:Ye=Ye.next=n}return Ye}function Ji(n,s){return typeof s=="function"?s(n):s}function Xl(n){var s=Pt(),a=s.queue;if(a===null)throw Error(t(311));a.lastRenderedReducer=n;var c=qe,f=c.baseQueue,g=a.pending;if(g!==null){if(f!==null){var _=f.next;f.next=g.next,g.next=_}c.baseQueue=f=g,a.pending=null}if(f!==null){g=f.next,c=c.baseState;var T=_=null,P=null,H=g;do{var Q=H.lane;if((en&Q)===Q)P!==null&&(P=P.next={lane:0,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null}),c=H.hasEagerState?H.eagerState:n(c,H.action);else{var X={lane:Q,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null};P===null?(T=P=X,_=c):P=P.next=X,Me.lanes|=Q,tn|=Q}H=H.next}while(H!==null&&H!==g);P===null?_=c:P.next=T,Mt(c,s.memoizedState)||(ht=!0),s.memoizedState=c,s.baseState=_,s.baseQueue=P,a.lastRenderedState=c}if(n=a.interleaved,n!==null){f=n;do g=f.lane,Me.lanes|=g,tn|=g,f=f.next;while(f!==n)}else f===null&&(a.lanes=0);return[s.memoizedState,a.dispatch]}function Zl(n){var s=Pt(),a=s.queue;if(a===null)throw Error(t(311));a.lastRenderedReducer=n;var c=a.dispatch,f=a.pending,g=s.memoizedState;if(f!==null){a.pending=null;var _=f=f.next;do g=n(g,_.action),_=_.next;while(_!==f);Mt(g,s.memoizedState)||(ht=!0),s.memoizedState=g,s.baseQueue===null&&(s.baseState=g),a.lastRenderedState=g}return[g,c]}function vf(){}function wf(n,s){var a=Me,c=Pt(),f=s(),g=!Mt(c.memoizedState,f);if(g&&(c.memoizedState=f,ht=!0),c=c.queue,eu(bf.bind(null,a,c,n),[n]),c.getSnapshot!==s||g||Ye!==null&&Ye.memoizedState.tag&1){if(a.flags|=2048,Qi(9,Sf.bind(null,a,c,f,s),void 0,null),Je===null)throw Error(t(349));en&30||_f(a,s,f)}return f}function _f(n,s,a){n.flags|=16384,n={getSnapshot:s,value:a},s=Me.updateQueue,s===null?(s={lastEffect:null,stores:null},Me.updateQueue=s,s.stores=[n]):(a=s.stores,a===null?s.stores=[n]:a.push(n))}function Sf(n,s,a,c){s.value=a,s.getSnapshot=c,Ef(s)&&kf(n)}function bf(n,s,a){return a(function(){Ef(s)&&kf(n)})}function Ef(n){var s=n.getSnapshot;n=n.value;try{var a=s();return!Mt(n,a)}catch{return!0}}function kf(n){var s=lr(n,1);s!==null&&zt(s,n,1,-1)}function xf(n){var s=Jt();return typeof n=="function"&&(n=n()),s.memoizedState=s.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ji,lastRenderedState:n},s.queue=n,n=n.dispatch=H0.bind(null,Me,n),[s.memoizedState,n]}function Qi(n,s,a,c){return n={tag:n,create:s,destroy:a,deps:c,next:null},s=Me.updateQueue,s===null?(s={lastEffect:null,stores:null},Me.updateQueue=s,s.lastEffect=n.next=n):(a=s.lastEffect,a===null?s.lastEffect=n.next=n:(c=a.next,a.next=n,n.next=c,s.lastEffect=n)),n}function Tf(){return Pt().memoizedState}function mo(n,s,a,c){var f=Jt();Me.flags|=n,f.memoizedState=Qi(1|s,a,void 0,c===void 0?null:c)}function yo(n,s,a,c){var f=Pt();c=c===void 0?null:c;var g=void 0;if(qe!==null){var _=qe.memoizedState;if(g=_.destroy,c!==null&&Yl(c,_.deps)){f.memoizedState=Qi(s,a,g,c);return}}Me.flags|=n,f.memoizedState=Qi(1|s,a,g,c)}function Of(n,s){return mo(8390656,8,n,s)}function eu(n,s){return yo(2048,8,n,s)}function Cf(n,s){return yo(4,2,n,s)}function Pf(n,s){return yo(4,4,n,s)}function Rf(n,s){if(typeof s=="function")return n=n(),s(n),function(){s(null)};if(s!=null)return n=n(),s.current=n,function(){s.current=null}}function Df(n,s,a){return a=a!=null?a.concat([n]):null,yo(4,4,Rf.bind(null,s,n),a)}function tu(){}function If(n,s){var a=Pt();s=s===void 0?null:s;var c=a.memoizedState;return c!==null&&s!==null&&Yl(s,c[1])?c[0]:(a.memoizedState=[n,s],n)}function Af(n,s){var a=Pt();s=s===void 0?null:s;var c=a.memoizedState;return c!==null&&s!==null&&Yl(s,c[1])?c[0]:(n=n(),a.memoizedState=[n,s],n)}function Nf(n,s,a){return en&21?(Mt(a,s)||(a=uh(),Me.lanes|=a,tn|=a,n.baseState=!0),s):(n.baseState&&(n.baseState=!1,ht=!0),n.memoizedState=a)}function z0(n,s){var a=Oe;Oe=a!==0&&4>a?a:4,n(!0);var c=Gl.transition;Gl.transition={};try{n(!1),s()}finally{Oe=a,Gl.transition=c}}function jf(){return Pt().memoizedState}function B0(n,s,a){var c=Ir(n);if(a={lane:c,action:a,hasEagerState:!1,eagerState:null,next:null},Mf(n))$f(s,a);else if(a=ff(n,s,a,c),a!==null){var f=ut();zt(a,n,c,f),Lf(a,s,c)}}function H0(n,s,a){var c=Ir(n),f={lane:c,action:a,hasEagerState:!1,eagerState:null,next:null};if(Mf(n))$f(s,f);else{var g=n.alternate;if(n.lanes===0&&(g===null||g.lanes===0)&&(g=s.lastRenderedReducer,g!==null))try{var _=s.lastRenderedState,T=g(_,a);if(f.hasEagerState=!0,f.eagerState=T,Mt(T,_)){var P=s.interleaved;P===null?(f.next=f,Bl(s)):(f.next=P.next,P.next=f),s.interleaved=f;return}}catch{}finally{}a=ff(n,s,f,c),a!==null&&(f=ut(),zt(a,n,c,f),Lf(a,s,c))}}function Mf(n){var s=n.alternate;return n===Me||s!==null&&s===Me}function $f(n,s){Gi=go=!0;var a=n.pending;a===null?s.next=s:(s.next=a.next,a.next=s),n.pending=s}function Lf(n,s,a){if(a&4194240){var c=s.lanes;c&=n.pendingLanes,a|=c,s.lanes=a,nl(n,a)}}var vo={readContext:Ct,useCallback:it,useContext:it,useEffect:it,useImperativeHandle:it,useInsertionEffect:it,useLayoutEffect:it,useMemo:it,useReducer:it,useRef:it,useState:it,useDebugValue:it,useDeferredValue:it,useTransition:it,useMutableSource:it,useSyncExternalStore:it,useId:it,unstable_isNewReconciler:!1},W0={readContext:Ct,useCallback:function(n,s){return Jt().memoizedState=[n,s===void 0?null:s],n},useContext:Ct,useEffect:Of,useImperativeHandle:function(n,s,a){return a=a!=null?a.concat([n]):null,mo(4194308,4,Rf.bind(null,s,n),a)},useLayoutEffect:function(n,s){return mo(4194308,4,n,s)},useInsertionEffect:function(n,s){return mo(4,2,n,s)},useMemo:function(n,s){var a=Jt();return s=s===void 0?null:s,n=n(),a.memoizedState=[n,s],n},useReducer:function(n,s,a){var c=Jt();return s=a!==void 0?a(s):s,c.memoizedState=c.baseState=s,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:s},c.queue=n,n=n.dispatch=B0.bind(null,Me,n),[c.memoizedState,n]},useRef:function(n){var s=Jt();return n={current:n},s.memoizedState=n},useState:xf,useDebugValue:tu,useDeferredValue:function(n){return Jt().memoizedState=n},useTransition:function(){var n=xf(!1),s=n[0];return n=z0.bind(null,n[1]),Jt().memoizedState=n,[s,n]},useMutableSource:function(){},useSyncExternalStore:function(n,s,a){var c=Me,f=Jt();if(Ne){if(a===void 0)throw Error(t(407));a=a()}else{if(a=s(),Je===null)throw Error(t(349));en&30||_f(c,s,a)}f.memoizedState=a;var g={value:a,getSnapshot:s};return f.queue=g,Of(bf.bind(null,c,g,n),[n]),c.flags|=2048,Qi(9,Sf.bind(null,c,g,a,s),void 0,null),a},useId:function(){var n=Jt(),s=Je.identifierPrefix;if(Ne){var a=ar,c=or;a=(c&~(1<<32-jt(c)-1)).toString(32)+a,s=":"+s+"R"+a,a=Yi++,0<a&&(s+="H"+a.toString(32)),s+=":"}else a=F0++,s=":"+s+"r"+a.toString(32)+":";return n.memoizedState=s},unstable_isNewReconciler:!1},q0={readContext:Ct,useCallback:If,useContext:Ct,useEffect:eu,useImperativeHandle:Df,useInsertionEffect:Cf,useLayoutEffect:Pf,useMemo:Af,useReducer:Xl,useRef:Tf,useState:function(){return Xl(Ji)},useDebugValue:tu,useDeferredValue:function(n){var s=Pt();return Nf(s,qe.memoizedState,n)},useTransition:function(){var n=Xl(Ji)[0],s=Pt().memoizedState;return[n,s]},useMutableSource:vf,useSyncExternalStore:wf,useId:jf,unstable_isNewReconciler:!1},V0={readContext:Ct,useCallback:If,useContext:Ct,useEffect:eu,useImperativeHandle:Df,useInsertionEffect:Cf,useLayoutEffect:Pf,useMemo:Af,useReducer:Zl,useRef:Tf,useState:function(){return Zl(Ji)},useDebugValue:tu,useDeferredValue:function(n){var s=Pt();return qe===null?s.memoizedState=n:Nf(s,qe.memoizedState,n)},useTransition:function(){var n=Zl(Ji)[0],s=Pt().memoizedState;return[n,s]},useMutableSource:vf,useSyncExternalStore:wf,useId:jf,unstable_isNewReconciler:!1};function Lt(n,s){if(n&&n.defaultProps){s=M({},s),n=n.defaultProps;for(var a in n)s[a]===void 0&&(s[a]=n[a]);return s}return s}function ru(n,s,a,c){s=n.memoizedState,a=a(c,s),a=a==null?s:M({},s,a),n.memoizedState=a,n.lanes===0&&(n.updateQueue.baseState=a)}var wo={isMounted:function(n){return(n=n._reactInternals)?Kr(n)===n:!1},enqueueSetState:function(n,s,a){n=n._reactInternals;var c=ut(),f=Ir(n),g=ur(c,f);g.payload=s,a!=null&&(g.callback=a),s=Cr(n,g,f),s!==null&&(zt(s,n,f,c),co(s,n,f))},enqueueReplaceState:function(n,s,a){n=n._reactInternals;var c=ut(),f=Ir(n),g=ur(c,f);g.tag=1,g.payload=s,a!=null&&(g.callback=a),s=Cr(n,g,f),s!==null&&(zt(s,n,f,c),co(s,n,f))},enqueueForceUpdate:function(n,s){n=n._reactInternals;var a=ut(),c=Ir(n),f=ur(a,c);f.tag=2,s!=null&&(f.callback=s),s=Cr(n,f,c),s!==null&&(zt(s,n,c,a),co(s,n,c))}};function Uf(n,s,a,c,f,g,_){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(c,g,_):s.prototype&&s.prototype.isPureReactComponent?!$i(a,c)||!$i(f,g):!0}function Ff(n,s,a){var c=!1,f=xr,g=s.contextType;return typeof g=="object"&&g!==null?g=Ct(g):(f=dt(s)?Yr:nt.current,c=s.contextTypes,g=(c=c!=null)?$n(n,f):xr),s=new s(a,g),n.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=wo,n.stateNode=s,s._reactInternals=n,c&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=f,n.__reactInternalMemoizedMaskedChildContext=g),s}function zf(n,s,a,c){n=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(a,c),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(a,c),s.state!==n&&wo.enqueueReplaceState(s,s.state,null)}function nu(n,s,a,c){var f=n.stateNode;f.props=a,f.state=n.memoizedState,f.refs={},Hl(n);var g=s.contextType;typeof g=="object"&&g!==null?f.context=Ct(g):(g=dt(s)?Yr:nt.current,f.context=$n(n,g)),f.state=n.memoizedState,g=s.getDerivedStateFromProps,typeof g=="function"&&(ru(n,s,g,a),f.state=n.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(s=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),s!==f.state&&wo.enqueueReplaceState(f,f.state,null),ho(n,a,f,c),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308)}function qn(n,s){try{var a="",c=s;do a+=_e(c),c=c.return;while(c);var f=a}catch(g){f=`
Error generating stack: `+g.message+`
`+g.stack}return{value:n,source:s,stack:f,digest:null}}function iu(n,s,a){return{value:n,source:null,stack:a??null,digest:s??null}}function su(n,s){try{console.error(s.value)}catch(a){setTimeout(function(){throw a})}}var K0=typeof WeakMap=="function"?WeakMap:Map;function Bf(n,s,a){a=ur(-1,a),a.tag=3,a.payload={element:null};var c=s.value;return a.callback=function(){To||(To=!0,_u=c),su(n,s)},a}function Hf(n,s,a){a=ur(-1,a),a.tag=3;var c=n.type.getDerivedStateFromError;if(typeof c=="function"){var f=s.value;a.payload=function(){return c(f)},a.callback=function(){su(n,s)}}var g=n.stateNode;return g!==null&&typeof g.componentDidCatch=="function"&&(a.callback=function(){su(n,s),typeof c!="function"&&(Rr===null?Rr=new Set([this]):Rr.add(this));var _=s.stack;this.componentDidCatch(s.value,{componentStack:_!==null?_:""})}),a}function Wf(n,s,a){var c=n.pingCache;if(c===null){c=n.pingCache=new K0;var f=new Set;c.set(s,f)}else f=c.get(s),f===void 0&&(f=new Set,c.set(s,f));f.has(a)||(f.add(a),n=aw.bind(null,n,s,a),s.then(n,n))}function qf(n){do{var s;if((s=n.tag===13)&&(s=n.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return n;n=n.return}while(n!==null);return null}function Vf(n,s,a,c,f){return n.mode&1?(n.flags|=65536,n.lanes=f,n):(n===s?n.flags|=65536:(n.flags|=128,a.flags|=131072,a.flags&=-52805,a.tag===1&&(a.alternate===null?a.tag=17:(s=ur(-1,1),s.tag=2,Cr(a,s,1))),a.lanes|=1),n)}var G0=z.ReactCurrentOwner,ht=!1;function lt(n,s,a,c){s.child=n===null?hf(s,null,a,c):zn(s,n.child,a,c)}function Kf(n,s,a,c,f){a=a.render;var g=s.ref;return Hn(s,f),c=Jl(n,s,a,c,g,f),a=Ql(),n!==null&&!ht?(s.updateQueue=n.updateQueue,s.flags&=-2053,n.lanes&=~f,cr(n,s,f)):(Ne&&a&&Al(s),s.flags|=1,lt(n,s,c,f),s.child)}function Gf(n,s,a,c,f){if(n===null){var g=a.type;return typeof g=="function"&&!Ou(g)&&g.defaultProps===void 0&&a.compare===null&&a.defaultProps===void 0?(s.tag=15,s.type=g,Yf(n,s,g,c,f)):(n=Io(a.type,null,c,s,s.mode,f),n.ref=s.ref,n.return=s,s.child=n)}if(g=n.child,!(n.lanes&f)){var _=g.memoizedProps;if(a=a.compare,a=a!==null?a:$i,a(_,c)&&n.ref===s.ref)return cr(n,s,f)}return s.flags|=1,n=Nr(g,c),n.ref=s.ref,n.return=s,s.child=n}function Yf(n,s,a,c,f){if(n!==null){var g=n.memoizedProps;if($i(g,c)&&n.ref===s.ref)if(ht=!1,s.pendingProps=c=g,(n.lanes&f)!==0)n.flags&131072&&(ht=!0);else return s.lanes=n.lanes,cr(n,s,f)}return ou(n,s,a,c,f)}function Jf(n,s,a){var c=s.pendingProps,f=c.children,g=n!==null?n.memoizedState:null;if(c.mode==="hidden")if(!(s.mode&1))s.memoizedState={baseLanes:0,cachePool:null,transitions:null},Re(Kn,_t),_t|=a;else{if(!(a&1073741824))return n=g!==null?g.baseLanes|a:a,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:n,cachePool:null,transitions:null},s.updateQueue=null,Re(Kn,_t),_t|=n,null;s.memoizedState={baseLanes:0,cachePool:null,transitions:null},c=g!==null?g.baseLanes:a,Re(Kn,_t),_t|=c}else g!==null?(c=g.baseLanes|a,s.memoizedState=null):c=a,Re(Kn,_t),_t|=c;return lt(n,s,f,a),s.child}function Qf(n,s){var a=s.ref;(n===null&&a!==null||n!==null&&n.ref!==a)&&(s.flags|=512,s.flags|=2097152)}function ou(n,s,a,c,f){var g=dt(a)?Yr:nt.current;return g=$n(s,g),Hn(s,f),a=Jl(n,s,a,c,g,f),c=Ql(),n!==null&&!ht?(s.updateQueue=n.updateQueue,s.flags&=-2053,n.lanes&=~f,cr(n,s,f)):(Ne&&c&&Al(s),s.flags|=1,lt(n,s,a,f),s.child)}function Xf(n,s,a,c,f){if(dt(a)){var g=!0;ro(s)}else g=!1;if(Hn(s,f),s.stateNode===null)So(n,s),Ff(s,a,c),nu(s,a,c,f),c=!0;else if(n===null){var _=s.stateNode,T=s.memoizedProps;_.props=T;var P=_.context,H=a.contextType;typeof H=="object"&&H!==null?H=Ct(H):(H=dt(a)?Yr:nt.current,H=$n(s,H));var Q=a.getDerivedStateFromProps,X=typeof Q=="function"||typeof _.getSnapshotBeforeUpdate=="function";X||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(T!==c||P!==H)&&zf(s,_,c,H),Or=!1;var J=s.memoizedState;_.state=J,ho(s,c,_,f),P=s.memoizedState,T!==c||J!==P||ct.current||Or?(typeof Q=="function"&&(ru(s,a,Q,c),P=s.memoizedState),(T=Or||Uf(s,a,T,c,J,P,H))?(X||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount()),typeof _.componentDidMount=="function"&&(s.flags|=4194308)):(typeof _.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=c,s.memoizedState=P),_.props=c,_.state=P,_.context=H,c=T):(typeof _.componentDidMount=="function"&&(s.flags|=4194308),c=!1)}else{_=s.stateNode,pf(n,s),T=s.memoizedProps,H=s.type===s.elementType?T:Lt(s.type,T),_.props=H,X=s.pendingProps,J=_.context,P=a.contextType,typeof P=="object"&&P!==null?P=Ct(P):(P=dt(a)?Yr:nt.current,P=$n(s,P));var ne=a.getDerivedStateFromProps;(Q=typeof ne=="function"||typeof _.getSnapshotBeforeUpdate=="function")||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(T!==X||J!==P)&&zf(s,_,c,P),Or=!1,J=s.memoizedState,_.state=J,ho(s,c,_,f);var oe=s.memoizedState;T!==X||J!==oe||ct.current||Or?(typeof ne=="function"&&(ru(s,a,ne,c),oe=s.memoizedState),(H=Or||Uf(s,a,H,c,J,oe,P)||!1)?(Q||typeof _.UNSAFE_componentWillUpdate!="function"&&typeof _.componentWillUpdate!="function"||(typeof _.componentWillUpdate=="function"&&_.componentWillUpdate(c,oe,P),typeof _.UNSAFE_componentWillUpdate=="function"&&_.UNSAFE_componentWillUpdate(c,oe,P)),typeof _.componentDidUpdate=="function"&&(s.flags|=4),typeof _.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof _.componentDidUpdate!="function"||T===n.memoizedProps&&J===n.memoizedState||(s.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||T===n.memoizedProps&&J===n.memoizedState||(s.flags|=1024),s.memoizedProps=c,s.memoizedState=oe),_.props=c,_.state=oe,_.context=P,c=H):(typeof _.componentDidUpdate!="function"||T===n.memoizedProps&&J===n.memoizedState||(s.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||T===n.memoizedProps&&J===n.memoizedState||(s.flags|=1024),c=!1)}return au(n,s,a,c,g,f)}function au(n,s,a,c,f,g){Qf(n,s);var _=(s.flags&128)!==0;if(!c&&!_)return f&&rf(s,a,!1),cr(n,s,g);c=s.stateNode,G0.current=s;var T=_&&typeof a.getDerivedStateFromError!="function"?null:c.render();return s.flags|=1,n!==null&&_?(s.child=zn(s,n.child,null,g),s.child=zn(s,null,T,g)):lt(n,s,T,g),s.memoizedState=c.state,f&&rf(s,a,!0),s.child}function Zf(n){var s=n.stateNode;s.pendingContext?ef(n,s.pendingContext,s.pendingContext!==s.context):s.context&&ef(n,s.context,!1),Wl(n,s.containerInfo)}function ep(n,s,a,c,f){return Fn(),$l(f),s.flags|=256,lt(n,s,a,c),s.child}var lu={dehydrated:null,treeContext:null,retryLane:0};function uu(n){return{baseLanes:n,cachePool:null,transitions:null}}function tp(n,s,a){var c=s.pendingProps,f=je.current,g=!1,_=(s.flags&128)!==0,T;if((T=_)||(T=n!==null&&n.memoizedState===null?!1:(f&2)!==0),T?(g=!0,s.flags&=-129):(n===null||n.memoizedState!==null)&&(f|=1),Re(je,f&1),n===null)return Ml(s),n=s.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?(s.mode&1?n.data==="$!"?s.lanes=8:s.lanes=1073741824:s.lanes=1,null):(_=c.children,n=c.fallback,g?(c=s.mode,g=s.child,_={mode:"hidden",children:_},!(c&1)&&g!==null?(g.childLanes=0,g.pendingProps=_):g=Ao(_,c,0,null),n=on(n,c,a,null),g.return=s,n.return=s,g.sibling=n,s.child=g,s.child.memoizedState=uu(a),s.memoizedState=lu,n):cu(s,_));if(f=n.memoizedState,f!==null&&(T=f.dehydrated,T!==null))return Y0(n,s,_,c,T,f,a);if(g){g=c.fallback,_=s.mode,f=n.child,T=f.sibling;var P={mode:"hidden",children:c.children};return!(_&1)&&s.child!==f?(c=s.child,c.childLanes=0,c.pendingProps=P,s.deletions=null):(c=Nr(f,P),c.subtreeFlags=f.subtreeFlags&14680064),T!==null?g=Nr(T,g):(g=on(g,_,a,null),g.flags|=2),g.return=s,c.return=s,c.sibling=g,s.child=c,c=g,g=s.child,_=n.child.memoizedState,_=_===null?uu(a):{baseLanes:_.baseLanes|a,cachePool:null,transitions:_.transitions},g.memoizedState=_,g.childLanes=n.childLanes&~a,s.memoizedState=lu,c}return g=n.child,n=g.sibling,c=Nr(g,{mode:"visible",children:c.children}),!(s.mode&1)&&(c.lanes=a),c.return=s,c.sibling=null,n!==null&&(a=s.deletions,a===null?(s.deletions=[n],s.flags|=16):a.push(n)),s.child=c,s.memoizedState=null,c}function cu(n,s){return s=Ao({mode:"visible",children:s},n.mode,0,null),s.return=n,n.child=s}function _o(n,s,a,c){return c!==null&&$l(c),zn(s,n.child,null,a),n=cu(s,s.pendingProps.children),n.flags|=2,s.memoizedState=null,n}function Y0(n,s,a,c,f,g,_){if(a)return s.flags&256?(s.flags&=-257,c=iu(Error(t(422))),_o(n,s,_,c)):s.memoizedState!==null?(s.child=n.child,s.flags|=128,null):(g=c.fallback,f=s.mode,c=Ao({mode:"visible",children:c.children},f,0,null),g=on(g,f,_,null),g.flags|=2,c.return=s,g.return=s,c.sibling=g,s.child=c,s.mode&1&&zn(s,n.child,null,_),s.child.memoizedState=uu(_),s.memoizedState=lu,g);if(!(s.mode&1))return _o(n,s,_,null);if(f.data==="$!"){if(c=f.nextSibling&&f.nextSibling.dataset,c)var T=c.dgst;return c=T,g=Error(t(419)),c=iu(g,c,void 0),_o(n,s,_,c)}if(T=(_&n.childLanes)!==0,ht||T){if(c=Je,c!==null){switch(_&-_){case 4:f=2;break;case 16:f=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:f=32;break;case 536870912:f=268435456;break;default:f=0}f=f&(c.suspendedLanes|_)?0:f,f!==0&&f!==g.retryLane&&(g.retryLane=f,lr(n,f),zt(c,n,f,-1))}return Tu(),c=iu(Error(t(421))),_o(n,s,_,c)}return f.data==="$?"?(s.flags|=128,s.child=n.child,s=lw.bind(null,n),f._reactRetry=s,null):(n=g.treeContext,wt=Er(f.nextSibling),vt=s,Ne=!0,$t=null,n!==null&&(Tt[Ot++]=or,Tt[Ot++]=ar,Tt[Ot++]=Jr,or=n.id,ar=n.overflow,Jr=s),s=cu(s,c.children),s.flags|=4096,s)}function rp(n,s,a){n.lanes|=s;var c=n.alternate;c!==null&&(c.lanes|=s),zl(n.return,s,a)}function du(n,s,a,c,f){var g=n.memoizedState;g===null?n.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:c,tail:a,tailMode:f}:(g.isBackwards=s,g.rendering=null,g.renderingStartTime=0,g.last=c,g.tail=a,g.tailMode=f)}function np(n,s,a){var c=s.pendingProps,f=c.revealOrder,g=c.tail;if(lt(n,s,c.children,a),c=je.current,c&2)c=c&1|2,s.flags|=128;else{if(n!==null&&n.flags&128)e:for(n=s.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&rp(n,a,s);else if(n.tag===19)rp(n,a,s);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===s)break e;for(;n.sibling===null;){if(n.return===null||n.return===s)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}c&=1}if(Re(je,c),!(s.mode&1))s.memoizedState=null;else switch(f){case"forwards":for(a=s.child,f=null;a!==null;)n=a.alternate,n!==null&&fo(n)===null&&(f=a),a=a.sibling;a=f,a===null?(f=s.child,s.child=null):(f=a.sibling,a.sibling=null),du(s,!1,f,a,g);break;case"backwards":for(a=null,f=s.child,s.child=null;f!==null;){if(n=f.alternate,n!==null&&fo(n)===null){s.child=f;break}n=f.sibling,f.sibling=a,a=f,f=n}du(s,!0,a,null,g);break;case"together":du(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function So(n,s){!(s.mode&1)&&n!==null&&(n.alternate=null,s.alternate=null,s.flags|=2)}function cr(n,s,a){if(n!==null&&(s.dependencies=n.dependencies),tn|=s.lanes,!(a&s.childLanes))return null;if(n!==null&&s.child!==n.child)throw Error(t(153));if(s.child!==null){for(n=s.child,a=Nr(n,n.pendingProps),s.child=a,a.return=s;n.sibling!==null;)n=n.sibling,a=a.sibling=Nr(n,n.pendingProps),a.return=s;a.sibling=null}return s.child}function J0(n,s,a){switch(s.tag){case 3:Zf(s),Fn();break;case 5:yf(s);break;case 1:dt(s.type)&&ro(s);break;case 4:Wl(s,s.stateNode.containerInfo);break;case 10:var c=s.type._context,f=s.memoizedProps.value;Re(lo,c._currentValue),c._currentValue=f;break;case 13:if(c=s.memoizedState,c!==null)return c.dehydrated!==null?(Re(je,je.current&1),s.flags|=128,null):a&s.child.childLanes?tp(n,s,a):(Re(je,je.current&1),n=cr(n,s,a),n!==null?n.sibling:null);Re(je,je.current&1);break;case 19:if(c=(a&s.childLanes)!==0,n.flags&128){if(c)return np(n,s,a);s.flags|=128}if(f=s.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),Re(je,je.current),c)break;return null;case 22:case 23:return s.lanes=0,Jf(n,s,a)}return cr(n,s,a)}var ip,hu,sp,op;ip=function(n,s){for(var a=s.child;a!==null;){if(a.tag===5||a.tag===6)n.appendChild(a.stateNode);else if(a.tag!==4&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return;a=a.return}a.sibling.return=a.return,a=a.sibling}},hu=function(){},sp=function(n,s,a,c){var f=n.memoizedProps;if(f!==c){n=s.stateNode,Zr(Yt.current);var g=null;switch(a){case"input":f=za(n,f),c=za(n,c),g=[];break;case"select":f=M({},f,{value:void 0}),c=M({},c,{value:void 0}),g=[];break;case"textarea":f=Wa(n,f),c=Wa(n,c),g=[];break;default:typeof f.onClick!="function"&&typeof c.onClick=="function"&&(n.onclick=Zs)}Va(a,c);var _;a=null;for(H in f)if(!c.hasOwnProperty(H)&&f.hasOwnProperty(H)&&f[H]!=null)if(H==="style"){var T=f[H];for(_ in T)T.hasOwnProperty(_)&&(a||(a={}),a[_]="")}else H!=="dangerouslySetInnerHTML"&&H!=="children"&&H!=="suppressContentEditableWarning"&&H!=="suppressHydrationWarning"&&H!=="autoFocus"&&(o.hasOwnProperty(H)?g||(g=[]):(g=g||[]).push(H,null));for(H in c){var P=c[H];if(T=f!=null?f[H]:void 0,c.hasOwnProperty(H)&&P!==T&&(P!=null||T!=null))if(H==="style")if(T){for(_ in T)!T.hasOwnProperty(_)||P&&P.hasOwnProperty(_)||(a||(a={}),a[_]="");for(_ in P)P.hasOwnProperty(_)&&T[_]!==P[_]&&(a||(a={}),a[_]=P[_])}else a||(g||(g=[]),g.push(H,a)),a=P;else H==="dangerouslySetInnerHTML"?(P=P?P.__html:void 0,T=T?T.__html:void 0,P!=null&&T!==P&&(g=g||[]).push(H,P)):H==="children"?typeof P!="string"&&typeof P!="number"||(g=g||[]).push(H,""+P):H!=="suppressContentEditableWarning"&&H!=="suppressHydrationWarning"&&(o.hasOwnProperty(H)?(P!=null&&H==="onScroll"&&Ie("scroll",n),g||T===P||(g=[])):(g=g||[]).push(H,P))}a&&(g=g||[]).push("style",a);var H=g;(s.updateQueue=H)&&(s.flags|=4)}},op=function(n,s,a,c){a!==c&&(s.flags|=4)};function Xi(n,s){if(!Ne)switch(n.tailMode){case"hidden":s=n.tail;for(var a=null;s!==null;)s.alternate!==null&&(a=s),s=s.sibling;a===null?n.tail=null:a.sibling=null;break;case"collapsed":a=n.tail;for(var c=null;a!==null;)a.alternate!==null&&(c=a),a=a.sibling;c===null?s||n.tail===null?n.tail=null:n.tail.sibling=null:c.sibling=null}}function st(n){var s=n.alternate!==null&&n.alternate.child===n.child,a=0,c=0;if(s)for(var f=n.child;f!==null;)a|=f.lanes|f.childLanes,c|=f.subtreeFlags&14680064,c|=f.flags&14680064,f.return=n,f=f.sibling;else for(f=n.child;f!==null;)a|=f.lanes|f.childLanes,c|=f.subtreeFlags,c|=f.flags,f.return=n,f=f.sibling;return n.subtreeFlags|=c,n.childLanes=a,s}function Q0(n,s,a){var c=s.pendingProps;switch(Nl(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return st(s),null;case 1:return dt(s.type)&&to(),st(s),null;case 3:return c=s.stateNode,Wn(),Ae(ct),Ae(nt),Kl(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(n===null||n.child===null)&&(oo(s)?s.flags|=4:n===null||n.memoizedState.isDehydrated&&!(s.flags&256)||(s.flags|=1024,$t!==null&&(Eu($t),$t=null))),hu(n,s),st(s),null;case 5:ql(s);var f=Zr(Ki.current);if(a=s.type,n!==null&&s.stateNode!=null)sp(n,s,a,c,f),n.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!c){if(s.stateNode===null)throw Error(t(166));return st(s),null}if(n=Zr(Yt.current),oo(s)){c=s.stateNode,a=s.type;var g=s.memoizedProps;switch(c[Gt]=s,c[Bi]=g,n=(s.mode&1)!==0,a){case"dialog":Ie("cancel",c),Ie("close",c);break;case"iframe":case"object":case"embed":Ie("load",c);break;case"video":case"audio":for(f=0;f<Ui.length;f++)Ie(Ui[f],c);break;case"source":Ie("error",c);break;case"img":case"image":case"link":Ie("error",c),Ie("load",c);break;case"details":Ie("toggle",c);break;case"input":Ud(c,g),Ie("invalid",c);break;case"select":c._wrapperState={wasMultiple:!!g.multiple},Ie("invalid",c);break;case"textarea":Bd(c,g),Ie("invalid",c)}Va(a,g),f=null;for(var _ in g)if(g.hasOwnProperty(_)){var T=g[_];_==="children"?typeof T=="string"?c.textContent!==T&&(g.suppressHydrationWarning!==!0&&Xs(c.textContent,T,n),f=["children",T]):typeof T=="number"&&c.textContent!==""+T&&(g.suppressHydrationWarning!==!0&&Xs(c.textContent,T,n),f=["children",""+T]):o.hasOwnProperty(_)&&T!=null&&_==="onScroll"&&Ie("scroll",c)}switch(a){case"input":kn(c),zd(c,g,!0);break;case"textarea":kn(c),Wd(c);break;case"select":case"option":break;default:typeof g.onClick=="function"&&(c.onclick=Zs)}c=f,s.updateQueue=c,c!==null&&(s.flags|=4)}else{_=f.nodeType===9?f:f.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=qd(a)),n==="http://www.w3.org/1999/xhtml"?a==="script"?(n=_.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof c.is=="string"?n=_.createElement(a,{is:c.is}):(n=_.createElement(a),a==="select"&&(_=n,c.multiple?_.multiple=!0:c.size&&(_.size=c.size))):n=_.createElementNS(n,a),n[Gt]=s,n[Bi]=c,ip(n,s,!1,!1),s.stateNode=n;e:{switch(_=Ka(a,c),a){case"dialog":Ie("cancel",n),Ie("close",n),f=c;break;case"iframe":case"object":case"embed":Ie("load",n),f=c;break;case"video":case"audio":for(f=0;f<Ui.length;f++)Ie(Ui[f],n);f=c;break;case"source":Ie("error",n),f=c;break;case"img":case"image":case"link":Ie("error",n),Ie("load",n),f=c;break;case"details":Ie("toggle",n),f=c;break;case"input":Ud(n,c),f=za(n,c),Ie("invalid",n);break;case"option":f=c;break;case"select":n._wrapperState={wasMultiple:!!c.multiple},f=M({},c,{value:void 0}),Ie("invalid",n);break;case"textarea":Bd(n,c),f=Wa(n,c),Ie("invalid",n);break;default:f=c}Va(a,f),T=f;for(g in T)if(T.hasOwnProperty(g)){var P=T[g];g==="style"?Gd(n,P):g==="dangerouslySetInnerHTML"?(P=P?P.__html:void 0,P!=null&&Vd(n,P)):g==="children"?typeof P=="string"?(a!=="textarea"||P!=="")&&_i(n,P):typeof P=="number"&&_i(n,""+P):g!=="suppressContentEditableWarning"&&g!=="suppressHydrationWarning"&&g!=="autoFocus"&&(o.hasOwnProperty(g)?P!=null&&g==="onScroll"&&Ie("scroll",n):P!=null&&N(n,g,P,_))}switch(a){case"input":kn(n),zd(n,c,!1);break;case"textarea":kn(n),Wd(n);break;case"option":c.value!=null&&n.setAttribute("value",""+be(c.value));break;case"select":n.multiple=!!c.multiple,g=c.value,g!=null?xn(n,!!c.multiple,g,!1):c.defaultValue!=null&&xn(n,!!c.multiple,c.defaultValue,!0);break;default:typeof f.onClick=="function"&&(n.onclick=Zs)}switch(a){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}}c&&(s.flags|=4)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return st(s),null;case 6:if(n&&s.stateNode!=null)op(n,s,n.memoizedProps,c);else{if(typeof c!="string"&&s.stateNode===null)throw Error(t(166));if(a=Zr(Ki.current),Zr(Yt.current),oo(s)){if(c=s.stateNode,a=s.memoizedProps,c[Gt]=s,(g=c.nodeValue!==a)&&(n=vt,n!==null))switch(n.tag){case 3:Xs(c.nodeValue,a,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&Xs(c.nodeValue,a,(n.mode&1)!==0)}g&&(s.flags|=4)}else c=(a.nodeType===9?a:a.ownerDocument).createTextNode(c),c[Gt]=s,s.stateNode=c}return st(s),null;case 13:if(Ae(je),c=s.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(Ne&&wt!==null&&s.mode&1&&!(s.flags&128))uf(),Fn(),s.flags|=98560,g=!1;else if(g=oo(s),c!==null&&c.dehydrated!==null){if(n===null){if(!g)throw Error(t(318));if(g=s.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(t(317));g[Gt]=s}else Fn(),!(s.flags&128)&&(s.memoizedState=null),s.flags|=4;st(s),g=!1}else $t!==null&&(Eu($t),$t=null),g=!0;if(!g)return s.flags&65536?s:null}return s.flags&128?(s.lanes=a,s):(c=c!==null,c!==(n!==null&&n.memoizedState!==null)&&c&&(s.child.flags|=8192,s.mode&1&&(n===null||je.current&1?Ve===0&&(Ve=3):Tu())),s.updateQueue!==null&&(s.flags|=4),st(s),null);case 4:return Wn(),hu(n,s),n===null&&Fi(s.stateNode.containerInfo),st(s),null;case 10:return Fl(s.type._context),st(s),null;case 17:return dt(s.type)&&to(),st(s),null;case 19:if(Ae(je),g=s.memoizedState,g===null)return st(s),null;if(c=(s.flags&128)!==0,_=g.rendering,_===null)if(c)Xi(g,!1);else{if(Ve!==0||n!==null&&n.flags&128)for(n=s.child;n!==null;){if(_=fo(n),_!==null){for(s.flags|=128,Xi(g,!1),c=_.updateQueue,c!==null&&(s.updateQueue=c,s.flags|=4),s.subtreeFlags=0,c=a,a=s.child;a!==null;)g=a,n=c,g.flags&=14680066,_=g.alternate,_===null?(g.childLanes=0,g.lanes=n,g.child=null,g.subtreeFlags=0,g.memoizedProps=null,g.memoizedState=null,g.updateQueue=null,g.dependencies=null,g.stateNode=null):(g.childLanes=_.childLanes,g.lanes=_.lanes,g.child=_.child,g.subtreeFlags=0,g.deletions=null,g.memoizedProps=_.memoizedProps,g.memoizedState=_.memoizedState,g.updateQueue=_.updateQueue,g.type=_.type,n=_.dependencies,g.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),a=a.sibling;return Re(je,je.current&1|2),s.child}n=n.sibling}g.tail!==null&&ze()>Gn&&(s.flags|=128,c=!0,Xi(g,!1),s.lanes=4194304)}else{if(!c)if(n=fo(_),n!==null){if(s.flags|=128,c=!0,a=n.updateQueue,a!==null&&(s.updateQueue=a,s.flags|=4),Xi(g,!0),g.tail===null&&g.tailMode==="hidden"&&!_.alternate&&!Ne)return st(s),null}else 2*ze()-g.renderingStartTime>Gn&&a!==1073741824&&(s.flags|=128,c=!0,Xi(g,!1),s.lanes=4194304);g.isBackwards?(_.sibling=s.child,s.child=_):(a=g.last,a!==null?a.sibling=_:s.child=_,g.last=_)}return g.tail!==null?(s=g.tail,g.rendering=s,g.tail=s.sibling,g.renderingStartTime=ze(),s.sibling=null,a=je.current,Re(je,c?a&1|2:a&1),s):(st(s),null);case 22:case 23:return xu(),c=s.memoizedState!==null,n!==null&&n.memoizedState!==null!==c&&(s.flags|=8192),c&&s.mode&1?_t&1073741824&&(st(s),s.subtreeFlags&6&&(s.flags|=8192)):st(s),null;case 24:return null;case 25:return null}throw Error(t(156,s.tag))}function X0(n,s){switch(Nl(s),s.tag){case 1:return dt(s.type)&&to(),n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 3:return Wn(),Ae(ct),Ae(nt),Kl(),n=s.flags,n&65536&&!(n&128)?(s.flags=n&-65537|128,s):null;case 5:return ql(s),null;case 13:if(Ae(je),n=s.memoizedState,n!==null&&n.dehydrated!==null){if(s.alternate===null)throw Error(t(340));Fn()}return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 19:return Ae(je),null;case 4:return Wn(),null;case 10:return Fl(s.type._context),null;case 22:case 23:return xu(),null;case 24:return null;default:return null}}var bo=!1,ot=!1,Z0=typeof WeakSet=="function"?WeakSet:Set,se=null;function Vn(n,s){var a=n.ref;if(a!==null)if(typeof a=="function")try{a(null)}catch(c){Ue(n,s,c)}else a.current=null}function fu(n,s,a){try{a()}catch(c){Ue(n,s,c)}}var ap=!1;function ew(n,s){if(xl=zs,n=Lh(),yl(n)){if("selectionStart"in n)var a={start:n.selectionStart,end:n.selectionEnd};else e:{a=(a=n.ownerDocument)&&a.defaultView||window;var c=a.getSelection&&a.getSelection();if(c&&c.rangeCount!==0){a=c.anchorNode;var f=c.anchorOffset,g=c.focusNode;c=c.focusOffset;try{a.nodeType,g.nodeType}catch{a=null;break e}var _=0,T=-1,P=-1,H=0,Q=0,X=n,J=null;t:for(;;){for(var ne;X!==a||f!==0&&X.nodeType!==3||(T=_+f),X!==g||c!==0&&X.nodeType!==3||(P=_+c),X.nodeType===3&&(_+=X.nodeValue.length),(ne=X.firstChild)!==null;)J=X,X=ne;for(;;){if(X===n)break t;if(J===a&&++H===f&&(T=_),J===g&&++Q===c&&(P=_),(ne=X.nextSibling)!==null)break;X=J,J=X.parentNode}X=ne}a=T===-1||P===-1?null:{start:T,end:P}}else a=null}a=a||{start:0,end:0}}else a=null;for(Tl={focusedElem:n,selectionRange:a},zs=!1,se=s;se!==null;)if(s=se,n=s.child,(s.subtreeFlags&1028)!==0&&n!==null)n.return=s,se=n;else for(;se!==null;){s=se;try{var oe=s.alternate;if(s.flags&1024)switch(s.tag){case 0:case 11:case 15:break;case 1:if(oe!==null){var ae=oe.memoizedProps,Be=oe.memoizedState,L=s.stateNode,I=L.getSnapshotBeforeUpdate(s.elementType===s.type?ae:Lt(s.type,ae),Be);L.__reactInternalSnapshotBeforeUpdate=I}break;case 3:var B=s.stateNode.containerInfo;B.nodeType===1?B.textContent="":B.nodeType===9&&B.documentElement&&B.removeChild(B.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(te){Ue(s,s.return,te)}if(n=s.sibling,n!==null){n.return=s.return,se=n;break}se=s.return}return oe=ap,ap=!1,oe}function Zi(n,s,a){var c=s.updateQueue;if(c=c!==null?c.lastEffect:null,c!==null){var f=c=c.next;do{if((f.tag&n)===n){var g=f.destroy;f.destroy=void 0,g!==void 0&&fu(s,a,g)}f=f.next}while(f!==c)}}function Eo(n,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var a=s=s.next;do{if((a.tag&n)===n){var c=a.create;a.destroy=c()}a=a.next}while(a!==s)}}function pu(n){var s=n.ref;if(s!==null){var a=n.stateNode;switch(n.tag){case 5:n=a;break;default:n=a}typeof s=="function"?s(n):s.current=n}}function lp(n){var s=n.alternate;s!==null&&(n.alternate=null,lp(s)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(s=n.stateNode,s!==null&&(delete s[Gt],delete s[Bi],delete s[Rl],delete s[M0],delete s[$0])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function up(n){return n.tag===5||n.tag===3||n.tag===4}function cp(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||up(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function gu(n,s,a){var c=n.tag;if(c===5||c===6)n=n.stateNode,s?a.nodeType===8?a.parentNode.insertBefore(n,s):a.insertBefore(n,s):(a.nodeType===8?(s=a.parentNode,s.insertBefore(n,a)):(s=a,s.appendChild(n)),a=a._reactRootContainer,a!=null||s.onclick!==null||(s.onclick=Zs));else if(c!==4&&(n=n.child,n!==null))for(gu(n,s,a),n=n.sibling;n!==null;)gu(n,s,a),n=n.sibling}function mu(n,s,a){var c=n.tag;if(c===5||c===6)n=n.stateNode,s?a.insertBefore(n,s):a.appendChild(n);else if(c!==4&&(n=n.child,n!==null))for(mu(n,s,a),n=n.sibling;n!==null;)mu(n,s,a),n=n.sibling}var Xe=null,Ut=!1;function Pr(n,s,a){for(a=a.child;a!==null;)dp(n,s,a),a=a.sibling}function dp(n,s,a){if(Kt&&typeof Kt.onCommitFiberUnmount=="function")try{Kt.onCommitFiberUnmount(js,a)}catch{}switch(a.tag){case 5:ot||Vn(a,s);case 6:var c=Xe,f=Ut;Xe=null,Pr(n,s,a),Xe=c,Ut=f,Xe!==null&&(Ut?(n=Xe,a=a.stateNode,n.nodeType===8?n.parentNode.removeChild(a):n.removeChild(a)):Xe.removeChild(a.stateNode));break;case 18:Xe!==null&&(Ut?(n=Xe,a=a.stateNode,n.nodeType===8?Pl(n.parentNode,a):n.nodeType===1&&Pl(n,a),Di(n)):Pl(Xe,a.stateNode));break;case 4:c=Xe,f=Ut,Xe=a.stateNode.containerInfo,Ut=!0,Pr(n,s,a),Xe=c,Ut=f;break;case 0:case 11:case 14:case 15:if(!ot&&(c=a.updateQueue,c!==null&&(c=c.lastEffect,c!==null))){f=c=c.next;do{var g=f,_=g.destroy;g=g.tag,_!==void 0&&(g&2||g&4)&&fu(a,s,_),f=f.next}while(f!==c)}Pr(n,s,a);break;case 1:if(!ot&&(Vn(a,s),c=a.stateNode,typeof c.componentWillUnmount=="function"))try{c.props=a.memoizedProps,c.state=a.memoizedState,c.componentWillUnmount()}catch(T){Ue(a,s,T)}Pr(n,s,a);break;case 21:Pr(n,s,a);break;case 22:a.mode&1?(ot=(c=ot)||a.memoizedState!==null,Pr(n,s,a),ot=c):Pr(n,s,a);break;default:Pr(n,s,a)}}function hp(n){var s=n.updateQueue;if(s!==null){n.updateQueue=null;var a=n.stateNode;a===null&&(a=n.stateNode=new Z0),s.forEach(function(c){var f=uw.bind(null,n,c);a.has(c)||(a.add(c),c.then(f,f))})}}function Ft(n,s){var a=s.deletions;if(a!==null)for(var c=0;c<a.length;c++){var f=a[c];try{var g=n,_=s,T=_;e:for(;T!==null;){switch(T.tag){case 5:Xe=T.stateNode,Ut=!1;break e;case 3:Xe=T.stateNode.containerInfo,Ut=!0;break e;case 4:Xe=T.stateNode.containerInfo,Ut=!0;break e}T=T.return}if(Xe===null)throw Error(t(160));dp(g,_,f),Xe=null,Ut=!1;var P=f.alternate;P!==null&&(P.return=null),f.return=null}catch(H){Ue(f,s,H)}}if(s.subtreeFlags&12854)for(s=s.child;s!==null;)fp(s,n),s=s.sibling}function fp(n,s){var a=n.alternate,c=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(Ft(s,n),Qt(n),c&4){try{Zi(3,n,n.return),Eo(3,n)}catch(ae){Ue(n,n.return,ae)}try{Zi(5,n,n.return)}catch(ae){Ue(n,n.return,ae)}}break;case 1:Ft(s,n),Qt(n),c&512&&a!==null&&Vn(a,a.return);break;case 5:if(Ft(s,n),Qt(n),c&512&&a!==null&&Vn(a,a.return),n.flags&32){var f=n.stateNode;try{_i(f,"")}catch(ae){Ue(n,n.return,ae)}}if(c&4&&(f=n.stateNode,f!=null)){var g=n.memoizedProps,_=a!==null?a.memoizedProps:g,T=n.type,P=n.updateQueue;if(n.updateQueue=null,P!==null)try{T==="input"&&g.type==="radio"&&g.name!=null&&Fd(f,g),Ka(T,_);var H=Ka(T,g);for(_=0;_<P.length;_+=2){var Q=P[_],X=P[_+1];Q==="style"?Gd(f,X):Q==="dangerouslySetInnerHTML"?Vd(f,X):Q==="children"?_i(f,X):N(f,Q,X,H)}switch(T){case"input":Ba(f,g);break;case"textarea":Hd(f,g);break;case"select":var J=f._wrapperState.wasMultiple;f._wrapperState.wasMultiple=!!g.multiple;var ne=g.value;ne!=null?xn(f,!!g.multiple,ne,!1):J!==!!g.multiple&&(g.defaultValue!=null?xn(f,!!g.multiple,g.defaultValue,!0):xn(f,!!g.multiple,g.multiple?[]:"",!1))}f[Bi]=g}catch(ae){Ue(n,n.return,ae)}}break;case 6:if(Ft(s,n),Qt(n),c&4){if(n.stateNode===null)throw Error(t(162));f=n.stateNode,g=n.memoizedProps;try{f.nodeValue=g}catch(ae){Ue(n,n.return,ae)}}break;case 3:if(Ft(s,n),Qt(n),c&4&&a!==null&&a.memoizedState.isDehydrated)try{Di(s.containerInfo)}catch(ae){Ue(n,n.return,ae)}break;case 4:Ft(s,n),Qt(n);break;case 13:Ft(s,n),Qt(n),f=n.child,f.flags&8192&&(g=f.memoizedState!==null,f.stateNode.isHidden=g,!g||f.alternate!==null&&f.alternate.memoizedState!==null||(wu=ze())),c&4&&hp(n);break;case 22:if(Q=a!==null&&a.memoizedState!==null,n.mode&1?(ot=(H=ot)||Q,Ft(s,n),ot=H):Ft(s,n),Qt(n),c&8192){if(H=n.memoizedState!==null,(n.stateNode.isHidden=H)&&!Q&&n.mode&1)for(se=n,Q=n.child;Q!==null;){for(X=se=Q;se!==null;){switch(J=se,ne=J.child,J.tag){case 0:case 11:case 14:case 15:Zi(4,J,J.return);break;case 1:Vn(J,J.return);var oe=J.stateNode;if(typeof oe.componentWillUnmount=="function"){c=J,a=J.return;try{s=c,oe.props=s.memoizedProps,oe.state=s.memoizedState,oe.componentWillUnmount()}catch(ae){Ue(c,a,ae)}}break;case 5:Vn(J,J.return);break;case 22:if(J.memoizedState!==null){mp(X);continue}}ne!==null?(ne.return=J,se=ne):mp(X)}Q=Q.sibling}e:for(Q=null,X=n;;){if(X.tag===5){if(Q===null){Q=X;try{f=X.stateNode,H?(g=f.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none"):(T=X.stateNode,P=X.memoizedProps.style,_=P!=null&&P.hasOwnProperty("display")?P.display:null,T.style.display=Kd("display",_))}catch(ae){Ue(n,n.return,ae)}}}else if(X.tag===6){if(Q===null)try{X.stateNode.nodeValue=H?"":X.memoizedProps}catch(ae){Ue(n,n.return,ae)}}else if((X.tag!==22&&X.tag!==23||X.memoizedState===null||X===n)&&X.child!==null){X.child.return=X,X=X.child;continue}if(X===n)break e;for(;X.sibling===null;){if(X.return===null||X.return===n)break e;Q===X&&(Q=null),X=X.return}Q===X&&(Q=null),X.sibling.return=X.return,X=X.sibling}}break;case 19:Ft(s,n),Qt(n),c&4&&hp(n);break;case 21:break;default:Ft(s,n),Qt(n)}}function Qt(n){var s=n.flags;if(s&2){try{e:{for(var a=n.return;a!==null;){if(up(a)){var c=a;break e}a=a.return}throw Error(t(160))}switch(c.tag){case 5:var f=c.stateNode;c.flags&32&&(_i(f,""),c.flags&=-33);var g=cp(n);mu(n,g,f);break;case 3:case 4:var _=c.stateNode.containerInfo,T=cp(n);gu(n,T,_);break;default:throw Error(t(161))}}catch(P){Ue(n,n.return,P)}n.flags&=-3}s&4096&&(n.flags&=-4097)}function tw(n,s,a){se=n,pp(n)}function pp(n,s,a){for(var c=(n.mode&1)!==0;se!==null;){var f=se,g=f.child;if(f.tag===22&&c){var _=f.memoizedState!==null||bo;if(!_){var T=f.alternate,P=T!==null&&T.memoizedState!==null||ot;T=bo;var H=ot;if(bo=_,(ot=P)&&!H)for(se=f;se!==null;)_=se,P=_.child,_.tag===22&&_.memoizedState!==null?yp(f):P!==null?(P.return=_,se=P):yp(f);for(;g!==null;)se=g,pp(g),g=g.sibling;se=f,bo=T,ot=H}gp(n)}else f.subtreeFlags&8772&&g!==null?(g.return=f,se=g):gp(n)}}function gp(n){for(;se!==null;){var s=se;if(s.flags&8772){var a=s.alternate;try{if(s.flags&8772)switch(s.tag){case 0:case 11:case 15:ot||Eo(5,s);break;case 1:var c=s.stateNode;if(s.flags&4&&!ot)if(a===null)c.componentDidMount();else{var f=s.elementType===s.type?a.memoizedProps:Lt(s.type,a.memoizedProps);c.componentDidUpdate(f,a.memoizedState,c.__reactInternalSnapshotBeforeUpdate)}var g=s.updateQueue;g!==null&&mf(s,g,c);break;case 3:var _=s.updateQueue;if(_!==null){if(a=null,s.child!==null)switch(s.child.tag){case 5:a=s.child.stateNode;break;case 1:a=s.child.stateNode}mf(s,_,a)}break;case 5:var T=s.stateNode;if(a===null&&s.flags&4){a=T;var P=s.memoizedProps;switch(s.type){case"button":case"input":case"select":case"textarea":P.autoFocus&&a.focus();break;case"img":P.src&&(a.src=P.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(s.memoizedState===null){var H=s.alternate;if(H!==null){var Q=H.memoizedState;if(Q!==null){var X=Q.dehydrated;X!==null&&Di(X)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}ot||s.flags&512&&pu(s)}catch(J){Ue(s,s.return,J)}}if(s===n){se=null;break}if(a=s.sibling,a!==null){a.return=s.return,se=a;break}se=s.return}}function mp(n){for(;se!==null;){var s=se;if(s===n){se=null;break}var a=s.sibling;if(a!==null){a.return=s.return,se=a;break}se=s.return}}function yp(n){for(;se!==null;){var s=se;try{switch(s.tag){case 0:case 11:case 15:var a=s.return;try{Eo(4,s)}catch(P){Ue(s,a,P)}break;case 1:var c=s.stateNode;if(typeof c.componentDidMount=="function"){var f=s.return;try{c.componentDidMount()}catch(P){Ue(s,f,P)}}var g=s.return;try{pu(s)}catch(P){Ue(s,g,P)}break;case 5:var _=s.return;try{pu(s)}catch(P){Ue(s,_,P)}}}catch(P){Ue(s,s.return,P)}if(s===n){se=null;break}var T=s.sibling;if(T!==null){T.return=s.return,se=T;break}se=s.return}}var rw=Math.ceil,ko=z.ReactCurrentDispatcher,yu=z.ReactCurrentOwner,Rt=z.ReactCurrentBatchConfig,Ee=0,Je=null,He=null,Ze=0,_t=0,Kn=kr(0),Ve=0,es=null,tn=0,xo=0,vu=0,ts=null,ft=null,wu=0,Gn=1/0,dr=null,To=!1,_u=null,Rr=null,Oo=!1,Dr=null,Co=0,rs=0,Su=null,Po=-1,Ro=0;function ut(){return Ee&6?ze():Po!==-1?Po:Po=ze()}function Ir(n){return n.mode&1?Ee&2&&Ze!==0?Ze&-Ze:U0.transition!==null?(Ro===0&&(Ro=uh()),Ro):(n=Oe,n!==0||(n=window.event,n=n===void 0?16:vh(n.type)),n):1}function zt(n,s,a,c){if(50<rs)throw rs=0,Su=null,Error(t(185));Ti(n,a,c),(!(Ee&2)||n!==Je)&&(n===Je&&(!(Ee&2)&&(xo|=a),Ve===4&&Ar(n,Ze)),pt(n,c),a===1&&Ee===0&&!(s.mode&1)&&(Gn=ze()+500,no&&Tr()))}function pt(n,s){var a=n.callbackNode;Uv(n,s);var c=Ls(n,n===Je?Ze:0);if(c===0)a!==null&&oh(a),n.callbackNode=null,n.callbackPriority=0;else if(s=c&-c,n.callbackPriority!==s){if(a!=null&&oh(a),s===1)n.tag===0?L0(wp.bind(null,n)):nf(wp.bind(null,n)),N0(function(){!(Ee&6)&&Tr()}),a=null;else{switch(ch(c)){case 1:a=el;break;case 4:a=ah;break;case 16:a=Ns;break;case 536870912:a=lh;break;default:a=Ns}a=Op(a,vp.bind(null,n))}n.callbackPriority=s,n.callbackNode=a}}function vp(n,s){if(Po=-1,Ro=0,Ee&6)throw Error(t(327));var a=n.callbackNode;if(Yn()&&n.callbackNode!==a)return null;var c=Ls(n,n===Je?Ze:0);if(c===0)return null;if(c&30||c&n.expiredLanes||s)s=Do(n,c);else{s=c;var f=Ee;Ee|=2;var g=Sp();(Je!==n||Ze!==s)&&(dr=null,Gn=ze()+500,nn(n,s));do try{sw();break}catch(T){_p(n,T)}while(!0);Ul(),ko.current=g,Ee=f,He!==null?s=0:(Je=null,Ze=0,s=Ve)}if(s!==0){if(s===2&&(f=tl(n),f!==0&&(c=f,s=bu(n,f))),s===1)throw a=es,nn(n,0),Ar(n,c),pt(n,ze()),a;if(s===6)Ar(n,c);else{if(f=n.current.alternate,!(c&30)&&!nw(f)&&(s=Do(n,c),s===2&&(g=tl(n),g!==0&&(c=g,s=bu(n,g))),s===1))throw a=es,nn(n,0),Ar(n,c),pt(n,ze()),a;switch(n.finishedWork=f,n.finishedLanes=c,s){case 0:case 1:throw Error(t(345));case 2:sn(n,ft,dr);break;case 3:if(Ar(n,c),(c&130023424)===c&&(s=wu+500-ze(),10<s)){if(Ls(n,0)!==0)break;if(f=n.suspendedLanes,(f&c)!==c){ut(),n.pingedLanes|=n.suspendedLanes&f;break}n.timeoutHandle=Cl(sn.bind(null,n,ft,dr),s);break}sn(n,ft,dr);break;case 4:if(Ar(n,c),(c&4194240)===c)break;for(s=n.eventTimes,f=-1;0<c;){var _=31-jt(c);g=1<<_,_=s[_],_>f&&(f=_),c&=~g}if(c=f,c=ze()-c,c=(120>c?120:480>c?480:1080>c?1080:1920>c?1920:3e3>c?3e3:4320>c?4320:1960*rw(c/1960))-c,10<c){n.timeoutHandle=Cl(sn.bind(null,n,ft,dr),c);break}sn(n,ft,dr);break;case 5:sn(n,ft,dr);break;default:throw Error(t(329))}}}return pt(n,ze()),n.callbackNode===a?vp.bind(null,n):null}function bu(n,s){var a=ts;return n.current.memoizedState.isDehydrated&&(nn(n,s).flags|=256),n=Do(n,s),n!==2&&(s=ft,ft=a,s!==null&&Eu(s)),n}function Eu(n){ft===null?ft=n:ft.push.apply(ft,n)}function nw(n){for(var s=n;;){if(s.flags&16384){var a=s.updateQueue;if(a!==null&&(a=a.stores,a!==null))for(var c=0;c<a.length;c++){var f=a[c],g=f.getSnapshot;f=f.value;try{if(!Mt(g(),f))return!1}catch{return!1}}}if(a=s.child,s.subtreeFlags&16384&&a!==null)a.return=s,s=a;else{if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Ar(n,s){for(s&=~vu,s&=~xo,n.suspendedLanes|=s,n.pingedLanes&=~s,n=n.expirationTimes;0<s;){var a=31-jt(s),c=1<<a;n[a]=-1,s&=~c}}function wp(n){if(Ee&6)throw Error(t(327));Yn();var s=Ls(n,0);if(!(s&1))return pt(n,ze()),null;var a=Do(n,s);if(n.tag!==0&&a===2){var c=tl(n);c!==0&&(s=c,a=bu(n,c))}if(a===1)throw a=es,nn(n,0),Ar(n,s),pt(n,ze()),a;if(a===6)throw Error(t(345));return n.finishedWork=n.current.alternate,n.finishedLanes=s,sn(n,ft,dr),pt(n,ze()),null}function ku(n,s){var a=Ee;Ee|=1;try{return n(s)}finally{Ee=a,Ee===0&&(Gn=ze()+500,no&&Tr())}}function rn(n){Dr!==null&&Dr.tag===0&&!(Ee&6)&&Yn();var s=Ee;Ee|=1;var a=Rt.transition,c=Oe;try{if(Rt.transition=null,Oe=1,n)return n()}finally{Oe=c,Rt.transition=a,Ee=s,!(Ee&6)&&Tr()}}function xu(){_t=Kn.current,Ae(Kn)}function nn(n,s){n.finishedWork=null,n.finishedLanes=0;var a=n.timeoutHandle;if(a!==-1&&(n.timeoutHandle=-1,A0(a)),He!==null)for(a=He.return;a!==null;){var c=a;switch(Nl(c),c.tag){case 1:c=c.type.childContextTypes,c!=null&&to();break;case 3:Wn(),Ae(ct),Ae(nt),Kl();break;case 5:ql(c);break;case 4:Wn();break;case 13:Ae(je);break;case 19:Ae(je);break;case 10:Fl(c.type._context);break;case 22:case 23:xu()}a=a.return}if(Je=n,He=n=Nr(n.current,null),Ze=_t=s,Ve=0,es=null,vu=xo=tn=0,ft=ts=null,Xr!==null){for(s=0;s<Xr.length;s++)if(a=Xr[s],c=a.interleaved,c!==null){a.interleaved=null;var f=c.next,g=a.pending;if(g!==null){var _=g.next;g.next=f,c.next=_}a.pending=c}Xr=null}return n}function _p(n,s){do{var a=He;try{if(Ul(),po.current=vo,go){for(var c=Me.memoizedState;c!==null;){var f=c.queue;f!==null&&(f.pending=null),c=c.next}go=!1}if(en=0,Ye=qe=Me=null,Gi=!1,Yi=0,yu.current=null,a===null||a.return===null){Ve=1,es=s,He=null;break}e:{var g=n,_=a.return,T=a,P=s;if(s=Ze,T.flags|=32768,P!==null&&typeof P=="object"&&typeof P.then=="function"){var H=P,Q=T,X=Q.tag;if(!(Q.mode&1)&&(X===0||X===11||X===15)){var J=Q.alternate;J?(Q.updateQueue=J.updateQueue,Q.memoizedState=J.memoizedState,Q.lanes=J.lanes):(Q.updateQueue=null,Q.memoizedState=null)}var ne=qf(_);if(ne!==null){ne.flags&=-257,Vf(ne,_,T,g,s),ne.mode&1&&Wf(g,H,s),s=ne,P=H;var oe=s.updateQueue;if(oe===null){var ae=new Set;ae.add(P),s.updateQueue=ae}else oe.add(P);break e}else{if(!(s&1)){Wf(g,H,s),Tu();break e}P=Error(t(426))}}else if(Ne&&T.mode&1){var Be=qf(_);if(Be!==null){!(Be.flags&65536)&&(Be.flags|=256),Vf(Be,_,T,g,s),$l(qn(P,T));break e}}g=P=qn(P,T),Ve!==4&&(Ve=2),ts===null?ts=[g]:ts.push(g),g=_;do{switch(g.tag){case 3:g.flags|=65536,s&=-s,g.lanes|=s;var L=Bf(g,P,s);gf(g,L);break e;case 1:T=P;var I=g.type,B=g.stateNode;if(!(g.flags&128)&&(typeof I.getDerivedStateFromError=="function"||B!==null&&typeof B.componentDidCatch=="function"&&(Rr===null||!Rr.has(B)))){g.flags|=65536,s&=-s,g.lanes|=s;var te=Hf(g,T,s);gf(g,te);break e}}g=g.return}while(g!==null)}Ep(a)}catch(ue){s=ue,He===a&&a!==null&&(He=a=a.return);continue}break}while(!0)}function Sp(){var n=ko.current;return ko.current=vo,n===null?vo:n}function Tu(){(Ve===0||Ve===3||Ve===2)&&(Ve=4),Je===null||!(tn&268435455)&&!(xo&268435455)||Ar(Je,Ze)}function Do(n,s){var a=Ee;Ee|=2;var c=Sp();(Je!==n||Ze!==s)&&(dr=null,nn(n,s));do try{iw();break}catch(f){_p(n,f)}while(!0);if(Ul(),Ee=a,ko.current=c,He!==null)throw Error(t(261));return Je=null,Ze=0,Ve}function iw(){for(;He!==null;)bp(He)}function sw(){for(;He!==null&&!Rv();)bp(He)}function bp(n){var s=Tp(n.alternate,n,_t);n.memoizedProps=n.pendingProps,s===null?Ep(n):He=s,yu.current=null}function Ep(n){var s=n;do{var a=s.alternate;if(n=s.return,s.flags&32768){if(a=X0(a,s),a!==null){a.flags&=32767,He=a;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{Ve=6,He=null;return}}else if(a=Q0(a,s,_t),a!==null){He=a;return}if(s=s.sibling,s!==null){He=s;return}He=s=n}while(s!==null);Ve===0&&(Ve=5)}function sn(n,s,a){var c=Oe,f=Rt.transition;try{Rt.transition=null,Oe=1,ow(n,s,a,c)}finally{Rt.transition=f,Oe=c}return null}function ow(n,s,a,c){do Yn();while(Dr!==null);if(Ee&6)throw Error(t(327));a=n.finishedWork;var f=n.finishedLanes;if(a===null)return null;if(n.finishedWork=null,n.finishedLanes=0,a===n.current)throw Error(t(177));n.callbackNode=null,n.callbackPriority=0;var g=a.lanes|a.childLanes;if(Fv(n,g),n===Je&&(He=Je=null,Ze=0),!(a.subtreeFlags&2064)&&!(a.flags&2064)||Oo||(Oo=!0,Op(Ns,function(){return Yn(),null})),g=(a.flags&15990)!==0,a.subtreeFlags&15990||g){g=Rt.transition,Rt.transition=null;var _=Oe;Oe=1;var T=Ee;Ee|=4,yu.current=null,ew(n,a),fp(a,n),T0(Tl),zs=!!xl,Tl=xl=null,n.current=a,tw(a),Dv(),Ee=T,Oe=_,Rt.transition=g}else n.current=a;if(Oo&&(Oo=!1,Dr=n,Co=f),g=n.pendingLanes,g===0&&(Rr=null),Nv(a.stateNode),pt(n,ze()),s!==null)for(c=n.onRecoverableError,a=0;a<s.length;a++)f=s[a],c(f.value,{componentStack:f.stack,digest:f.digest});if(To)throw To=!1,n=_u,_u=null,n;return Co&1&&n.tag!==0&&Yn(),g=n.pendingLanes,g&1?n===Su?rs++:(rs=0,Su=n):rs=0,Tr(),null}function Yn(){if(Dr!==null){var n=ch(Co),s=Rt.transition,a=Oe;try{if(Rt.transition=null,Oe=16>n?16:n,Dr===null)var c=!1;else{if(n=Dr,Dr=null,Co=0,Ee&6)throw Error(t(331));var f=Ee;for(Ee|=4,se=n.current;se!==null;){var g=se,_=g.child;if(se.flags&16){var T=g.deletions;if(T!==null){for(var P=0;P<T.length;P++){var H=T[P];for(se=H;se!==null;){var Q=se;switch(Q.tag){case 0:case 11:case 15:Zi(8,Q,g)}var X=Q.child;if(X!==null)X.return=Q,se=X;else for(;se!==null;){Q=se;var J=Q.sibling,ne=Q.return;if(lp(Q),Q===H){se=null;break}if(J!==null){J.return=ne,se=J;break}se=ne}}}var oe=g.alternate;if(oe!==null){var ae=oe.child;if(ae!==null){oe.child=null;do{var Be=ae.sibling;ae.sibling=null,ae=Be}while(ae!==null)}}se=g}}if(g.subtreeFlags&2064&&_!==null)_.return=g,se=_;else e:for(;se!==null;){if(g=se,g.flags&2048)switch(g.tag){case 0:case 11:case 15:Zi(9,g,g.return)}var L=g.sibling;if(L!==null){L.return=g.return,se=L;break e}se=g.return}}var I=n.current;for(se=I;se!==null;){_=se;var B=_.child;if(_.subtreeFlags&2064&&B!==null)B.return=_,se=B;else e:for(_=I;se!==null;){if(T=se,T.flags&2048)try{switch(T.tag){case 0:case 11:case 15:Eo(9,T)}}catch(ue){Ue(T,T.return,ue)}if(T===_){se=null;break e}var te=T.sibling;if(te!==null){te.return=T.return,se=te;break e}se=T.return}}if(Ee=f,Tr(),Kt&&typeof Kt.onPostCommitFiberRoot=="function")try{Kt.onPostCommitFiberRoot(js,n)}catch{}c=!0}return c}finally{Oe=a,Rt.transition=s}}return!1}function kp(n,s,a){s=qn(a,s),s=Bf(n,s,1),n=Cr(n,s,1),s=ut(),n!==null&&(Ti(n,1,s),pt(n,s))}function Ue(n,s,a){if(n.tag===3)kp(n,n,a);else for(;s!==null;){if(s.tag===3){kp(s,n,a);break}else if(s.tag===1){var c=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(Rr===null||!Rr.has(c))){n=qn(a,n),n=Hf(s,n,1),s=Cr(s,n,1),n=ut(),s!==null&&(Ti(s,1,n),pt(s,n));break}}s=s.return}}function aw(n,s,a){var c=n.pingCache;c!==null&&c.delete(s),s=ut(),n.pingedLanes|=n.suspendedLanes&a,Je===n&&(Ze&a)===a&&(Ve===4||Ve===3&&(Ze&130023424)===Ze&&500>ze()-wu?nn(n,0):vu|=a),pt(n,s)}function xp(n,s){s===0&&(n.mode&1?(s=$s,$s<<=1,!($s&130023424)&&($s=4194304)):s=1);var a=ut();n=lr(n,s),n!==null&&(Ti(n,s,a),pt(n,a))}function lw(n){var s=n.memoizedState,a=0;s!==null&&(a=s.retryLane),xp(n,a)}function uw(n,s){var a=0;switch(n.tag){case 13:var c=n.stateNode,f=n.memoizedState;f!==null&&(a=f.retryLane);break;case 19:c=n.stateNode;break;default:throw Error(t(314))}c!==null&&c.delete(s),xp(n,a)}var Tp;Tp=function(n,s,a){if(n!==null)if(n.memoizedProps!==s.pendingProps||ct.current)ht=!0;else{if(!(n.lanes&a)&&!(s.flags&128))return ht=!1,J0(n,s,a);ht=!!(n.flags&131072)}else ht=!1,Ne&&s.flags&1048576&&sf(s,so,s.index);switch(s.lanes=0,s.tag){case 2:var c=s.type;So(n,s),n=s.pendingProps;var f=$n(s,nt.current);Hn(s,a),f=Jl(null,s,c,n,f,a);var g=Ql();return s.flags|=1,typeof f=="object"&&f!==null&&typeof f.render=="function"&&f.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,dt(c)?(g=!0,ro(s)):g=!1,s.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,Hl(s),f.updater=wo,s.stateNode=f,f._reactInternals=s,nu(s,c,n,a),s=au(null,s,c,!0,g,a)):(s.tag=0,Ne&&g&&Al(s),lt(null,s,f,a),s=s.child),s;case 16:c=s.elementType;e:{switch(So(n,s),n=s.pendingProps,f=c._init,c=f(c._payload),s.type=c,f=s.tag=dw(c),n=Lt(c,n),f){case 0:s=ou(null,s,c,n,a);break e;case 1:s=Xf(null,s,c,n,a);break e;case 11:s=Kf(null,s,c,n,a);break e;case 14:s=Gf(null,s,c,Lt(c.type,n),a);break e}throw Error(t(306,c,""))}return s;case 0:return c=s.type,f=s.pendingProps,f=s.elementType===c?f:Lt(c,f),ou(n,s,c,f,a);case 1:return c=s.type,f=s.pendingProps,f=s.elementType===c?f:Lt(c,f),Xf(n,s,c,f,a);case 3:e:{if(Zf(s),n===null)throw Error(t(387));c=s.pendingProps,g=s.memoizedState,f=g.element,pf(n,s),ho(s,c,null,a);var _=s.memoizedState;if(c=_.element,g.isDehydrated)if(g={element:c,isDehydrated:!1,cache:_.cache,pendingSuspenseBoundaries:_.pendingSuspenseBoundaries,transitions:_.transitions},s.updateQueue.baseState=g,s.memoizedState=g,s.flags&256){f=qn(Error(t(423)),s),s=ep(n,s,c,a,f);break e}else if(c!==f){f=qn(Error(t(424)),s),s=ep(n,s,c,a,f);break e}else for(wt=Er(s.stateNode.containerInfo.firstChild),vt=s,Ne=!0,$t=null,a=hf(s,null,c,a),s.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(Fn(),c===f){s=cr(n,s,a);break e}lt(n,s,c,a)}s=s.child}return s;case 5:return yf(s),n===null&&Ml(s),c=s.type,f=s.pendingProps,g=n!==null?n.memoizedProps:null,_=f.children,Ol(c,f)?_=null:g!==null&&Ol(c,g)&&(s.flags|=32),Qf(n,s),lt(n,s,_,a),s.child;case 6:return n===null&&Ml(s),null;case 13:return tp(n,s,a);case 4:return Wl(s,s.stateNode.containerInfo),c=s.pendingProps,n===null?s.child=zn(s,null,c,a):lt(n,s,c,a),s.child;case 11:return c=s.type,f=s.pendingProps,f=s.elementType===c?f:Lt(c,f),Kf(n,s,c,f,a);case 7:return lt(n,s,s.pendingProps,a),s.child;case 8:return lt(n,s,s.pendingProps.children,a),s.child;case 12:return lt(n,s,s.pendingProps.children,a),s.child;case 10:e:{if(c=s.type._context,f=s.pendingProps,g=s.memoizedProps,_=f.value,Re(lo,c._currentValue),c._currentValue=_,g!==null)if(Mt(g.value,_)){if(g.children===f.children&&!ct.current){s=cr(n,s,a);break e}}else for(g=s.child,g!==null&&(g.return=s);g!==null;){var T=g.dependencies;if(T!==null){_=g.child;for(var P=T.firstContext;P!==null;){if(P.context===c){if(g.tag===1){P=ur(-1,a&-a),P.tag=2;var H=g.updateQueue;if(H!==null){H=H.shared;var Q=H.pending;Q===null?P.next=P:(P.next=Q.next,Q.next=P),H.pending=P}}g.lanes|=a,P=g.alternate,P!==null&&(P.lanes|=a),zl(g.return,a,s),T.lanes|=a;break}P=P.next}}else if(g.tag===10)_=g.type===s.type?null:g.child;else if(g.tag===18){if(_=g.return,_===null)throw Error(t(341));_.lanes|=a,T=_.alternate,T!==null&&(T.lanes|=a),zl(_,a,s),_=g.sibling}else _=g.child;if(_!==null)_.return=g;else for(_=g;_!==null;){if(_===s){_=null;break}if(g=_.sibling,g!==null){g.return=_.return,_=g;break}_=_.return}g=_}lt(n,s,f.children,a),s=s.child}return s;case 9:return f=s.type,c=s.pendingProps.children,Hn(s,a),f=Ct(f),c=c(f),s.flags|=1,lt(n,s,c,a),s.child;case 14:return c=s.type,f=Lt(c,s.pendingProps),f=Lt(c.type,f),Gf(n,s,c,f,a);case 15:return Yf(n,s,s.type,s.pendingProps,a);case 17:return c=s.type,f=s.pendingProps,f=s.elementType===c?f:Lt(c,f),So(n,s),s.tag=1,dt(c)?(n=!0,ro(s)):n=!1,Hn(s,a),Ff(s,c,f),nu(s,c,f,a),au(null,s,c,!0,n,a);case 19:return np(n,s,a);case 22:return Jf(n,s,a)}throw Error(t(156,s.tag))};function Op(n,s){return sh(n,s)}function cw(n,s,a,c){this.tag=n,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Dt(n,s,a,c){return new cw(n,s,a,c)}function Ou(n){return n=n.prototype,!(!n||!n.isReactComponent)}function dw(n){if(typeof n=="function")return Ou(n)?1:0;if(n!=null){if(n=n.$$typeof,n===q)return 11;if(n===C)return 14}return 2}function Nr(n,s){var a=n.alternate;return a===null?(a=Dt(n.tag,s,n.key,n.mode),a.elementType=n.elementType,a.type=n.type,a.stateNode=n.stateNode,a.alternate=n,n.alternate=a):(a.pendingProps=s,a.type=n.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=n.flags&14680064,a.childLanes=n.childLanes,a.lanes=n.lanes,a.child=n.child,a.memoizedProps=n.memoizedProps,a.memoizedState=n.memoizedState,a.updateQueue=n.updateQueue,s=n.dependencies,a.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},a.sibling=n.sibling,a.index=n.index,a.ref=n.ref,a}function Io(n,s,a,c,f,g){var _=2;if(c=n,typeof n=="function")Ou(n)&&(_=1);else if(typeof n=="string")_=5;else e:switch(n){case j:return on(a.children,f,g,s);case V:_=8,f|=8;break;case Z:return n=Dt(12,a,s,f|2),n.elementType=Z,n.lanes=g,n;case ee:return n=Dt(13,a,s,f),n.elementType=ee,n.lanes=g,n;case re:return n=Dt(19,a,s,f),n.elementType=re,n.lanes=g,n;case K:return Ao(a,f,g,s);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case ie:_=10;break e;case D:_=9;break e;case q:_=11;break e;case C:_=14;break e;case $:_=16,c=null;break e}throw Error(t(130,n==null?n:typeof n,""))}return s=Dt(_,a,s,f),s.elementType=n,s.type=c,s.lanes=g,s}function on(n,s,a,c){return n=Dt(7,n,c,s),n.lanes=a,n}function Ao(n,s,a,c){return n=Dt(22,n,c,s),n.elementType=K,n.lanes=a,n.stateNode={isHidden:!1},n}function Cu(n,s,a){return n=Dt(6,n,null,s),n.lanes=a,n}function Pu(n,s,a){return s=Dt(4,n.children!==null?n.children:[],n.key,s),s.lanes=a,s.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},s}function hw(n,s,a,c,f){this.tag=s,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=rl(0),this.expirationTimes=rl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=rl(0),this.identifierPrefix=c,this.onRecoverableError=f,this.mutableSourceEagerHydrationData=null}function Ru(n,s,a,c,f,g,_,T,P){return n=new hw(n,s,a,T,P),s===1?(s=1,g===!0&&(s|=8)):s=0,g=Dt(3,null,null,s),n.current=g,g.stateNode=n,g.memoizedState={element:c,isDehydrated:a,cache:null,transitions:null,pendingSuspenseBoundaries:null},Hl(g),n}function fw(n,s,a){var c=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:U,key:c==null?null:""+c,children:n,containerInfo:s,implementation:a}}function Cp(n){if(!n)return xr;n=n._reactInternals;e:{if(Kr(n)!==n||n.tag!==1)throw Error(t(170));var s=n;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(dt(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(t(171))}if(n.tag===1){var a=n.type;if(dt(a))return tf(n,a,s)}return s}function Pp(n,s,a,c,f,g,_,T,P){return n=Ru(a,c,!0,n,f,g,_,T,P),n.context=Cp(null),a=n.current,c=ut(),f=Ir(a),g=ur(c,f),g.callback=s??null,Cr(a,g,f),n.current.lanes=f,Ti(n,f,c),pt(n,c),n}function No(n,s,a,c){var f=s.current,g=ut(),_=Ir(f);return a=Cp(a),s.context===null?s.context=a:s.pendingContext=a,s=ur(g,_),s.payload={element:n},c=c===void 0?null:c,c!==null&&(s.callback=c),n=Cr(f,s,_),n!==null&&(zt(n,f,_,g),co(n,f,_)),_}function jo(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function Rp(n,s){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var a=n.retryLane;n.retryLane=a!==0&&a<s?a:s}}function Du(n,s){Rp(n,s),(n=n.alternate)&&Rp(n,s)}var Dp=typeof reportError=="function"?reportError:function(n){console.error(n)};function Iu(n){this._internalRoot=n}Mo.prototype.render=Iu.prototype.render=function(n){var s=this._internalRoot;if(s===null)throw Error(t(409));No(n,s,null,null)},Mo.prototype.unmount=Iu.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var s=n.containerInfo;rn(function(){No(null,n,null,null)}),s[ir]=null}};function Mo(n){this._internalRoot=n}Mo.prototype.unstable_scheduleHydration=function(n){if(n){var s=fh();n={blockedOn:null,target:n,priority:s};for(var a=0;a<_r.length&&s!==0&&s<_r[a].priority;a++);_r.splice(a,0,n),a===0&&mh(n)}};function Au(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function $o(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function Ip(){}function pw(n,s,a,c,f){if(f){if(typeof c=="function"){var g=c;c=function(){var H=jo(_);g.call(H)}}var _=Pp(s,c,n,0,null,!1,!1,"",Ip);return n._reactRootContainer=_,n[ir]=_.current,Fi(n.nodeType===8?n.parentNode:n),rn(),_}for(;f=n.lastChild;)n.removeChild(f);if(typeof c=="function"){var T=c;c=function(){var H=jo(P);T.call(H)}}var P=Ru(n,0,!1,null,null,!1,!1,"",Ip);return n._reactRootContainer=P,n[ir]=P.current,Fi(n.nodeType===8?n.parentNode:n),rn(function(){No(s,P,a,c)}),P}function Lo(n,s,a,c,f){var g=a._reactRootContainer;if(g){var _=g;if(typeof f=="function"){var T=f;f=function(){var P=jo(_);T.call(P)}}No(s,_,n,f)}else _=pw(a,s,n,f,c);return jo(_)}dh=function(n){switch(n.tag){case 3:var s=n.stateNode;if(s.current.memoizedState.isDehydrated){var a=xi(s.pendingLanes);a!==0&&(nl(s,a|1),pt(s,ze()),!(Ee&6)&&(Gn=ze()+500,Tr()))}break;case 13:rn(function(){var c=lr(n,1);if(c!==null){var f=ut();zt(c,n,1,f)}}),Du(n,1)}},il=function(n){if(n.tag===13){var s=lr(n,134217728);if(s!==null){var a=ut();zt(s,n,134217728,a)}Du(n,134217728)}},hh=function(n){if(n.tag===13){var s=Ir(n),a=lr(n,s);if(a!==null){var c=ut();zt(a,n,s,c)}Du(n,s)}},fh=function(){return Oe},ph=function(n,s){var a=Oe;try{return Oe=n,s()}finally{Oe=a}},Ja=function(n,s,a){switch(s){case"input":if(Ba(n,a),s=a.name,a.type==="radio"&&s!=null){for(a=n;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll("input[name="+JSON.stringify(""+s)+'][type="radio"]'),s=0;s<a.length;s++){var c=a[s];if(c!==n&&c.form===n.form){var f=eo(c);if(!f)throw Error(t(90));Ld(c),Ba(c,f)}}}break;case"textarea":Hd(n,a);break;case"select":s=a.value,s!=null&&xn(n,!!a.multiple,s,!1)}},Xd=ku,Zd=rn;var gw={usingClientEntryPoint:!1,Events:[Hi,jn,eo,Jd,Qd,ku]},ns={findFiberByHostInstance:Gr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},mw={bundleType:ns.bundleType,version:ns.version,rendererPackageName:ns.rendererPackageName,rendererConfig:ns.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:z.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=nh(n),n===null?null:n.stateNode},findFiberByHostInstance:ns.findFiberByHostInstance,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Uo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Uo.isDisabled&&Uo.supportsFiber)try{js=Uo.inject(mw),Kt=Uo}catch{}}return gt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=gw,gt.createPortal=function(n,s){var a=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Au(s))throw Error(t(200));return fw(n,s,null,a)},gt.createRoot=function(n,s){if(!Au(n))throw Error(t(299));var a=!1,c="",f=Dp;return s!=null&&(s.unstable_strictMode===!0&&(a=!0),s.identifierPrefix!==void 0&&(c=s.identifierPrefix),s.onRecoverableError!==void 0&&(f=s.onRecoverableError)),s=Ru(n,1,!1,null,null,a,!1,c,f),n[ir]=s.current,Fi(n.nodeType===8?n.parentNode:n),new Iu(s)},gt.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var s=n._reactInternals;if(s===void 0)throw typeof n.render=="function"?Error(t(188)):(n=Object.keys(n).join(","),Error(t(268,n)));return n=nh(s),n=n===null?null:n.stateNode,n},gt.flushSync=function(n){return rn(n)},gt.hydrate=function(n,s,a){if(!$o(s))throw Error(t(200));return Lo(null,n,s,!0,a)},gt.hydrateRoot=function(n,s,a){if(!Au(n))throw Error(t(405));var c=a!=null&&a.hydratedSources||null,f=!1,g="",_=Dp;if(a!=null&&(a.unstable_strictMode===!0&&(f=!0),a.identifierPrefix!==void 0&&(g=a.identifierPrefix),a.onRecoverableError!==void 0&&(_=a.onRecoverableError)),s=Pp(s,null,n,1,a??null,f,!1,g,_),n[ir]=s.current,Fi(n),c)for(n=0;n<c.length;n++)a=c[n],f=a._getVersion,f=f(a._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[a,f]:s.mutableSourceEagerHydrationData.push(a,f);return new Mo(s)},gt.render=function(n,s,a){if(!$o(s))throw Error(t(200));return Lo(null,n,s,!1,a)},gt.unmountComponentAtNode=function(n){if(!$o(n))throw Error(t(40));return n._reactRootContainer?(rn(function(){Lo(null,null,n,!1,function(){n._reactRootContainer=null,n[ir]=null})}),!0):!1},gt.unstable_batchedUpdates=ku,gt.unstable_renderSubtreeIntoContainer=function(n,s,a,c){if(!$o(a))throw Error(t(200));if(n==null||n._reactInternals===void 0)throw Error(t(38));return Lo(n,s,a,!1,c)},gt.version="18.3.1-next-f1338f8080-20240426",gt}var Bp;function Am(){if(Bp)return Mu.exports;Bp=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Mu.exports=xw(),Mu.exports}var Hp;function Tw(){if(Hp)return Fo;Hp=1;var r=Am();return Fo.createRoot=r.createRoot,Fo.hydrateRoot=r.hydrateRoot,Fo}var Ow=Tw(),ss={},Wp;function Cw(){if(Wp)return ss;Wp=1,Object.defineProperty(ss,"__esModule",{value:!0}),ss.parse=u,ss.serialize=p;const r=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,i=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,l=(()=>{const b=function(){};return b.prototype=Object.create(null),b})();function u(b,y){const w=new l,S=b.length;if(S<2)return w;const E=(y==null?void 0:y.decode)||m;let k=0;do{const O=b.indexOf("=",k);if(O===-1)break;const N=b.indexOf(";",k),z=N===-1?S:N;if(O>z){k=b.lastIndexOf(";",O-1)+1;continue}const F=d(b,k,O),U=h(b,O,F),j=b.slice(F,U);if(w[j]===void 0){let V=d(b,O+1,z),Z=h(b,z,V);const ie=E(b.slice(V,Z));w[j]=ie}k=z+1}while(k<S);return w}function d(b,y,w){do{const S=b.charCodeAt(y);if(S!==32&&S!==9)return y}while(++y<w);return w}function h(b,y,w){for(;y>w;){const S=b.charCodeAt(--y);if(S!==32&&S!==9)return y+1}return w}function p(b,y,w){const S=(w==null?void 0:w.encode)||encodeURIComponent;if(!r.test(b))throw new TypeError(`argument name is invalid: ${b}`);const E=S(y);if(!e.test(E))throw new TypeError(`argument val is invalid: ${y}`);let k=b+"="+E;if(!w)return k;if(w.maxAge!==void 0){if(!Number.isInteger(w.maxAge))throw new TypeError(`option maxAge is invalid: ${w.maxAge}`);k+="; Max-Age="+w.maxAge}if(w.domain){if(!t.test(w.domain))throw new TypeError(`option domain is invalid: ${w.domain}`);k+="; Domain="+w.domain}if(w.path){if(!i.test(w.path))throw new TypeError(`option path is invalid: ${w.path}`);k+="; Path="+w.path}if(w.expires){if(!v(w.expires)||!Number.isFinite(w.expires.valueOf()))throw new TypeError(`option expires is invalid: ${w.expires}`);k+="; Expires="+w.expires.toUTCString()}if(w.httpOnly&&(k+="; HttpOnly"),w.secure&&(k+="; Secure"),w.partitioned&&(k+="; Partitioned"),w.priority)switch(typeof w.priority=="string"?w.priority.toLowerCase():void 0){case"low":k+="; Priority=Low";break;case"medium":k+="; Priority=Medium";break;case"high":k+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${w.priority}`)}if(w.sameSite)switch(typeof w.sameSite=="string"?w.sameSite.toLowerCase():w.sameSite){case!0:case"strict":k+="; SameSite=Strict";break;case"lax":k+="; SameSite=Lax";break;case"none":k+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${w.sameSite}`)}return k}function m(b){if(b.indexOf("%")===-1)return b;try{return decodeURIComponent(b)}catch{return b}}function v(b){return o.call(b)==="[object Date]"}return ss}Cw();/**
 * react-router v7.1.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var qp="popstate";function Pw(r={}){function e(i,o){let{pathname:l,search:u,hash:d}=i.location;return Dc("",{pathname:l,search:u,hash:d},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function t(i,o){return typeof o=="string"?o:vs(o)}return Dw(e,t,null,r)}function Le(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function er(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Rw(){return Math.random().toString(36).substring(2,10)}function Vp(r,e){return{usr:r.state,key:r.key,idx:e}}function Dc(r,e,t=null,i){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?gi(e):e,state:t,key:e&&e.key||i||Rw()}}function vs({pathname:r="/",search:e="",hash:t=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(r+=t.charAt(0)==="#"?t:"#"+t),r}function gi(r){let e={};if(r){let t=r.indexOf("#");t>=0&&(e.hash=r.substring(t),r=r.substring(0,t));let i=r.indexOf("?");i>=0&&(e.search=r.substring(i),r=r.substring(0,i)),r&&(e.pathname=r)}return e}function Dw(r,e,t,i={}){let{window:o=document.defaultView,v5Compat:l=!1}=i,u=o.history,d="POP",h=null,p=m();p==null&&(p=0,u.replaceState({...u.state,idx:p},""));function m(){return(u.state||{idx:null}).idx}function v(){d="POP";let E=m(),k=E==null?null:E-p;p=E,h&&h({action:d,location:S.location,delta:k})}function b(E,k){d="PUSH";let O=Dc(S.location,E,k);p=m()+1;let N=Vp(O,p),z=S.createHref(O);try{u.pushState(N,"",z)}catch(F){if(F instanceof DOMException&&F.name==="DataCloneError")throw F;o.location.assign(z)}l&&h&&h({action:d,location:S.location,delta:1})}function y(E,k){d="REPLACE";let O=Dc(S.location,E,k);p=m();let N=Vp(O,p),z=S.createHref(O);u.replaceState(N,"",z),l&&h&&h({action:d,location:S.location,delta:0})}function w(E){let k=o.location.origin!=="null"?o.location.origin:o.location.href,O=typeof E=="string"?E:vs(E);return O=O.replace(/ $/,"%20"),Le(k,`No window.location.(origin|href) available to create URL for href: ${O}`),new URL(O,k)}let S={get action(){return d},get location(){return r(o,u)},listen(E){if(h)throw new Error("A history only accepts one active listener");return o.addEventListener(qp,v),h=E,()=>{o.removeEventListener(qp,v),h=null}},createHref(E){return e(o,E)},createURL:w,encodeLocation(E){let k=w(E);return{pathname:k.pathname,search:k.search,hash:k.hash}},push:b,replace:y,go(E){return u.go(E)}};return S}function Nm(r,e,t="/"){return Iw(r,e,t,!1)}function Iw(r,e,t,i){let o=typeof e=="string"?gi(e):e,l=Hr(o.pathname||"/",t);if(l==null)return null;let u=jm(r);Aw(u);let d=null;for(let h=0;d==null&&h<u.length;++h){let p=Ww(l);d=Bw(u[h],p,i)}return d}function jm(r,e=[],t=[],i=""){let o=(l,u,d)=>{let h={relativePath:d===void 0?l.path||"":d,caseSensitive:l.caseSensitive===!0,childrenIndex:u,route:l};h.relativePath.startsWith("/")&&(Le(h.relativePath.startsWith(i),`Absolute route path "${h.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),h.relativePath=h.relativePath.slice(i.length));let p=gr([i,h.relativePath]),m=t.concat(h);l.children&&l.children.length>0&&(Le(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),jm(l.children,e,m,p)),!(l.path==null&&!l.index)&&e.push({path:p,score:Fw(p,l.index),routesMeta:m})};return r.forEach((l,u)=>{var d;if(l.path===""||!((d=l.path)!=null&&d.includes("?")))o(l,u);else for(let h of Mm(l.path))o(l,u,h)}),e}function Mm(r){let e=r.split("/");if(e.length===0)return[];let[t,...i]=e,o=t.endsWith("?"),l=t.replace(/\?$/,"");if(i.length===0)return o?[l,""]:[l];let u=Mm(i.join("/")),d=[];return d.push(...u.map(h=>h===""?l:[l,h].join("/"))),o&&d.push(...u),d.map(h=>r.startsWith("/")&&h===""?"/":h)}function Aw(r){r.sort((e,t)=>e.score!==t.score?t.score-e.score:zw(e.routesMeta.map(i=>i.childrenIndex),t.routesMeta.map(i=>i.childrenIndex)))}var Nw=/^:[\w-]+$/,jw=3,Mw=2,$w=1,Lw=10,Uw=-2,Kp=r=>r==="*";function Fw(r,e){let t=r.split("/"),i=t.length;return t.some(Kp)&&(i+=Uw),e&&(i+=Mw),t.filter(o=>!Kp(o)).reduce((o,l)=>o+(Nw.test(l)?jw:l===""?$w:Lw),i)}function zw(r,e){return r.length===e.length&&r.slice(0,-1).every((i,o)=>i===e[o])?r[r.length-1]-e[e.length-1]:0}function Bw(r,e,t=!1){let{routesMeta:i}=r,o={},l="/",u=[];for(let d=0;d<i.length;++d){let h=i[d],p=d===i.length-1,m=l==="/"?e:e.slice(l.length)||"/",v=ha({path:h.relativePath,caseSensitive:h.caseSensitive,end:p},m),b=h.route;if(!v&&p&&t&&!i[i.length-1].route.index&&(v=ha({path:h.relativePath,caseSensitive:h.caseSensitive,end:!1},m)),!v)return null;Object.assign(o,v.params),u.push({params:o,pathname:gr([l,v.pathname]),pathnameBase:Gw(gr([l,v.pathnameBase])),route:b}),v.pathnameBase!=="/"&&(l=gr([l,v.pathnameBase]))}return u}function ha(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[t,i]=Hw(r.path,r.caseSensitive,r.end),o=e.match(t);if(!o)return null;let l=o[0],u=l.replace(/(.)\/+$/,"$1"),d=o.slice(1);return{params:i.reduce((p,{paramName:m,isOptional:v},b)=>{if(m==="*"){let w=d[b]||"";u=l.slice(0,l.length-w.length).replace(/(.)\/+$/,"$1")}const y=d[b];return v&&!y?p[m]=void 0:p[m]=(y||"").replace(/%2F/g,"/"),p},{}),pathname:l,pathnameBase:u,pattern:r}}function Hw(r,e=!1,t=!0){er(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let i=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,d,h)=>(i.push({paramName:d,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)"));return r.endsWith("*")?(i.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),i]}function Ww(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return er(!1,`The URL path "${r}" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function Hr(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,i=r.charAt(t);return i&&i!=="/"?null:r.slice(t)||"/"}function qw(r,e="/"){let{pathname:t,search:i="",hash:o=""}=typeof r=="string"?gi(r):r;return{pathname:t?t.startsWith("/")?t:Vw(t,e):e,search:Yw(i),hash:Jw(o)}}function Vw(r,e){let t=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?t.length>1&&t.pop():o!=="."&&t.push(o)}),t.length>1?t.join("/"):"/"}function Uu(r,e,t,i){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Kw(r){return r.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function $m(r){let e=Kw(r);return e.map((t,i)=>i===e.length-1?t.pathname:t.pathnameBase)}function Lm(r,e,t,i=!1){let o;typeof r=="string"?o=gi(r):(o={...r},Le(!o.pathname||!o.pathname.includes("?"),Uu("?","pathname","search",o)),Le(!o.pathname||!o.pathname.includes("#"),Uu("#","pathname","hash",o)),Le(!o.search||!o.search.includes("#"),Uu("#","search","hash",o)));let l=r===""||o.pathname==="",u=l?"/":o.pathname,d;if(u==null)d=t;else{let v=e.length-1;if(!i&&u.startsWith("..")){let b=u.split("/");for(;b[0]==="..";)b.shift(),v-=1;o.pathname=b.join("/")}d=v>=0?e[v]:"/"}let h=qw(o,d),p=u&&u!=="/"&&u.endsWith("/"),m=(l||u===".")&&t.endsWith("/");return!h.pathname.endsWith("/")&&(p||m)&&(h.pathname+="/"),h}var gr=r=>r.join("/").replace(/\/\/+/g,"/"),Gw=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),Yw=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,Jw=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function Qw(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}var Um=["POST","PUT","PATCH","DELETE"];new Set(Um);var Xw=["GET",...Um];new Set(Xw);var mi=A.createContext(null);mi.displayName="DataRouter";var Oa=A.createContext(null);Oa.displayName="DataRouterState";var Fm=A.createContext({isTransitioning:!1});Fm.displayName="ViewTransition";var Zw=A.createContext(new Map);Zw.displayName="Fetchers";var e_=A.createContext(null);e_.displayName="Await";var rr=A.createContext(null);rr.displayName="Navigation";var xs=A.createContext(null);xs.displayName="Location";var nr=A.createContext({outlet:null,matches:[],isDataRoute:!1});nr.displayName="Route";var od=A.createContext(null);od.displayName="RouteError";function t_(r,{relative:e}={}){Le(Ts(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:i}=A.useContext(rr),{hash:o,pathname:l,search:u}=Os(r,{relative:e}),d=l;return t!=="/"&&(d=l==="/"?t:gr([t,l])),i.createHref({pathname:d,search:u,hash:o})}function Ts(){return A.useContext(xs)!=null}function bn(){return Le(Ts(),"useLocation() may be used only in the context of a <Router> component."),A.useContext(xs).location}var zm="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Bm(r){A.useContext(rr).static||A.useLayoutEffect(r)}function r_(){let{isDataRoute:r}=A.useContext(nr);return r?y_():n_()}function n_(){Le(Ts(),"useNavigate() may be used only in the context of a <Router> component.");let r=A.useContext(mi),{basename:e,navigator:t}=A.useContext(rr),{matches:i}=A.useContext(nr),{pathname:o}=bn(),l=JSON.stringify($m(i)),u=A.useRef(!1);return Bm(()=>{u.current=!0}),A.useCallback((h,p={})=>{if(er(u.current,zm),!u.current)return;if(typeof h=="number"){t.go(h);return}let m=Lm(h,JSON.parse(l),o,p.relative==="path");r==null&&e!=="/"&&(m.pathname=m.pathname==="/"?e:gr([e,m.pathname])),(p.replace?t.replace:t.push)(m,p.state,p)},[e,t,l,o,r])}var i_=A.createContext(null);function s_(r){let e=A.useContext(nr).outlet;return e&&A.createElement(i_.Provider,{value:r},e)}function Os(r,{relative:e}={}){let{matches:t}=A.useContext(nr),{pathname:i}=bn(),o=JSON.stringify($m(t));return A.useMemo(()=>Lm(r,JSON.parse(o),i,e==="path"),[r,o,i,e])}function o_(r,e){return Hm(r,e)}function Hm(r,e,t,i){var k;Le(Ts(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=A.useContext(rr),{matches:l}=A.useContext(nr),u=l[l.length-1],d=u?u.params:{},h=u?u.pathname:"/",p=u?u.pathnameBase:"/",m=u&&u.route;{let O=m&&m.path||"";Wm(h,!m||O.endsWith("*")||O.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${h}" (under <Route path="${O}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${O}"> to <Route path="${O==="/"?"*":`${O}/*`}">.`)}let v=bn(),b;if(e){let O=typeof e=="string"?gi(e):e;Le(p==="/"||((k=O.pathname)==null?void 0:k.startsWith(p)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${p}" but pathname "${O.pathname}" was given in the \`location\` prop.`),b=O}else b=v;let y=b.pathname||"/",w=y;if(p!=="/"){let O=p.replace(/^\//,"").split("/");w="/"+y.replace(/^\//,"").split("/").slice(O.length).join("/")}let S=Nm(r,{pathname:w});er(m||S!=null,`No routes matched location "${b.pathname}${b.search}${b.hash}" `),er(S==null||S[S.length-1].route.element!==void 0||S[S.length-1].route.Component!==void 0||S[S.length-1].route.lazy!==void 0,`Matched leaf route at location "${b.pathname}${b.search}${b.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let E=d_(S&&S.map(O=>Object.assign({},O,{params:Object.assign({},d,O.params),pathname:gr([p,o.encodeLocation?o.encodeLocation(O.pathname).pathname:O.pathname]),pathnameBase:O.pathnameBase==="/"?p:gr([p,o.encodeLocation?o.encodeLocation(O.pathnameBase).pathname:O.pathnameBase])})),l,t,i);return e&&E?A.createElement(xs.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...b},navigationType:"POP"}},E):E}function a_(){let r=m_(),e=Qw(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),t=r instanceof Error?r.stack:null,i="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:i},l={padding:"2px 4px",backgroundColor:i},u=null;return console.error("Error handled by React Router default ErrorBoundary:",r),u=A.createElement(A.Fragment,null,A.createElement("p",null," Hey developer "),A.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",A.createElement("code",{style:l},"ErrorBoundary")," or"," ",A.createElement("code",{style:l},"errorElement")," prop on your route.")),A.createElement(A.Fragment,null,A.createElement("h2",null,"Unexpected Application Error!"),A.createElement("h3",{style:{fontStyle:"italic"}},e),t?A.createElement("pre",{style:o},t):null,u)}var l_=A.createElement(a_,null),u_=class extends A.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){console.error("React Router caught the following error during render",r,e)}render(){return this.state.error!==void 0?A.createElement(nr.Provider,{value:this.props.routeContext},A.createElement(od.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function c_({routeContext:r,match:e,children:t}){let i=A.useContext(mi);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),A.createElement(nr.Provider,{value:r},t)}function d_(r,e=[],t=null,i=null){if(r==null){if(!t)return null;if(t.errors)r=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)r=t.matches;else return null}let o=r,l=t==null?void 0:t.errors;if(l!=null){let h=o.findIndex(p=>p.route.id&&(l==null?void 0:l[p.route.id])!==void 0);Le(h>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),o=o.slice(0,Math.min(o.length,h+1))}let u=!1,d=-1;if(t)for(let h=0;h<o.length;h++){let p=o[h];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(d=h),p.route.id){let{loaderData:m,errors:v}=t,b=p.route.loader&&!m.hasOwnProperty(p.route.id)&&(!v||v[p.route.id]===void 0);if(p.route.lazy||b){u=!0,d>=0?o=o.slice(0,d+1):o=[o[0]];break}}}return o.reduceRight((h,p,m)=>{let v,b=!1,y=null,w=null;t&&(v=l&&p.route.id?l[p.route.id]:void 0,y=p.route.errorElement||l_,u&&(d<0&&m===0?(Wm("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),b=!0,w=null):d===m&&(b=!0,w=p.route.hydrateFallbackElement||null)));let S=e.concat(o.slice(0,m+1)),E=()=>{let k;return v?k=y:b?k=w:p.route.Component?k=A.createElement(p.route.Component,null):p.route.element?k=p.route.element:k=h,A.createElement(c_,{match:p,routeContext:{outlet:h,matches:S,isDataRoute:t!=null},children:k})};return t&&(p.route.ErrorBoundary||p.route.errorElement||m===0)?A.createElement(u_,{location:t.location,revalidation:t.revalidation,component:y,error:v,children:E(),routeContext:{outlet:null,matches:S,isDataRoute:!0}}):E()},null)}function ad(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function h_(r){let e=A.useContext(mi);return Le(e,ad(r)),e}function f_(r){let e=A.useContext(Oa);return Le(e,ad(r)),e}function p_(r){let e=A.useContext(nr);return Le(e,ad(r)),e}function ld(r){let e=p_(r),t=e.matches[e.matches.length-1];return Le(t.route.id,`${r} can only be used on routes that contain a unique "id"`),t.route.id}function g_(){return ld("useRouteId")}function m_(){var i;let r=A.useContext(od),e=f_("useRouteError"),t=ld("useRouteError");return r!==void 0?r:(i=e.errors)==null?void 0:i[t]}function y_(){let{router:r}=h_("useNavigate"),e=ld("useNavigate"),t=A.useRef(!1);return Bm(()=>{t.current=!0}),A.useCallback(async(o,l={})=>{er(t.current,zm),t.current&&(typeof o=="number"?r.navigate(o):await r.navigate(o,{fromRouteId:e,...l}))},[r,e])}var Gp={};function Wm(r,e,t){!e&&!Gp[r]&&(Gp[r]=!0,er(!1,t))}A.memo(v_);function v_({routes:r,future:e,state:t}){return Hm(r,void 0,t,e)}function w_(r){return s_(r.context)}function Zo(r){Le(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function __({basename:r="/",children:e=null,location:t,navigationType:i="POP",navigator:o,static:l=!1}){Le(!Ts(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=r.replace(/^\/*/,"/"),d=A.useMemo(()=>({basename:u,navigator:o,static:l,future:{}}),[u,o,l]);typeof t=="string"&&(t=gi(t));let{pathname:h="/",search:p="",hash:m="",state:v=null,key:b="default"}=t,y=A.useMemo(()=>{let w=Hr(h,u);return w==null?null:{location:{pathname:w,search:p,hash:m,state:v,key:b},navigationType:i}},[u,h,p,m,v,b,i]);return er(y!=null,`<Router basename="${u}"> is not able to match the URL "${h}${p}${m}" because it does not start with the basename, so the <Router> won't render anything.`),y==null?null:A.createElement(rr.Provider,{value:d},A.createElement(xs.Provider,{children:e,value:y}))}function S_({children:r,location:e}){return o_(Ic(r),e)}function Ic(r,e=[]){let t=[];return A.Children.forEach(r,(i,o)=>{if(!A.isValidElement(i))return;let l=[...e,o];if(i.type===A.Fragment){t.push.apply(t,Ic(i.props.children,l));return}Le(i.type===Zo,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Le(!i.props.index||!i.props.children,"An index route cannot have child routes.");let u={id:i.props.id||l.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(u.children=Ic(i.props.children,l)),t.push(u)}),t}var ea="get",ta="application/x-www-form-urlencoded";function Ca(r){return r!=null&&typeof r.tagName=="string"}function b_(r){return Ca(r)&&r.tagName.toLowerCase()==="button"}function E_(r){return Ca(r)&&r.tagName.toLowerCase()==="form"}function k_(r){return Ca(r)&&r.tagName.toLowerCase()==="input"}function x_(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function T_(r,e){return r.button===0&&(!e||e==="_self")&&!x_(r)}var zo=null;function O_(){if(zo===null)try{new FormData(document.createElement("form"),0),zo=!1}catch{zo=!0}return zo}var C_=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Fu(r){return r!=null&&!C_.has(r)?(er(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${ta}"`),null):r}function P_(r,e){let t,i,o,l,u;if(E_(r)){let d=r.getAttribute("action");i=d?Hr(d,e):null,t=r.getAttribute("method")||ea,o=Fu(r.getAttribute("enctype"))||ta,l=new FormData(r)}else if(b_(r)||k_(r)&&(r.type==="submit"||r.type==="image")){let d=r.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let h=r.getAttribute("formaction")||d.getAttribute("action");if(i=h?Hr(h,e):null,t=r.getAttribute("formmethod")||d.getAttribute("method")||ea,o=Fu(r.getAttribute("formenctype"))||Fu(d.getAttribute("enctype"))||ta,l=new FormData(d,r),!O_()){let{name:p,type:m,value:v}=r;if(m==="image"){let b=p?`${p}.`:"";l.append(`${b}x`,"0"),l.append(`${b}y`,"0")}else p&&l.append(p,v)}}else{if(Ca(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=ea,i=null,o=ta,u=r}return l&&o==="text/plain"&&(u=l,l=void 0),{action:i,method:t.toLowerCase(),encType:o,formData:l,body:u}}function ud(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}async function R_(r,e){if(r.id in e)return e[r.id];try{let t=await import(r.module);return e[r.id]=t,t}catch(t){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function D_(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function I_(r,e,t){let i=await Promise.all(r.map(async o=>{let l=e.routes[o.route.id];if(l){let u=await R_(l,t);return u.links?u.links():[]}return[]}));return M_(i.flat(1).filter(D_).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function Yp(r,e,t,i,o,l){let u=(h,p)=>t[p]?h.route.id!==t[p].route.id:!0,d=(h,p)=>{var m;return t[p].pathname!==h.pathname||((m=t[p].route.path)==null?void 0:m.endsWith("*"))&&t[p].params["*"]!==h.params["*"]};return l==="assets"?e.filter((h,p)=>u(h,p)||d(h,p)):l==="data"?e.filter((h,p)=>{var v;let m=i.routes[h.route.id];if(!m||!m.hasLoader)return!1;if(u(h,p)||d(h,p))return!0;if(h.route.shouldRevalidate){let b=h.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((v=t[0])==null?void 0:v.params)||{},nextUrl:new URL(r,window.origin),nextParams:h.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function A_(r,e){return N_(r.map(t=>{let i=e.routes[t.route.id];if(!i)return[];let o=[i.module];return i.imports&&(o=o.concat(i.imports)),o}).flat(1))}function N_(r){return[...new Set(r)]}function j_(r){let e={},t=Object.keys(r).sort();for(let i of t)e[i]=r[i];return e}function M_(r,e){let t=new Set;return new Set(e),r.reduce((i,o)=>{let l=JSON.stringify(j_(o));return t.has(l)||(t.add(l),i.push({key:l,link:o})),i},[])}function $_(r){let e=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return e.pathname==="/"?e.pathname="_root.data":e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function L_(){let r=A.useContext(mi);return ud(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function U_(){let r=A.useContext(Oa);return ud(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var cd=A.createContext(void 0);cd.displayName="FrameworkContext";function qm(){let r=A.useContext(cd);return ud(r,"You must render this element inside a <HydratedRouter> element"),r}function F_(r,e){let t=A.useContext(cd),[i,o]=A.useState(!1),[l,u]=A.useState(!1),{onFocus:d,onBlur:h,onMouseEnter:p,onMouseLeave:m,onTouchStart:v}=e,b=A.useRef(null);A.useEffect(()=>{if(r==="render"&&u(!0),r==="viewport"){let S=k=>{k.forEach(O=>{u(O.isIntersecting)})},E=new IntersectionObserver(S,{threshold:.5});return b.current&&E.observe(b.current),()=>{E.disconnect()}}},[r]),A.useEffect(()=>{if(i){let S=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(S)}}},[i]);let y=()=>{o(!0)},w=()=>{o(!1),u(!1)};return t?r!=="intent"?[l,b,{}]:[l,b,{onFocus:os(d,y),onBlur:os(h,w),onMouseEnter:os(p,y),onMouseLeave:os(m,w),onTouchStart:os(v,y)}]:[!1,b,{}]}function os(r,e){return t=>{r&&r(t),t.defaultPrevented||e(t)}}function z_({page:r,...e}){let{router:t}=L_(),i=A.useMemo(()=>Nm(t.routes,r,t.basename),[t.routes,r,t.basename]);return i?A.createElement(H_,{page:r,matches:i,...e}):null}function B_(r){let{manifest:e,routeModules:t}=qm(),[i,o]=A.useState([]);return A.useEffect(()=>{let l=!1;return I_(r,e,t).then(u=>{l||o(u)}),()=>{l=!0}},[r,e,t]),i}function H_({page:r,matches:e,...t}){let i=bn(),{manifest:o,routeModules:l}=qm(),{loaderData:u,matches:d}=U_(),h=A.useMemo(()=>Yp(r,e,d,o,i,"data"),[r,e,d,o,i]),p=A.useMemo(()=>Yp(r,e,d,o,i,"assets"),[r,e,d,o,i]),m=A.useMemo(()=>{if(r===i.pathname+i.search+i.hash)return[];let y=new Set,w=!1;if(e.forEach(E=>{var O;let k=o.routes[E.route.id];!k||!k.hasLoader||(!h.some(N=>N.route.id===E.route.id)&&E.route.id in u&&((O=l[E.route.id])!=null&&O.shouldRevalidate)||k.hasClientLoader?w=!0:y.add(E.route.id))}),y.size===0)return[];let S=$_(r);return w&&y.size>0&&S.searchParams.set("_routes",e.filter(E=>y.has(E.route.id)).map(E=>E.route.id).join(",")),[S.pathname+S.search]},[u,i,o,h,e,r,l]),v=A.useMemo(()=>A_(p,o),[p,o]),b=B_(p);return A.createElement(A.Fragment,null,m.map(y=>A.createElement("link",{key:y,rel:"prefetch",as:"fetch",href:y,...t})),v.map(y=>A.createElement("link",{key:y,rel:"modulepreload",href:y,...t})),b.map(({key:y,link:w})=>A.createElement("link",{key:y,...w})))}function W_(...r){return e=>{r.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var Vm=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Vm&&(window.__reactRouterVersion="7.1.1")}catch{}function q_({basename:r,children:e,window:t}){let i=A.useRef();i.current==null&&(i.current=Pw({window:t,v5Compat:!0}));let o=i.current,[l,u]=A.useState({action:o.action,location:o.location}),d=A.useCallback(h=>{A.startTransition(()=>u(h))},[u]);return A.useLayoutEffect(()=>o.listen(d),[o,d]),A.createElement(__,{basename:r,children:e,location:l.location,navigationType:l.action,navigator:o})}var Km=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Gm=A.forwardRef(function({onClick:e,discover:t="render",prefetch:i="none",relative:o,reloadDocument:l,replace:u,state:d,target:h,to:p,preventScrollReset:m,viewTransition:v,...b},y){let{basename:w}=A.useContext(rr),S=typeof p=="string"&&Km.test(p),E,k=!1;if(typeof p=="string"&&S&&(E=p,Vm))try{let Z=new URL(window.location.href),ie=p.startsWith("//")?new URL(Z.protocol+p):new URL(p),D=Hr(ie.pathname,w);ie.origin===Z.origin&&D!=null?p=D+ie.search+ie.hash:k=!0}catch{er(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let O=t_(p,{relative:o}),[N,z,F]=F_(i,b),U=Y_(p,{replace:u,state:d,target:h,preventScrollReset:m,relative:o,viewTransition:v});function j(Z){e&&e(Z),Z.defaultPrevented||U(Z)}let V=A.createElement("a",{...b,...F,href:E||O,onClick:k||l?e:j,ref:W_(y,z),target:h,"data-discover":!S&&t==="render"?"true":void 0});return N&&!S?A.createElement(A.Fragment,null,V,A.createElement(z_,{page:O})):V});Gm.displayName="Link";var V_=A.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:i="",end:o=!1,style:l,to:u,viewTransition:d,children:h,...p},m){let v=Os(u,{relative:p.relative}),b=bn(),y=A.useContext(Oa),{navigator:w,basename:S}=A.useContext(rr),E=y!=null&&eS(v)&&d===!0,k=w.encodeLocation?w.encodeLocation(v).pathname:v.pathname,O=b.pathname,N=y&&y.navigation&&y.navigation.location?y.navigation.location.pathname:null;t||(O=O.toLowerCase(),N=N?N.toLowerCase():null,k=k.toLowerCase()),N&&S&&(N=Hr(N,S)||N);const z=k!=="/"&&k.endsWith("/")?k.length-1:k.length;let F=O===k||!o&&O.startsWith(k)&&O.charAt(z)==="/",U=N!=null&&(N===k||!o&&N.startsWith(k)&&N.charAt(k.length)==="/"),j={isActive:F,isPending:U,isTransitioning:E},V=F?e:void 0,Z;typeof i=="function"?Z=i(j):Z=[i,F?"active":null,U?"pending":null,E?"transitioning":null].filter(Boolean).join(" ");let ie=typeof l=="function"?l(j):l;return A.createElement(Gm,{...p,"aria-current":V,className:Z,ref:m,style:ie,to:u,viewTransition:d},typeof h=="function"?h(j):h)});V_.displayName="NavLink";var K_=A.forwardRef(({discover:r="render",fetcherKey:e,navigate:t,reloadDocument:i,replace:o,state:l,method:u=ea,action:d,onSubmit:h,relative:p,preventScrollReset:m,viewTransition:v,...b},y)=>{let w=X_(),S=Z_(d,{relative:p}),E=u.toLowerCase()==="get"?"get":"post",k=typeof d=="string"&&Km.test(d),O=N=>{if(h&&h(N),N.defaultPrevented)return;N.preventDefault();let z=N.nativeEvent.submitter,F=(z==null?void 0:z.getAttribute("formmethod"))||u;w(z||N.currentTarget,{fetcherKey:e,method:F,navigate:t,replace:o,state:l,relative:p,preventScrollReset:m,viewTransition:v})};return A.createElement("form",{ref:y,method:E,action:S,onSubmit:i?h:O,...b,"data-discover":!k&&r==="render"?"true":void 0})});K_.displayName="Form";function G_(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Ym(r){let e=A.useContext(mi);return Le(e,G_(r)),e}function Y_(r,{target:e,replace:t,state:i,preventScrollReset:o,relative:l,viewTransition:u}={}){let d=r_(),h=bn(),p=Os(r,{relative:l});return A.useCallback(m=>{if(T_(m,e)){m.preventDefault();let v=t!==void 0?t:vs(h)===vs(p);d(r,{replace:v,state:i,preventScrollReset:o,relative:l,viewTransition:u})}},[h,d,p,t,i,e,r,o,l,u])}var J_=0,Q_=()=>`__${String(++J_)}__`;function X_(){let{router:r}=Ym("useSubmit"),{basename:e}=A.useContext(rr),t=g_();return A.useCallback(async(i,o={})=>{let{action:l,method:u,encType:d,formData:h,body:p}=P_(i,e);if(o.navigate===!1){let m=o.fetcherKey||Q_();await r.fetch(m,t,o.action||l,{preventScrollReset:o.preventScrollReset,formData:h,body:p,formMethod:o.method||u,formEncType:o.encType||d,flushSync:o.flushSync})}else await r.navigate(o.action||l,{preventScrollReset:o.preventScrollReset,formData:h,body:p,formMethod:o.method||u,formEncType:o.encType||d,replace:o.replace,state:o.state,fromRouteId:t,flushSync:o.flushSync,viewTransition:o.viewTransition})},[r,e,t])}function Z_(r,{relative:e}={}){let{basename:t}=A.useContext(rr),i=A.useContext(nr);Le(i,"useFormAction must be used inside a RouteContext");let[o]=i.matches.slice(-1),l={...Os(r||".",{relative:e})},u=bn();if(r==null){l.search=u.search;let d=new URLSearchParams(l.search),h=d.getAll("index");if(h.some(m=>m==="")){d.delete("index"),h.filter(v=>v).forEach(v=>d.append("index",v));let m=d.toString();l.search=m?`?${m}`:""}}return(!r||r===".")&&o.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(l.pathname=l.pathname==="/"?t:gr([t,l.pathname])),vs(l)}function eS(r,e={}){let t=A.useContext(Fm);Le(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=Ym("useViewTransitionState"),o=Os(r,{relative:e.relative});if(!t.isTransitioning)return!1;let l=Hr(t.currentLocation.pathname,i)||t.currentLocation.pathname,u=Hr(t.nextLocation.pathname,i)||t.nextLocation.pathname;return ha(o.pathname,u)!=null||ha(o.pathname,l)!=null}new TextEncoder;const tS=()=>x.jsx(x.Fragment,{children:x.jsx("div",{className:"toolbar",children:x.jsx("div",{className:"tools-middle",children:x.jsx("h1",{children:"Running Calendar"})})})}),rS=()=>x.jsxs("div",{className:"footer",children:["No Ads. No Tracking.",x.jsx("br",{}),"contact: ",x.jsx("a",{href:"mailto:run@defy.org",children:"email"})," / ",x.jsx("a",{rel:"me",href:"https://sfba.social/@nanreh",children:"mastodon"})]}),nS=()=>x.jsxs(x.Fragment,{children:[x.jsx(tS,{}),x.jsx(w_,{}),x.jsx(rS,{})]});var Bo={exports:{}},Jp;function iS(){return Jp||(Jp=1,function(r,e){var t=typeof globalThis<"u"&&globalThis||typeof self<"u"&&self||typeof Ap<"u"&&Ap,i=function(){function l(){this.fetch=!1,this.DOMException=t.DOMException}return l.prototype=t,new l}();(function(l){(function(u){var d=typeof l<"u"&&l||typeof self<"u"&&self||typeof d<"u"&&d,h={searchParams:"URLSearchParams"in d,iterable:"Symbol"in d&&"iterator"in Symbol,blob:"FileReader"in d&&"Blob"in d&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in d,arrayBuffer:"ArrayBuffer"in d};function p(C){return C&&DataView.prototype.isPrototypeOf(C)}if(h.arrayBuffer)var m=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],v=ArrayBuffer.isView||function(C){return C&&m.indexOf(Object.prototype.toString.call(C))>-1};function b(C){if(typeof C!="string"&&(C=String(C)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(C)||C==="")throw new TypeError('Invalid character in header field name: "'+C+'"');return C.toLowerCase()}function y(C){return typeof C!="string"&&(C=String(C)),C}function w(C){var $={next:function(){var K=C.shift();return{done:K===void 0,value:K}}};return h.iterable&&($[Symbol.iterator]=function(){return $}),$}function S(C){this.map={},C instanceof S?C.forEach(function($,K){this.append(K,$)},this):Array.isArray(C)?C.forEach(function($){this.append($[0],$[1])},this):C&&Object.getOwnPropertyNames(C).forEach(function($){this.append($,C[$])},this)}S.prototype.append=function(C,$){C=b(C),$=y($);var K=this.map[C];this.map[C]=K?K+", "+$:$},S.prototype.delete=function(C){delete this.map[b(C)]},S.prototype.get=function(C){return C=b(C),this.has(C)?this.map[C]:null},S.prototype.has=function(C){return this.map.hasOwnProperty(b(C))},S.prototype.set=function(C,$){this.map[b(C)]=y($)},S.prototype.forEach=function(C,$){for(var K in this.map)this.map.hasOwnProperty(K)&&C.call($,this.map[K],K,this)},S.prototype.keys=function(){var C=[];return this.forEach(function($,K){C.push(K)}),w(C)},S.prototype.values=function(){var C=[];return this.forEach(function($){C.push($)}),w(C)},S.prototype.entries=function(){var C=[];return this.forEach(function($,K){C.push([K,$])}),w(C)},h.iterable&&(S.prototype[Symbol.iterator]=S.prototype.entries);function E(C){if(C.bodyUsed)return Promise.reject(new TypeError("Already read"));C.bodyUsed=!0}function k(C){return new Promise(function($,K){C.onload=function(){$(C.result)},C.onerror=function(){K(C.error)}})}function O(C){var $=new FileReader,K=k($);return $.readAsArrayBuffer(C),K}function N(C){var $=new FileReader,K=k($);return $.readAsText(C),K}function z(C){for(var $=new Uint8Array(C),K=new Array($.length),W=0;W<$.length;W++)K[W]=String.fromCharCode($[W]);return K.join("")}function F(C){if(C.slice)return C.slice(0);var $=new Uint8Array(C.byteLength);return $.set(new Uint8Array(C)),$.buffer}function U(){return this.bodyUsed=!1,this._initBody=function(C){this.bodyUsed=this.bodyUsed,this._bodyInit=C,C?typeof C=="string"?this._bodyText=C:h.blob&&Blob.prototype.isPrototypeOf(C)?this._bodyBlob=C:h.formData&&FormData.prototype.isPrototypeOf(C)?this._bodyFormData=C:h.searchParams&&URLSearchParams.prototype.isPrototypeOf(C)?this._bodyText=C.toString():h.arrayBuffer&&h.blob&&p(C)?(this._bodyArrayBuffer=F(C.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):h.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(C)||v(C))?this._bodyArrayBuffer=F(C):this._bodyText=C=Object.prototype.toString.call(C):this._bodyText="",this.headers.get("content-type")||(typeof C=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):h.searchParams&&URLSearchParams.prototype.isPrototypeOf(C)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},h.blob&&(this.blob=function(){var C=E(this);if(C)return C;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){if(this._bodyArrayBuffer){var C=E(this);return C||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}else return this.blob().then(O)}),this.text=function(){var C=E(this);if(C)return C;if(this._bodyBlob)return N(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(z(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},h.formData&&(this.formData=function(){return this.text().then(ie)}),this.json=function(){return this.text().then(JSON.parse)},this}var j=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function V(C){var $=C.toUpperCase();return j.indexOf($)>-1?$:C}function Z(C,$){if(!(this instanceof Z))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');$=$||{};var K=$.body;if(C instanceof Z){if(C.bodyUsed)throw new TypeError("Already read");this.url=C.url,this.credentials=C.credentials,$.headers||(this.headers=new S(C.headers)),this.method=C.method,this.mode=C.mode,this.signal=C.signal,!K&&C._bodyInit!=null&&(K=C._bodyInit,C.bodyUsed=!0)}else this.url=String(C);if(this.credentials=$.credentials||this.credentials||"same-origin",($.headers||!this.headers)&&(this.headers=new S($.headers)),this.method=V($.method||this.method||"GET"),this.mode=$.mode||this.mode||null,this.signal=$.signal||this.signal,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&K)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(K),(this.method==="GET"||this.method==="HEAD")&&($.cache==="no-store"||$.cache==="no-cache")){var W=/([?&])_=[^&]*/;if(W.test(this.url))this.url=this.url.replace(W,"$1_="+new Date().getTime());else{var G=/\?/;this.url+=(G.test(this.url)?"&":"?")+"_="+new Date().getTime()}}}Z.prototype.clone=function(){return new Z(this,{body:this._bodyInit})};function ie(C){var $=new FormData;return C.trim().split("&").forEach(function(K){if(K){var W=K.split("="),G=W.shift().replace(/\+/g," "),M=W.join("=").replace(/\+/g," ");$.append(decodeURIComponent(G),decodeURIComponent(M))}}),$}function D(C){var $=new S,K=C.replace(/\r?\n[\t ]+/g," ");return K.split("\r").map(function(W){return W.indexOf(`
`)===0?W.substr(1,W.length):W}).forEach(function(W){var G=W.split(":"),M=G.shift().trim();if(M){var R=G.join(":").trim();$.append(M,R)}}),$}U.call(Z.prototype);function q(C,$){if(!(this instanceof q))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');$||($={}),this.type="default",this.status=$.status===void 0?200:$.status,this.ok=this.status>=200&&this.status<300,this.statusText=$.statusText===void 0?"":""+$.statusText,this.headers=new S($.headers),this.url=$.url||"",this._initBody(C)}U.call(q.prototype),q.prototype.clone=function(){return new q(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new S(this.headers),url:this.url})},q.error=function(){var C=new q(null,{status:0,statusText:""});return C.type="error",C};var ee=[301,302,303,307,308];q.redirect=function(C,$){if(ee.indexOf($)===-1)throw new RangeError("Invalid status code");return new q(null,{status:$,headers:{location:C}})},u.DOMException=d.DOMException;try{new u.DOMException}catch{u.DOMException=function($,K){this.message=$,this.name=K;var W=Error($);this.stack=W.stack},u.DOMException.prototype=Object.create(Error.prototype),u.DOMException.prototype.constructor=u.DOMException}function re(C,$){return new Promise(function(K,W){var G=new Z(C,$);if(G.signal&&G.signal.aborted)return W(new u.DOMException("Aborted","AbortError"));var M=new XMLHttpRequest;function R(){M.abort()}M.onload=function(){var le={status:M.status,statusText:M.statusText,headers:D(M.getAllResponseHeaders()||"")};le.url="responseURL"in M?M.responseURL:le.headers.get("X-Request-URL");var fe="response"in M?M.response:M.responseText;setTimeout(function(){K(new q(fe,le))},0)},M.onerror=function(){setTimeout(function(){W(new TypeError("Network request failed"))},0)},M.ontimeout=function(){setTimeout(function(){W(new TypeError("Network request failed"))},0)},M.onabort=function(){setTimeout(function(){W(new u.DOMException("Aborted","AbortError"))},0)};function Y(le){try{return le===""&&d.location.href?d.location.href:le}catch{return le}}M.open(G.method,Y(G.url),!0),G.credentials==="include"?M.withCredentials=!0:G.credentials==="omit"&&(M.withCredentials=!1),"responseType"in M&&(h.blob?M.responseType="blob":h.arrayBuffer&&G.headers.get("Content-Type")&&G.headers.get("Content-Type").indexOf("application/octet-stream")!==-1&&(M.responseType="arraybuffer")),$&&typeof $.headers=="object"&&!($.headers instanceof S)?Object.getOwnPropertyNames($.headers).forEach(function(le){M.setRequestHeader(le,y($.headers[le]))}):G.headers.forEach(function(le,fe){M.setRequestHeader(fe,le)}),G.signal&&(G.signal.addEventListener("abort",R),M.onreadystatechange=function(){M.readyState===4&&G.signal.removeEventListener("abort",R)}),M.send(typeof G._bodyInit>"u"?null:G._bodyInit)})}return re.polyfill=!0,d.fetch||(d.fetch=re,d.Headers=S,d.Request=Z,d.Response=q),u.Headers=S,u.Request=Z,u.Response=q,u.fetch=re,u})({})})(i),i.fetch.ponyfill=!0,delete i.fetch.polyfill;var o=t.fetch?t:i;e=o.fetch,e.default=o.fetch,e.fetch=o.fetch,e.Headers=o.Headers,e.Request=o.Request,e.Response=o.Response,r.exports=e}(Bo,Bo.exports)),Bo.exports}var sS=iS();const oS=Ta(sS),aS={plansPath:"/Running_Calendar-dev/plans/json/"},lS=aS,Jm=[{id:"none",name:"Select a plan",type:"Marathon",coach:"None"},{id:"c25k",name:"Couch to 5K",type:"5K",coach:"Couch to 5K"},{id:"c25k_rbp",name:"Couch to 5K -- Runner's Blueprint",type:"5K",coach:"Couch to 5K"},{id:"frr_5k_01",name:"5K Schedule 1",type:"5K",coach:"Faster Road Racing"},{id:"frr_5k_02",name:"5K Schedule 2",type:"5K",coach:"Faster Road Racing"},{id:"frr_5k_03",name:"5K Schedule 3",type:"5K",coach:"Faster Road Racing"},{id:"frr_8k10k_01",name:"8K-10K Schedule 1",type:"10K",coach:"Faster Road Racing"},{id:"frr_8k10k_02",name:"8K-10K Schedule 2",type:"10K",coach:"Faster Road Racing"},{id:"frr_8k10k_03",name:"8K-10K Schedule 3",type:"10K",coach:"Faster Road Racing"},{id:"frr_15k_10m_01",name:"15k and 10 Miles Schedule 1",type:"15K/10M",coach:"Faster Road Racing"},{id:"frr_15k_10m_02",name:"15k and 10 Miles Schedule 2",type:"15K/10M",coach:"Faster Road Racing"},{id:"frr_15k_10m_03",name:"15k and 10 Miles Schedule 3",type:"15K/10M",coach:"Faster Road Racing"},{id:"frr_bt_01",name:"Base Training 1",type:"Base",coach:"Faster Road Racing"},{id:"frr_bt_02",name:"Base Training 2",type:"Base",coach:"Faster Road Racing"},{id:"frr_bt_03",name:"Base Training 3",type:"Base",coach:"Faster Road Racing"},{id:"frr_multiple_distances_01",name:"Multiple Distances 1",type:"Multiple Distances",coach:"Faster Road Racing"},{id:"frr_multiple_distances_02",name:"Multiple Distances 2",type:"Multiple Distances",coach:"Faster Road Racing"},{id:"frr_multiple_distances_03",name:"Multiple Distances 3",type:"Multiple Distances",coach:"Faster Road Racing"},{id:"pfitz_half_12_47",name:"Schedule 1, 31 to 47 miles per Week",type:"Half Marathon",coach:"Pfitzinger/Douglas",subcategory:"Half Marathon"},{id:"pfitz_half_12_63",name:"Schedule 2, 46 to 63 miles per Week",type:"Half Marathon",coach:"Pfitzinger/Douglas",subcategory:"Half Marathon"},{id:"pfitz_half_12_84",name:"Schedule 3, 61 to 84 miles per Week",type:"Half Marathon",coach:"Pfitzinger/Douglas",subcategory:"Half Marathon"},{id:"pfitz_half_12_100",name:"Schedule 4, 81 to 100 miles per Week",type:"Half Marathon",coach:"Pfitzinger/Douglas",subcategory:"Half Marathon"},{id:"hansons_c210k",name:"Couch Potato to 10k",type:"10K",coach:"Hansons"},{id:"hansons_adv_half",name:"Advanced Half Marathon",type:"Half Marathon",coach:"Hansons"},{id:"hansons_beg_half",name:"Beginner Half Marathon",type:"Half Marathon",coach:"Hansons"},{id:"higdon_adv_mara1",name:"Advanced 1",type:"Marathon",coach:"Hal Higdon"},{id:"higdon_adv_mara2",name:"Advanced 2",type:"Marathon",coach:"Hal Higdon"},{id:"higdon_int_mara1",name:"Intermediate 1",type:"Marathon",coach:"Hal Higdon"},{id:"higdon_int_mara2",name:"Intermediate 2",type:"Marathon",coach:"Hal Higdon"},{id:"higdon_nov_mara1",name:"Novice 1",type:"Marathon",coach:"Hal Higdon"},{id:"higdon_nov_mara2",name:"Novice 2",type:"Marathon",coach:"Hal Higdon"},{id:"higdon_mara3",name:"Marathon 3",type:"Marathon",coach:"Hal Higdon"},{id:"higdon_senior_mara",name:"Senior Marathon",type:"Marathon",coach:"Hal Higdon"},{id:"higdon_half3",name:"Half Marathon 3",type:"Half Marathon",coach:"Hal Higdon"},{id:"higdon_int_half1",name:"Half Marathon Intermediate 1",type:"Half Marathon",coach:"Hal Higdon"},{id:"higdon_int_half2",name:"Half Marathon Intermediate 2",type:"Half Marathon",coach:"Hal Higdon"},{id:"higdon_nov_half1",name:"Half Marathon Novice 1",type:"Half Marathon",coach:"Hal Higdon"},{id:"higdon_nov_half2",name:"Half Marathon Novice 2",type:"Half Marathon",coach:"Hal Higdon"},{id:"hansons_adv_mara",name:"Advanced Marathon",type:"Marathon",coach:"Hansons"},{id:"hansons_beg_mara",name:"Beginner Marathon",type:"Marathon",coach:"Hansons"},{id:"coogan_pbr_mara_up_to_65",name:"16-Week Marathon - Up to 65 Miles per Week",type:"Marathon",coach:"Personal Best Running"},{id:"boston_level_one",name:"Level 1 Plan",type:"Marathon",coach:"Boston Marathon Training"},{id:"boston_level_two",name:"Level 2 Plan",type:"Marathon",coach:"Boston Marathon Training"},{id:"boston_level_three",name:"Level 3 Plan",type:"Marathon",coach:"Boston Marathon Training"},{id:"boston_level_four",name:"Level 4 Plan",type:"Marathon",coach:"Boston Marathon Training"},{id:"pfitz_04_multi_4th",name:"Multiple Marathoning, 4-week schedule",type:"Marathon",coach:"Pfitzinger/Douglas",subcategory:"Multiple Marathoning"},{id:"pfitz_06_multi_4th",name:"Multiple Marathoning, 6-week schedule",type:"Marathon",coach:"Pfitzinger/Douglas",subcategory:"Multiple Marathoning"},{id:"pfitz_08_multi_4th",name:"Multiple Marathoning, 8-week schedule",type:"Marathon",coach:"Pfitzinger/Douglas",subcategory:"Multiple Marathoning"},{id:"pfitz_10_multi_4th",name:"Multiple Marathoning, 10-week schedule",type:"Marathon",coach:"Pfitzinger/Douglas",subcategory:"Multiple Marathoning"},{id:"pfitz_12_multi_4th",name:"Multiple Marathoning, 12-week schedule",type:"Marathon",coach:"Pfitzinger/Douglas",subcategory:"Multiple Marathoning"},{id:"pfitz_12_55_4th",name:"Up to 55 miles per week",type:"Marathon",coach:"Pfitzinger/Douglas",subcategory:"12-Week"},{id:"pfitz_12_70_4th",name:"55 to 70 Miles per Week",type:"Marathon",coach:"Pfitzinger/Douglas",subcategory:"12-Week"},{id:"pfitz_12_85_4th",name:"70 to 85 Miles per Week",type:"Marathon",coach:"Pfitzinger/Douglas",subcategory:"12-Week"},{id:"pfitz_12_more_than_85_4th",name:"More Than 85 Miles per Week",type:"Marathon",coach:"Pfitzinger/Douglas",subcategory:"12-Week"},{id:"pfitz_18_55_4th",name:"Up to 55 miles per week",type:"Marathon",coach:"Pfitzinger/Douglas",subcategory:"18-Week"},{id:"pfitz_18_70_4th",name:"55 to 70 Miles per Week",type:"Marathon",coach:"Pfitzinger/Douglas",subcategory:"18-Week"},{id:"pfitz_18_85_4th",name:"70 to 85 Miles per Week",type:"Marathon",coach:"Pfitzinger/Douglas",subcategory:"18-Week"},{id:"pfitz_18_more_than_85_4th",name:"More Than 85 Miles per Week",type:"Marathon",coach:"Pfitzinger/Douglas",subcategory:"18-Week"},{id:"pfitz_55_recovery_4th",name:"Up to 55 Miles per Week",type:"Marathon",coach:"Pfitzinger/Douglas",subcategory:"Recovery"},{id:"pfitz_70_recovery_4th",name:"55 to 70 Miles per Week",type:"Marathon",coach:"Pfitzinger/Douglas",subcategory:"Recovery"},{id:"pfitz_85_recovery_4th",name:"70 to 85 Miles per Week",type:"Marathon",coach:"Pfitzinger/Douglas",subcategory:"Recovery"},{id:"pfitz_more_than_85_recovery_4th",name:"More Than 85 Miles per Week",type:"Marathon",coach:"Pfitzinger/Douglas",subcategory:"Recovery"}];function Qp(r){return lS.plansPath+r.id+".json"}class uS{constructor(e){Bt(this,"_cache",new Map);Bt(this,"_available");Bt(this,"_byId");this._available=e;var t={};this._byId=Jm.reduce(function(i,o){return i[o.id]=o,i},t)}get available(){return this._available}find(e){return this._byId[e]?this._byId[e]:this._byId.none}get first(){return this._available[0]}isCached(e){return this._cache.has(Qp(e))}async fetch(e){return e.id==="none"?{id:"none",name:"Select a plan",description:"Please select a training plan from the dropdown above.",units:"mi",type:"Marathon",schedule:[],source:""}:await dS(Qp(e),this._cache)}}async function cS(r){const e=await oS(r);if(!e.ok){const i=await e.json();return Promise.reject(i)}return await e.json()}async function dS(r,e){if(e.has(r)){let i=e.get(r);if(!i)throw Error("Assertion error: cached object not found");return i}const t=await cS(r);return e.set(r,t),t}const hn=new uS(Jm),Qm=6048e5,hS=864e5,Xp=Symbol.for("constructDateFrom");function tr(r,e){return typeof r=="function"?r(e):r&&typeof r=="object"&&Xp in r?r[Xp](e):r instanceof Date?new r.constructor(e):new Date(e)}function Pe(r,e){return tr(e||r,r)}function pi(r,e,t){const i=Pe(r,t==null?void 0:t.in);return isNaN(e)?tr(r,NaN):(e&&i.setDate(i.getDate()+e),i)}function fS(r,e){return Pe(r,e==null?void 0:e.in).getDay()===6}function pS(r,e){return Pe(r,e==null?void 0:e.in).getDay()===0}let gS={};function Cs(){return gS}function Wr(r,e){var d,h,p,m;const t=Cs(),i=(e==null?void 0:e.weekStartsOn)??((h=(d=e==null?void 0:e.locale)==null?void 0:d.options)==null?void 0:h.weekStartsOn)??t.weekStartsOn??((m=(p=t.locale)==null?void 0:p.options)==null?void 0:m.weekStartsOn)??0,o=Pe(r,e==null?void 0:e.in),l=o.getDay(),u=(l<i?7:0)+l-i;return o.setDate(o.getDate()-u),o.setHours(0,0,0,0),o}function fa(r,e){return Wr(r,{...e,weekStartsOn:1})}function Xm(r,e){const t=Pe(r,e==null?void 0:e.in),i=t.getFullYear(),o=tr(t,0);o.setFullYear(i+1,0,4),o.setHours(0,0,0,0);const l=fa(o),u=tr(t,0);u.setFullYear(i,0,4),u.setHours(0,0,0,0);const d=fa(u);return t.getTime()>=l.getTime()?i+1:t.getTime()>=d.getTime()?i:i-1}function Zp(r){const e=Pe(r),t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),+r-+t}function Pa(r,...e){const t=tr.bind(null,e.find(i=>typeof i=="object"));return e.map(t)}function qr(r,e){const t=Pe(r,e==null?void 0:e.in);return t.setHours(0,0,0,0),t}function dd(r,e,t){const[i,o]=Pa(t==null?void 0:t.in,r,e),l=qr(i),u=qr(o),d=+l-Zp(l),h=+u-Zp(u);return Math.round((d-h)/hS)}function mS(r,e){const t=Xm(r,e),i=tr(r,0);return i.setFullYear(t,0,4),i.setHours(0,0,0,0),fa(i)}function Zm(r,e,t){return pi(r,e*7,t)}function yS(r,e,t){const[i,o]=Pa(t==null?void 0:t.in,r,e);return+qr(i)==+qr(o)}function vS(r){return r instanceof Date||typeof r=="object"&&Object.prototype.toString.call(r)==="[object Date]"}function wS(r){return!(!vS(r)&&typeof r!="number"||isNaN(+Pe(r)))}function _S(r,e,t){const[i,o]=Pa(t==null?void 0:t.in,r,e),l=eg(i,o),u=Math.abs(dd(i,o));i.setDate(i.getDate()-l*u);const d=+(eg(i,o)===-l),h=l*(u-d);return h===0?0:h}function eg(r,e){const t=r.getFullYear()-e.getFullYear()||r.getMonth()-e.getMonth()||r.getDate()-e.getDate()||r.getHours()-e.getHours()||r.getMinutes()-e.getMinutes()||r.getSeconds()-e.getSeconds()||r.getMilliseconds()-e.getMilliseconds();return t<0?-1:t>0?1:t}function SS(r){return e=>{const i=(r?Math[r]:Math.trunc)(e);return i===0?0:i}}function bS(r,e,t){const i=_S(r,e,t)/7;return SS(t==null?void 0:t.roundingMethod)(i)}function ES(r,e){const[t,i]=Pa(r,e.start,e.end);return{start:t,end:i}}function ra(r,e){const{start:t,end:i}=ES(e==null?void 0:e.in,r);let o=+t>+i;const l=o?+t:+i,u=o?i:t;u.setHours(0,0,0,0);let d=1;const h=[];for(;+u<=l;)h.push(tr(t,u)),u.setDate(u.getDate()+d),u.setHours(0,0,0,0);return o?h.reverse():h}function kS(r,e){const t=Pe(r,e==null?void 0:e.in);return t.setFullYear(t.getFullYear(),0,1),t.setHours(0,0,0,0),t}function Ra(r,e){var d,h,p,m;const t=Cs(),i=(e==null?void 0:e.weekStartsOn)??((h=(d=e==null?void 0:e.locale)==null?void 0:d.options)==null?void 0:h.weekStartsOn)??t.weekStartsOn??((m=(p=t.locale)==null?void 0:p.options)==null?void 0:m.weekStartsOn)??0,o=Pe(r,e==null?void 0:e.in),l=o.getDay(),u=(l<i?-7:0)+6-(l-i);return o.setDate(o.getDate()+u),o.setHours(23,59,59,999),o}const xS={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},TS=(r,e,t)=>{let i;const o=xS[r];return typeof o=="string"?i=o:e===1?i=o.one:i=o.other.replace("{{count}}",e.toString()),t!=null&&t.addSuffix?t.comparison&&t.comparison>0?"in "+i:i+" ago":i};function zu(r){return(e={})=>{const t=e.width?String(e.width):r.defaultWidth;return r.formats[t]||r.formats[r.defaultWidth]}}const OS={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},CS={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},PS={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},RS={date:zu({formats:OS,defaultWidth:"full"}),time:zu({formats:CS,defaultWidth:"full"}),dateTime:zu({formats:PS,defaultWidth:"full"})},DS={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},IS=(r,e,t,i)=>DS[r];function as(r){return(e,t)=>{const i=t!=null&&t.context?String(t.context):"standalone";let o;if(i==="formatting"&&r.formattingValues){const u=r.defaultFormattingWidth||r.defaultWidth,d=t!=null&&t.width?String(t.width):u;o=r.formattingValues[d]||r.formattingValues[u]}else{const u=r.defaultWidth,d=t!=null&&t.width?String(t.width):r.defaultWidth;o=r.values[d]||r.values[u]}const l=r.argumentCallback?r.argumentCallback(e):e;return o[l]}}const AS={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},NS={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},jS={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},MS={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},$S={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},LS={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},US=(r,e)=>{const t=Number(r),i=t%100;if(i>20||i<10)switch(i%10){case 1:return t+"st";case 2:return t+"nd";case 3:return t+"rd"}return t+"th"},FS={ordinalNumber:US,era:as({values:AS,defaultWidth:"wide"}),quarter:as({values:NS,defaultWidth:"wide",argumentCallback:r=>r-1}),month:as({values:jS,defaultWidth:"wide"}),day:as({values:MS,defaultWidth:"wide"}),dayPeriod:as({values:$S,defaultWidth:"wide",formattingValues:LS,defaultFormattingWidth:"wide"})};function ls(r){return(e,t={})=>{const i=t.width,o=i&&r.matchPatterns[i]||r.matchPatterns[r.defaultMatchWidth],l=e.match(o);if(!l)return null;const u=l[0],d=i&&r.parsePatterns[i]||r.parsePatterns[r.defaultParseWidth],h=Array.isArray(d)?BS(d,v=>v.test(u)):zS(d,v=>v.test(u));let p;p=r.valueCallback?r.valueCallback(h):h,p=t.valueCallback?t.valueCallback(p):p;const m=e.slice(u.length);return{value:p,rest:m}}}function zS(r,e){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t)&&e(r[t]))return t}function BS(r,e){for(let t=0;t<r.length;t++)if(e(r[t]))return t}function HS(r){return(e,t={})=>{const i=e.match(r.matchPattern);if(!i)return null;const o=i[0],l=e.match(r.parsePattern);if(!l)return null;let u=r.valueCallback?r.valueCallback(l[0]):l[0];u=t.valueCallback?t.valueCallback(u):u;const d=e.slice(o.length);return{value:u,rest:d}}}const WS=/^(\d+)(th|st|nd|rd)?/i,qS=/\d+/i,VS={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},KS={any:[/^b/i,/^(a|c)/i]},GS={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},YS={any:[/1/i,/2/i,/3/i,/4/i]},JS={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},QS={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},XS={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},ZS={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},eb={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},tb={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},rb={ordinalNumber:HS({matchPattern:WS,parsePattern:qS,valueCallback:r=>parseInt(r,10)}),era:ls({matchPatterns:VS,defaultMatchWidth:"wide",parsePatterns:KS,defaultParseWidth:"any"}),quarter:ls({matchPatterns:GS,defaultMatchWidth:"wide",parsePatterns:YS,defaultParseWidth:"any",valueCallback:r=>r+1}),month:ls({matchPatterns:JS,defaultMatchWidth:"wide",parsePatterns:QS,defaultParseWidth:"any"}),day:ls({matchPatterns:XS,defaultMatchWidth:"wide",parsePatterns:ZS,defaultParseWidth:"any"}),dayPeriod:ls({matchPatterns:eb,defaultMatchWidth:"any",parsePatterns:tb,defaultParseWidth:"any"})},nb={code:"en-US",formatDistance:TS,formatLong:RS,formatRelative:IS,localize:FS,match:rb,options:{weekStartsOn:0,firstWeekContainsDate:1}};function ib(r,e){const t=Pe(r,e==null?void 0:e.in);return dd(t,kS(t))+1}function sb(r,e){const t=Pe(r,e==null?void 0:e.in),i=+fa(t)-+mS(t);return Math.round(i/Qm)+1}function ey(r,e){var m,v,b,y;const t=Pe(r,e==null?void 0:e.in),i=t.getFullYear(),o=Cs(),l=(e==null?void 0:e.firstWeekContainsDate)??((v=(m=e==null?void 0:e.locale)==null?void 0:m.options)==null?void 0:v.firstWeekContainsDate)??o.firstWeekContainsDate??((y=(b=o.locale)==null?void 0:b.options)==null?void 0:y.firstWeekContainsDate)??1,u=tr((e==null?void 0:e.in)||r,0);u.setFullYear(i+1,0,l),u.setHours(0,0,0,0);const d=Wr(u,e),h=tr((e==null?void 0:e.in)||r,0);h.setFullYear(i,0,l),h.setHours(0,0,0,0);const p=Wr(h,e);return+t>=+d?i+1:+t>=+p?i:i-1}function ob(r,e){var d,h,p,m;const t=Cs(),i=(e==null?void 0:e.firstWeekContainsDate)??((h=(d=e==null?void 0:e.locale)==null?void 0:d.options)==null?void 0:h.firstWeekContainsDate)??t.firstWeekContainsDate??((m=(p=t.locale)==null?void 0:p.options)==null?void 0:m.firstWeekContainsDate)??1,o=ey(r,e),l=tr((e==null?void 0:e.in)||r,0);return l.setFullYear(o,0,i),l.setHours(0,0,0,0),Wr(l,e)}function ab(r,e){const t=Pe(r,e==null?void 0:e.in),i=+Wr(t,e)-+ob(t,e);return Math.round(i/Qm)+1}function Ce(r,e){const t=r<0?"-":"",i=Math.abs(r).toString().padStart(e,"0");return t+i}const Mr={y(r,e){const t=r.getFullYear(),i=t>0?t:1-t;return Ce(e==="yy"?i%100:i,e.length)},M(r,e){const t=r.getMonth();return e==="M"?String(t+1):Ce(t+1,2)},d(r,e){return Ce(r.getDate(),e.length)},a(r,e){const t=r.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return t.toUpperCase();case"aaa":return t;case"aaaaa":return t[0];case"aaaa":default:return t==="am"?"a.m.":"p.m."}},h(r,e){return Ce(r.getHours()%12||12,e.length)},H(r,e){return Ce(r.getHours(),e.length)},m(r,e){return Ce(r.getMinutes(),e.length)},s(r,e){return Ce(r.getSeconds(),e.length)},S(r,e){const t=e.length,i=r.getMilliseconds(),o=Math.trunc(i*Math.pow(10,t-3));return Ce(o,e.length)}},Jn={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},tg={G:function(r,e,t){const i=r.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return t.era(i,{width:"abbreviated"});case"GGGGG":return t.era(i,{width:"narrow"});case"GGGG":default:return t.era(i,{width:"wide"})}},y:function(r,e,t){if(e==="yo"){const i=r.getFullYear(),o=i>0?i:1-i;return t.ordinalNumber(o,{unit:"year"})}return Mr.y(r,e)},Y:function(r,e,t,i){const o=ey(r,i),l=o>0?o:1-o;if(e==="YY"){const u=l%100;return Ce(u,2)}return e==="Yo"?t.ordinalNumber(l,{unit:"year"}):Ce(l,e.length)},R:function(r,e){const t=Xm(r);return Ce(t,e.length)},u:function(r,e){const t=r.getFullYear();return Ce(t,e.length)},Q:function(r,e,t){const i=Math.ceil((r.getMonth()+1)/3);switch(e){case"Q":return String(i);case"QQ":return Ce(i,2);case"Qo":return t.ordinalNumber(i,{unit:"quarter"});case"QQQ":return t.quarter(i,{width:"abbreviated",context:"formatting"});case"QQQQQ":return t.quarter(i,{width:"narrow",context:"formatting"});case"QQQQ":default:return t.quarter(i,{width:"wide",context:"formatting"})}},q:function(r,e,t){const i=Math.ceil((r.getMonth()+1)/3);switch(e){case"q":return String(i);case"qq":return Ce(i,2);case"qo":return t.ordinalNumber(i,{unit:"quarter"});case"qqq":return t.quarter(i,{width:"abbreviated",context:"standalone"});case"qqqqq":return t.quarter(i,{width:"narrow",context:"standalone"});case"qqqq":default:return t.quarter(i,{width:"wide",context:"standalone"})}},M:function(r,e,t){const i=r.getMonth();switch(e){case"M":case"MM":return Mr.M(r,e);case"Mo":return t.ordinalNumber(i+1,{unit:"month"});case"MMM":return t.month(i,{width:"abbreviated",context:"formatting"});case"MMMMM":return t.month(i,{width:"narrow",context:"formatting"});case"MMMM":default:return t.month(i,{width:"wide",context:"formatting"})}},L:function(r,e,t){const i=r.getMonth();switch(e){case"L":return String(i+1);case"LL":return Ce(i+1,2);case"Lo":return t.ordinalNumber(i+1,{unit:"month"});case"LLL":return t.month(i,{width:"abbreviated",context:"standalone"});case"LLLLL":return t.month(i,{width:"narrow",context:"standalone"});case"LLLL":default:return t.month(i,{width:"wide",context:"standalone"})}},w:function(r,e,t,i){const o=ab(r,i);return e==="wo"?t.ordinalNumber(o,{unit:"week"}):Ce(o,e.length)},I:function(r,e,t){const i=sb(r);return e==="Io"?t.ordinalNumber(i,{unit:"week"}):Ce(i,e.length)},d:function(r,e,t){return e==="do"?t.ordinalNumber(r.getDate(),{unit:"date"}):Mr.d(r,e)},D:function(r,e,t){const i=ib(r);return e==="Do"?t.ordinalNumber(i,{unit:"dayOfYear"}):Ce(i,e.length)},E:function(r,e,t){const i=r.getDay();switch(e){case"E":case"EE":case"EEE":return t.day(i,{width:"abbreviated",context:"formatting"});case"EEEEE":return t.day(i,{width:"narrow",context:"formatting"});case"EEEEEE":return t.day(i,{width:"short",context:"formatting"});case"EEEE":default:return t.day(i,{width:"wide",context:"formatting"})}},e:function(r,e,t,i){const o=r.getDay(),l=(o-i.weekStartsOn+8)%7||7;switch(e){case"e":return String(l);case"ee":return Ce(l,2);case"eo":return t.ordinalNumber(l,{unit:"day"});case"eee":return t.day(o,{width:"abbreviated",context:"formatting"});case"eeeee":return t.day(o,{width:"narrow",context:"formatting"});case"eeeeee":return t.day(o,{width:"short",context:"formatting"});case"eeee":default:return t.day(o,{width:"wide",context:"formatting"})}},c:function(r,e,t,i){const o=r.getDay(),l=(o-i.weekStartsOn+8)%7||7;switch(e){case"c":return String(l);case"cc":return Ce(l,e.length);case"co":return t.ordinalNumber(l,{unit:"day"});case"ccc":return t.day(o,{width:"abbreviated",context:"standalone"});case"ccccc":return t.day(o,{width:"narrow",context:"standalone"});case"cccccc":return t.day(o,{width:"short",context:"standalone"});case"cccc":default:return t.day(o,{width:"wide",context:"standalone"})}},i:function(r,e,t){const i=r.getDay(),o=i===0?7:i;switch(e){case"i":return String(o);case"ii":return Ce(o,e.length);case"io":return t.ordinalNumber(o,{unit:"day"});case"iii":return t.day(i,{width:"abbreviated",context:"formatting"});case"iiiii":return t.day(i,{width:"narrow",context:"formatting"});case"iiiiii":return t.day(i,{width:"short",context:"formatting"});case"iiii":default:return t.day(i,{width:"wide",context:"formatting"})}},a:function(r,e,t){const o=r.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return t.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"aaa":return t.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return t.dayPeriod(o,{width:"narrow",context:"formatting"});case"aaaa":default:return t.dayPeriod(o,{width:"wide",context:"formatting"})}},b:function(r,e,t){const i=r.getHours();let o;switch(i===12?o=Jn.noon:i===0?o=Jn.midnight:o=i/12>=1?"pm":"am",e){case"b":case"bb":return t.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"bbb":return t.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return t.dayPeriod(o,{width:"narrow",context:"formatting"});case"bbbb":default:return t.dayPeriod(o,{width:"wide",context:"formatting"})}},B:function(r,e,t){const i=r.getHours();let o;switch(i>=17?o=Jn.evening:i>=12?o=Jn.afternoon:i>=4?o=Jn.morning:o=Jn.night,e){case"B":case"BB":case"BBB":return t.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"BBBBB":return t.dayPeriod(o,{width:"narrow",context:"formatting"});case"BBBB":default:return t.dayPeriod(o,{width:"wide",context:"formatting"})}},h:function(r,e,t){if(e==="ho"){let i=r.getHours()%12;return i===0&&(i=12),t.ordinalNumber(i,{unit:"hour"})}return Mr.h(r,e)},H:function(r,e,t){return e==="Ho"?t.ordinalNumber(r.getHours(),{unit:"hour"}):Mr.H(r,e)},K:function(r,e,t){const i=r.getHours()%12;return e==="Ko"?t.ordinalNumber(i,{unit:"hour"}):Ce(i,e.length)},k:function(r,e,t){let i=r.getHours();return i===0&&(i=24),e==="ko"?t.ordinalNumber(i,{unit:"hour"}):Ce(i,e.length)},m:function(r,e,t){return e==="mo"?t.ordinalNumber(r.getMinutes(),{unit:"minute"}):Mr.m(r,e)},s:function(r,e,t){return e==="so"?t.ordinalNumber(r.getSeconds(),{unit:"second"}):Mr.s(r,e)},S:function(r,e){return Mr.S(r,e)},X:function(r,e,t){const i=r.getTimezoneOffset();if(i===0)return"Z";switch(e){case"X":return ng(i);case"XXXX":case"XX":return fn(i);case"XXXXX":case"XXX":default:return fn(i,":")}},x:function(r,e,t){const i=r.getTimezoneOffset();switch(e){case"x":return ng(i);case"xxxx":case"xx":return fn(i);case"xxxxx":case"xxx":default:return fn(i,":")}},O:function(r,e,t){const i=r.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+rg(i,":");case"OOOO":default:return"GMT"+fn(i,":")}},z:function(r,e,t){const i=r.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+rg(i,":");case"zzzz":default:return"GMT"+fn(i,":")}},t:function(r,e,t){const i=Math.trunc(+r/1e3);return Ce(i,e.length)},T:function(r,e,t){return Ce(+r,e.length)}};function rg(r,e=""){const t=r>0?"-":"+",i=Math.abs(r),o=Math.trunc(i/60),l=i%60;return l===0?t+String(o):t+String(o)+e+Ce(l,2)}function ng(r,e){return r%60===0?(r>0?"-":"+")+Ce(Math.abs(r)/60,2):fn(r,e)}function fn(r,e=""){const t=r>0?"-":"+",i=Math.abs(r),o=Ce(Math.trunc(i/60),2),l=Ce(i%60,2);return t+o+e+l}const ig=(r,e)=>{switch(r){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},ty=(r,e)=>{switch(r){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},lb=(r,e)=>{const t=r.match(/(P+)(p+)?/)||[],i=t[1],o=t[2];if(!o)return ig(r,e);let l;switch(i){case"P":l=e.dateTime({width:"short"});break;case"PP":l=e.dateTime({width:"medium"});break;case"PPP":l=e.dateTime({width:"long"});break;case"PPPP":default:l=e.dateTime({width:"full"});break}return l.replace("{{date}}",ig(i,e)).replace("{{time}}",ty(o,e))},ub={p:ty,P:lb},cb=/^D+$/,db=/^Y+$/,hb=["D","DD","YY","YYYY"];function fb(r){return cb.test(r)}function pb(r){return db.test(r)}function gb(r,e,t){const i=mb(r,e,t);if(console.warn(i),hb.includes(r))throw new RangeError(i)}function mb(r,e,t){const i=r[0]==="Y"?"years":"days of the month";return`Use \`${r.toLowerCase()}\` instead of \`${r}\` (in \`${e}\`) for formatting ${i} to the input \`${t}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const yb=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,vb=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,wb=/^'([^]*?)'?$/,_b=/''/g,Sb=/[a-zA-Z]/;function pa(r,e,t){var m,v,b,y;const i=Cs(),o=i.locale??nb,l=i.firstWeekContainsDate??((v=(m=i.locale)==null?void 0:m.options)==null?void 0:v.firstWeekContainsDate)??1,u=i.weekStartsOn??((y=(b=i.locale)==null?void 0:b.options)==null?void 0:y.weekStartsOn)??0,d=Pe(r,t==null?void 0:t.in);if(!wS(d))throw new RangeError("Invalid time value");let h=e.match(vb).map(w=>{const S=w[0];if(S==="p"||S==="P"){const E=ub[S];return E(w,o.formatLong)}return w}).join("").match(yb).map(w=>{if(w==="''")return{isToken:!1,value:"'"};const S=w[0];if(S==="'")return{isToken:!1,value:bb(w)};if(tg[S])return{isToken:!0,value:w};if(S.match(Sb))throw new RangeError("Format string contains an unescaped latin alphabet character `"+S+"`");return{isToken:!1,value:w}});o.localize.preprocessor&&(h=o.localize.preprocessor(d,h));const p={firstWeekContainsDate:l,weekStartsOn:u,locale:o};return h.map(w=>{if(!w.isToken)return w.value;const S=w.value;(pb(S)||fb(S))&&gb(S,e,String(r));const E=tg[S[0]];return E(d,S,o.localize,p)}).join("")}function bb(r){const e=r.match(wb);return e?e[1].replace(_b,"'"):r}function Ac(r,e){return+Pe(r)>+Pe(e)}function Eb(r,e){return+Pe(r)<+Pe(e)}function kb(r,e){return Pe(r,e==null?void 0:e.in).getDay()===5}function xb(r,e){return Pe(r,e==null?void 0:e.in).getDay()===1}function Tb(r,e){return Pe(r,e==null?void 0:e.in).getDay()===4}function Ob(r,e){return Pe(r,e==null?void 0:e.in).getDay()===2}function Cb(r,e){return Pe(r,e==null?void 0:e.in).getDay()===3}function ry(r,e,t){const i=+Pe(r,t==null?void 0:t.in),[o,l]=[+Pe(e.start,t==null?void 0:t.in),+Pe(e.end,t==null?void 0:t.in)].sort((u,d)=>u-d);return i>=o&&i<=l}function Pb(r,e,t){return pi(r,-e,t)}const ga={Sunday:0,Monday:1,Saturday:6};function Rb(r,e,t){const i=r*7,o=Pb(e,i-1),l=qr(Ra(e,{weekStartsOn:t})),u=qr(Wr(o,{weekStartsOn:t})),d=1+dd(l,u);if(d%7!==0)throw new Error("total days %7 !==0: "+d);const h=d/7;return{start:u,planStartDate:o,planEndDate:e,end:l,weekCount:h}}function ny(r){return r===ga.Monday?["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"]:r===ga.Sunday?["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]:["Saturday","Sunday","Monday","Tuesday","Wednesday","Thursday","Friday"]}const oi=r=>pa(r,"yyyy/MM/dd");class hd{constructor(e,t){Bt(this,"_events",new Map);Bt(this,"_min");Bt(this,"_max");Bt(this,"_first");Bt(this,"_last");Bt(this,"_weekCount",0);Bt(this,"_weekStartsOn",ga.Monday);this._weekStartsOn=t,e==null||e.forEach((i,o)=>{this.setEvent(o,i)})}get min(){return this._min}get max(){return this._max}get first(){return this._first}get last(){return this._last}get weekCount(){return this._weekCount}get days(){return!this.first||!this.last?[]:ra({start:this.first,end:this.last}).map(i=>({date:i,event:this.getEvent(i)}))}get weeks(){const e=[],t=this.days;let i=-1;for(let o=0;o<this.weekCount;o++)if(t.slice(o*7,o*7+7).some(d=>d.event!==void 0)&&i===-1){i=o;break}for(let o=0;o<this.weekCount;o++){const l=t.slice(o*7,o*7+7),u=i>=0?o-i:o;e.push({weekNum:u,dist:[0],desc:`Week ${u}`,days:l})}return e}clone(){const e=new hd(new Map,this._weekStartsOn);return e._events=new Map(this._events),e._min=this._min,e._max=this._max,e._first=this._first,e._last=this._last,e._weekCount=this._weekCount,e}setEvent(e,t){const i=oi(e);t?(this._events.set(i,t),(!this._max||Ac(e,this._max))&&(this._max=e),this._last=qr(Ra(this._max,{weekStartsOn:this._weekStartsOn})),(!this._min||Eb(e,this._min))&&(this._min=e),this._first=Wr(this._min,{weekStartsOn:this._weekStartsOn}),this._weekCount=bS(qr(pi(this._last,1)),this._first)):this._events.delete(i)}getEvent(e){this.validate(e);const t=oi(e);return this._events.get(t)}validate(e){if(!(!this.first||!this.last)&&!ry(e,{start:this.first,end:this.last}))throw new Error(`"date ${oi(e)} is not within interval (${oi(this.first)},${oi(this.last)})`)}swap(e,t){const i=this.getEvent(e),o=this.getEvent(t);if(i&&o){const l=i;this.setEvent(e,o),this.setEvent(t,l)}}swapDow(e,t){if(e===t)return;const i=this.selectAll(e),o=this.selectAll(t);if(i.length!==o.length)throw new Error("selection lengths do not match");for(let l=0;l<i.length;l++)this.swap(i[l],o[l])}selectWeek(e){if(!this.first||!this.last)return[];const t=Zm(this.first,e),i=pi(t,6);return ra({start:t,end:i})}selectAll(e){if(!this.first||!this.last)return[];const t=ra({start:this.first,end:this.last});switch(e){case"Monday":return t.filter(i=>xb(i));case"Tuesday":return t.filter(i=>Ob(i));case"Wednesday":return t.filter(i=>Cb(i));case"Thursday":return t.filter(i=>Tb(i));case"Friday":return t.filter(i=>kb(i));case"Saturday":return t.filter(i=>fS(i));case"Sunday":return t.filter(i=>pS(i));default:throw new Error(`unhandled day of week ${e}`)}}swapWeeks(e,t){if(e===t||!this.first||!this.last)return;const i=this.selectWeek(e),o=this.selectWeek(t);for(let l=0;l<i.length;l++)this.swap(i[l],o[l])}}function Db(r,e){if(e)return{title:e.title.toLowerCase().includes("rest or cross-train")?"":e.title,desc:e.description,tags:e.tags,dist:e.distance,sourceUnits:r}}function Ib(r){const e=new Array;for(let t=0;t<r.schedule.length;t++){const i=r.schedule[t];for(let o=0;o<i.workouts.length;o++)e.push(i.workouts[o])}return e}function Bu(r,e,t){const i=Rb(r.schedule.length,e,t),o=Ib(r),l=new Map;ra({start:i.planStartDate,end:i.planEndDate}).forEach(d=>{const h=Db(r.units,o.shift());h&&l.set(d,h)});const u=new hd(l,t);return{raceType:r.type,planDates:i,dateGrid:u,sourceUnits:r.units,description:r.description,sourceUrl:r.source}}function Ab(r,e,t){const i={planDates:r.planDates,raceType:r.raceType,title:r.raceType,dateGrid:r.dateGrid.clone(),sourceUnits:r.sourceUnits,description:r.description,sourceUrl:r.sourceUrl};return i.dateGrid.swap(e,t),i}function Nb(r,e,t){const i={planDates:r.planDates,raceType:r.raceType,title:r.raceType,dateGrid:r.dateGrid.clone(),sourceUnits:r.sourceUnits,description:r.description,sourceUrl:r.sourceUrl};return i.dateGrid.swapDow(e,t),i}const iy=A.createContext({dragDropManager:void 0});function It(r){return"Minified Redux error #"+r+"; visit https://redux.js.org/Errors?code="+r+" for the full message or use the non-minified dev environment for full errors. "}var sg=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),Hu=function(){return Math.random().toString(36).substring(7).split("").join(".")},og={INIT:"@@redux/INIT"+Hu(),REPLACE:"@@redux/REPLACE"+Hu(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+Hu()}};function jb(r){if(typeof r!="object"||r===null)return!1;for(var e=r;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(r)===e}function sy(r,e,t){var i;if(typeof e=="function"&&typeof t=="function"||typeof t=="function"&&typeof arguments[3]=="function")throw new Error(It(0));if(typeof e=="function"&&typeof t>"u"&&(t=e,e=void 0),typeof t<"u"){if(typeof t!="function")throw new Error(It(1));return t(sy)(r,e)}if(typeof r!="function")throw new Error(It(2));var o=r,l=e,u=[],d=u,h=!1;function p(){d===u&&(d=u.slice())}function m(){if(h)throw new Error(It(3));return l}function v(S){if(typeof S!="function")throw new Error(It(4));if(h)throw new Error(It(5));var E=!0;return p(),d.push(S),function(){if(E){if(h)throw new Error(It(6));E=!1,p();var O=d.indexOf(S);d.splice(O,1),u=null}}}function b(S){if(!jb(S))throw new Error(It(7));if(typeof S.type>"u")throw new Error(It(8));if(h)throw new Error(It(9));try{h=!0,l=o(l,S)}finally{h=!1}for(var E=u=d,k=0;k<E.length;k++){var O=E[k];O()}return S}function y(S){if(typeof S!="function")throw new Error(It(10));o=S,b({type:og.REPLACE})}function w(){var S,E=v;return S={subscribe:function(O){if(typeof O!="object"||O===null)throw new Error(It(11));function N(){O.next&&O.next(m())}N();var z=E(N);return{unsubscribe:z}}},S[sg]=function(){return this},S}return b({type:og.INIT}),i={dispatch:b,subscribe:v,getState:m,replaceReducer:y},i[sg]=w,i}function we(r,e,...t){if(Mb()&&e===void 0)throw new Error("invariant requires an error message argument");if(!r){let i;if(e===void 0)i=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{let o=0;i=new Error(e.replace(/%s/g,function(){return t[o++]})),i.name="Invariant Violation"}throw i.framesToPop=1,i}}function Mb(){return typeof process<"u"&&!0}function $b(r,e,t){return e.split(".").reduce((i,o)=>i&&i[o]?i[o]:t,r)}function Lb(r,e){return r.filter(t=>t!==e)}function oy(r){return typeof r=="object"}function Ub(r,e){const t=new Map,i=l=>{t.set(l,t.has(l)?t.get(l)+1:1)};r.forEach(i),e.forEach(i);const o=[];return t.forEach((l,u)=>{l===1&&o.push(u)}),o}function Fb(r,e){return r.filter(t=>e.indexOf(t)>-1)}const fd="dnd-core/INIT_COORDS",Da="dnd-core/BEGIN_DRAG",pd="dnd-core/PUBLISH_DRAG_SOURCE",Ia="dnd-core/HOVER",Aa="dnd-core/DROP",Na="dnd-core/END_DRAG";function ag(r,e){return{type:fd,payload:{sourceClientOffset:e||null,clientOffset:r||null}}}const zb={type:fd,payload:{clientOffset:null,sourceClientOffset:null}};function Bb(r){return function(t=[],i={publishSource:!0}){const{publishSource:o=!0,clientOffset:l,getSourceClientOffset:u}=i,d=r.getMonitor(),h=r.getRegistry();r.dispatch(ag(l)),Hb(t,d,h);const p=Vb(t,d);if(p==null){r.dispatch(zb);return}let m=null;if(l){if(!u)throw new Error("getSourceClientOffset must be defined");Wb(u),m=u(p)}r.dispatch(ag(l,m));const b=h.getSource(p).beginDrag(d,p);if(b==null)return;qb(b),h.pinSource(p);const y=h.getSourceType(p);return{type:Da,payload:{itemType:y,item:b,sourceId:p,clientOffset:l||null,sourceClientOffset:m||null,isSourcePublic:!!o}}}}function Hb(r,e,t){we(!e.isDragging(),"Cannot call beginDrag while dragging."),r.forEach(function(i){we(t.getSource(i),"Expected sourceIds to be registered.")})}function Wb(r){we(typeof r=="function","When clientOffset is provided, getSourceClientOffset must be a function.")}function qb(r){we(oy(r),"Item must be an object.")}function Vb(r,e){let t=null;for(let i=r.length-1;i>=0;i--)if(e.canDragSource(r[i])){t=r[i];break}return t}function Kb(r,e,t){return e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function Gb(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{},i=Object.keys(t);typeof Object.getOwnPropertySymbols=="function"&&(i=i.concat(Object.getOwnPropertySymbols(t).filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable}))),i.forEach(function(o){Kb(r,o,t[o])})}return r}function Yb(r){return function(t={}){const i=r.getMonitor(),o=r.getRegistry();Jb(i),Zb(i).forEach((u,d)=>{const h=Qb(u,d,o,i),p={type:Aa,payload:{dropResult:Gb({},t,h)}};r.dispatch(p)})}}function Jb(r){we(r.isDragging(),"Cannot call drop while not dragging."),we(!r.didDrop(),"Cannot call drop twice during one drag operation.")}function Qb(r,e,t,i){const o=t.getTarget(r);let l=o?o.drop(i,r):void 0;return Xb(l),typeof l>"u"&&(l=e===0?{}:i.getDropResult()),l}function Xb(r){we(typeof r>"u"||oy(r),"Drop result must either be an object or undefined.")}function Zb(r){const e=r.getTargetIds().filter(r.canDropOnTarget,r);return e.reverse(),e}function eE(r){return function(){const t=r.getMonitor(),i=r.getRegistry();tE(t);const o=t.getSourceId();return o!=null&&(i.getSource(o,!0).endDrag(t,o),i.unpinSource()),{type:Na}}}function tE(r){we(r.isDragging(),"Cannot call endDrag while not dragging.")}function Nc(r,e){return e===null?r===null:Array.isArray(r)?r.some(t=>t===e):r===e}function rE(r){return function(t,{clientOffset:i}={}){nE(t);const o=t.slice(0),l=r.getMonitor(),u=r.getRegistry(),d=l.getItemType();return sE(o,u,d),iE(o,l,u),oE(o,l,u),{type:Ia,payload:{targetIds:o,clientOffset:i||null}}}}function nE(r){we(Array.isArray(r),"Expected targetIds to be an array.")}function iE(r,e,t){we(e.isDragging(),"Cannot call hover while not dragging."),we(!e.didDrop(),"Cannot call hover after drop.");for(let i=0;i<r.length;i++){const o=r[i];we(r.lastIndexOf(o)===i,"Expected targetIds to be unique in the passed array.");const l=t.getTarget(o);we(l,"Expected targetIds to be registered.")}}function sE(r,e,t){for(let i=r.length-1;i>=0;i--){const o=r[i],l=e.getTargetType(o);Nc(l,t)||r.splice(i,1)}}function oE(r,e,t){r.forEach(function(i){t.getTarget(i).hover(e,i)})}function aE(r){return function(){if(r.getMonitor().isDragging())return{type:pd}}}function lE(r){return{beginDrag:Bb(r),publishDragSource:aE(r),hover:rE(r),drop:Yb(r),endDrag:eE(r)}}class uE{receiveBackend(e){this.backend=e}getMonitor(){return this.monitor}getBackend(){return this.backend}getRegistry(){return this.monitor.registry}getActions(){const e=this,{dispatch:t}=this.store;function i(l){return(...u)=>{const d=l.apply(e,u);typeof d<"u"&&t(d)}}const o=lE(this);return Object.keys(o).reduce((l,u)=>{const d=o[u];return l[u]=i(d),l},{})}dispatch(e){this.store.dispatch(e)}constructor(e,t){this.isSetUp=!1,this.handleRefCountChange=()=>{const i=this.store.getState().refCount>0;this.backend&&(i&&!this.isSetUp?(this.backend.setup(),this.isSetUp=!0):!i&&this.isSetUp&&(this.backend.teardown(),this.isSetUp=!1))},this.store=e,this.monitor=t,e.subscribe(this.handleRefCountChange)}}function cE(r,e){return{x:r.x+e.x,y:r.y+e.y}}function ay(r,e){return{x:r.x-e.x,y:r.y-e.y}}function dE(r){const{clientOffset:e,initialClientOffset:t,initialSourceClientOffset:i}=r;return!e||!t||!i?null:ay(cE(e,i),t)}function hE(r){const{clientOffset:e,initialClientOffset:t}=r;return!e||!t?null:ay(e,t)}const ps=[],gd=[];ps.__IS_NONE__=!0;gd.__IS_ALL__=!0;function fE(r,e){return r===ps?!1:r===gd||typeof e>"u"?!0:Fb(e,r).length>0}class pE{subscribeToStateChange(e,t={}){const{handlerIds:i}=t;we(typeof e=="function","listener must be a function."),we(typeof i>"u"||Array.isArray(i),"handlerIds, when specified, must be an array of strings.");let o=this.store.getState().stateId;const l=()=>{const u=this.store.getState(),d=u.stateId;try{d===o||d===o+1&&!fE(u.dirtyHandlerIds,i)||e()}finally{o=d}};return this.store.subscribe(l)}subscribeToOffsetChange(e){we(typeof e=="function","listener must be a function.");let t=this.store.getState().dragOffset;const i=()=>{const o=this.store.getState().dragOffset;o!==t&&(t=o,e())};return this.store.subscribe(i)}canDragSource(e){if(!e)return!1;const t=this.registry.getSource(e);return we(t,`Expected to find a valid source. sourceId=${e}`),this.isDragging()?!1:t.canDrag(this,e)}canDropOnTarget(e){if(!e)return!1;const t=this.registry.getTarget(e);if(we(t,`Expected to find a valid target. targetId=${e}`),!this.isDragging()||this.didDrop())return!1;const i=this.registry.getTargetType(e),o=this.getItemType();return Nc(i,o)&&t.canDrop(this,e)}isDragging(){return!!this.getItemType()}isDraggingSource(e){if(!e)return!1;const t=this.registry.getSource(e,!0);if(we(t,`Expected to find a valid source. sourceId=${e}`),!this.isDragging()||!this.isSourcePublic())return!1;const i=this.registry.getSourceType(e),o=this.getItemType();return i!==o?!1:t.isDragging(this,e)}isOverTarget(e,t={shallow:!1}){if(!e)return!1;const{shallow:i}=t;if(!this.isDragging())return!1;const o=this.registry.getTargetType(e),l=this.getItemType();if(l&&!Nc(o,l))return!1;const u=this.getTargetIds();if(!u.length)return!1;const d=u.indexOf(e);return i?d===u.length-1:d>-1}getItemType(){return this.store.getState().dragOperation.itemType}getItem(){return this.store.getState().dragOperation.item}getSourceId(){return this.store.getState().dragOperation.sourceId}getTargetIds(){return this.store.getState().dragOperation.targetIds}getDropResult(){return this.store.getState().dragOperation.dropResult}didDrop(){return this.store.getState().dragOperation.didDrop}isSourcePublic(){return!!this.store.getState().dragOperation.isSourcePublic}getInitialClientOffset(){return this.store.getState().dragOffset.initialClientOffset}getInitialSourceClientOffset(){return this.store.getState().dragOffset.initialSourceClientOffset}getClientOffset(){return this.store.getState().dragOffset.clientOffset}getSourceClientOffset(){return dE(this.store.getState().dragOffset)}getDifferenceFromInitialOffset(){return hE(this.store.getState().dragOffset)}constructor(e,t){this.store=e,this.registry=t}}const lg=typeof global<"u"?global:self,ly=lg.MutationObserver||lg.WebKitMutationObserver;function uy(r){return function(){const t=setTimeout(o,0),i=setInterval(o,50);function o(){clearTimeout(t),clearInterval(i),r()}}}function gE(r){let e=1;const t=new ly(r),i=document.createTextNode("");return t.observe(i,{characterData:!0}),function(){e=-e,i.data=e}}const mE=typeof ly=="function"?gE:uy;class yE{enqueueTask(e){const{queue:t,requestFlush:i}=this;t.length||(i(),this.flushing=!0),t[t.length]=e}constructor(){this.queue=[],this.pendingErrors=[],this.flushing=!1,this.index=0,this.capacity=1024,this.flush=()=>{const{queue:e}=this;for(;this.index<e.length;){const t=this.index;if(this.index++,e[t].call(),this.index>this.capacity){for(let i=0,o=e.length-this.index;i<o;i++)e[i]=e[i+this.index];e.length-=this.index,this.index=0}}e.length=0,this.index=0,this.flushing=!1},this.registerPendingError=e=>{this.pendingErrors.push(e),this.requestErrorThrow()},this.requestFlush=mE(this.flush),this.requestErrorThrow=uy(()=>{if(this.pendingErrors.length)throw this.pendingErrors.shift()})}}class vE{call(){try{this.task&&this.task()}catch(e){this.onError(e)}finally{this.task=null,this.release(this)}}constructor(e,t){this.onError=e,this.release=t,this.task=null}}class wE{create(e){const t=this.freeTasks,i=t.length?t.pop():new vE(this.onError,o=>t[t.length]=o);return i.task=e,i}constructor(e){this.onError=e,this.freeTasks=[]}}const cy=new yE,_E=new wE(cy.registerPendingError);function SE(r){cy.enqueueTask(_E.create(r))}const md="dnd-core/ADD_SOURCE",yd="dnd-core/ADD_TARGET",vd="dnd-core/REMOVE_SOURCE",ja="dnd-core/REMOVE_TARGET";function bE(r){return{type:md,payload:{sourceId:r}}}function EE(r){return{type:yd,payload:{targetId:r}}}function kE(r){return{type:vd,payload:{sourceId:r}}}function xE(r){return{type:ja,payload:{targetId:r}}}function TE(r){we(typeof r.canDrag=="function","Expected canDrag to be a function."),we(typeof r.beginDrag=="function","Expected beginDrag to be a function."),we(typeof r.endDrag=="function","Expected endDrag to be a function.")}function OE(r){we(typeof r.canDrop=="function","Expected canDrop to be a function."),we(typeof r.hover=="function","Expected hover to be a function."),we(typeof r.drop=="function","Expected beginDrag to be a function.")}function jc(r,e){if(e&&Array.isArray(r)){r.forEach(t=>jc(t,!1));return}we(typeof r=="string"||typeof r=="symbol",e?"Type can only be a string, a symbol, or an array of either.":"Type can only be a string or a symbol.")}var Nt;(function(r){r.SOURCE="SOURCE",r.TARGET="TARGET"})(Nt||(Nt={}));let CE=0;function PE(){return CE++}function RE(r){const e=PE().toString();switch(r){case Nt.SOURCE:return`S${e}`;case Nt.TARGET:return`T${e}`;default:throw new Error(`Unknown Handler Role: ${r}`)}}function ug(r){switch(r[0]){case"S":return Nt.SOURCE;case"T":return Nt.TARGET;default:throw new Error(`Cannot parse handler ID: ${r}`)}}function cg(r,e){const t=r.entries();let i=!1;do{const{done:o,value:[,l]}=t.next();if(l===e)return!0;i=!!o}while(!i);return!1}class DE{addSource(e,t){jc(e),TE(t);const i=this.addHandler(Nt.SOURCE,e,t);return this.store.dispatch(bE(i)),i}addTarget(e,t){jc(e,!0),OE(t);const i=this.addHandler(Nt.TARGET,e,t);return this.store.dispatch(EE(i)),i}containsHandler(e){return cg(this.dragSources,e)||cg(this.dropTargets,e)}getSource(e,t=!1){return we(this.isSourceId(e),"Expected a valid source ID."),t&&e===this.pinnedSourceId?this.pinnedSource:this.dragSources.get(e)}getTarget(e){return we(this.isTargetId(e),"Expected a valid target ID."),this.dropTargets.get(e)}getSourceType(e){return we(this.isSourceId(e),"Expected a valid source ID."),this.types.get(e)}getTargetType(e){return we(this.isTargetId(e),"Expected a valid target ID."),this.types.get(e)}isSourceId(e){return ug(e)===Nt.SOURCE}isTargetId(e){return ug(e)===Nt.TARGET}removeSource(e){we(this.getSource(e),"Expected an existing source."),this.store.dispatch(kE(e)),SE(()=>{this.dragSources.delete(e),this.types.delete(e)})}removeTarget(e){we(this.getTarget(e),"Expected an existing target."),this.store.dispatch(xE(e)),this.dropTargets.delete(e),this.types.delete(e)}pinSource(e){const t=this.getSource(e);we(t,"Expected an existing source."),this.pinnedSourceId=e,this.pinnedSource=t}unpinSource(){we(this.pinnedSource,"No source is pinned at the time."),this.pinnedSourceId=null,this.pinnedSource=null}addHandler(e,t,i){const o=RE(e);return this.types.set(o,t),e===Nt.SOURCE?this.dragSources.set(o,i):e===Nt.TARGET&&this.dropTargets.set(o,i),o}constructor(e){this.types=new Map,this.dragSources=new Map,this.dropTargets=new Map,this.pinnedSourceId=null,this.pinnedSource=null,this.store=e}}const IE=(r,e)=>r===e;function AE(r,e){return!r&&!e?!0:!r||!e?!1:r.x===e.x&&r.y===e.y}function NE(r,e,t=IE){if(r.length!==e.length)return!1;for(let i=0;i<r.length;++i)if(!t(r[i],e[i]))return!1;return!0}function jE(r=ps,e){switch(e.type){case Ia:break;case md:case yd:case ja:case vd:return ps;case Da:case pd:case Na:case Aa:default:return gd}const{targetIds:t=[],prevTargetIds:i=[]}=e.payload,o=Ub(t,i);if(!(o.length>0||!NE(t,i)))return ps;const u=i[i.length-1],d=t[t.length-1];return u!==d&&(u&&o.push(u),d&&o.push(d)),o}function ME(r,e,t){return e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function $E(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{},i=Object.keys(t);typeof Object.getOwnPropertySymbols=="function"&&(i=i.concat(Object.getOwnPropertySymbols(t).filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable}))),i.forEach(function(o){ME(r,o,t[o])})}return r}const dg={initialSourceClientOffset:null,initialClientOffset:null,clientOffset:null};function LE(r=dg,e){const{payload:t}=e;switch(e.type){case fd:case Da:return{initialSourceClientOffset:t.sourceClientOffset,initialClientOffset:t.clientOffset,clientOffset:t.clientOffset};case Ia:return AE(r.clientOffset,t.clientOffset)?r:$E({},r,{clientOffset:t.clientOffset});case Na:case Aa:return dg;default:return r}}function UE(r,e,t){return e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function Qn(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{},i=Object.keys(t);typeof Object.getOwnPropertySymbols=="function"&&(i=i.concat(Object.getOwnPropertySymbols(t).filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable}))),i.forEach(function(o){UE(r,o,t[o])})}return r}const FE={itemType:null,item:null,sourceId:null,targetIds:[],dropResult:null,didDrop:!1,isSourcePublic:null};function zE(r=FE,e){const{payload:t}=e;switch(e.type){case Da:return Qn({},r,{itemType:t.itemType,item:t.item,sourceId:t.sourceId,isSourcePublic:t.isSourcePublic,dropResult:null,didDrop:!1});case pd:return Qn({},r,{isSourcePublic:!0});case Ia:return Qn({},r,{targetIds:t.targetIds});case ja:return r.targetIds.indexOf(t.targetId)===-1?r:Qn({},r,{targetIds:Lb(r.targetIds,t.targetId)});case Aa:return Qn({},r,{dropResult:t.dropResult,didDrop:!0,targetIds:[]});case Na:return Qn({},r,{itemType:null,item:null,sourceId:null,dropResult:null,didDrop:!1,isSourcePublic:null,targetIds:[]});default:return r}}function BE(r=0,e){switch(e.type){case md:case yd:return r+1;case vd:case ja:return r-1;default:return r}}function HE(r=0){return r+1}function WE(r,e,t){return e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function qE(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{},i=Object.keys(t);typeof Object.getOwnPropertySymbols=="function"&&(i=i.concat(Object.getOwnPropertySymbols(t).filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable}))),i.forEach(function(o){WE(r,o,t[o])})}return r}function VE(r={},e){return{dirtyHandlerIds:jE(r.dirtyHandlerIds,{type:e.type,payload:qE({},e.payload,{prevTargetIds:$b(r,"dragOperation.targetIds",[])})}),dragOffset:LE(r.dragOffset,e),refCount:BE(r.refCount,e),dragOperation:zE(r.dragOperation,e),stateId:HE(r.stateId)}}function KE(r,e=void 0,t={},i=!1){const o=GE(i),l=new pE(o,new DE(o)),u=new uE(o,l),d=r(u,e,t);return u.receiveBackend(d),u}function GE(r){const e=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION__;return sy(VE,r&&e&&e({name:"dnd-core",instanceId:"dnd-core"}))}function YE(r,e){if(r==null)return{};var t=JE(r,e),i,o;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(r);for(o=0;o<l.length;o++)i=l[o],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(r,i)&&(t[i]=r[i])}return t}function JE(r,e){if(r==null)return{};var t={},i=Object.keys(r),o,l;for(l=0;l<i.length;l++)o=i[l],!(e.indexOf(o)>=0)&&(t[o]=r[o]);return t}let hg=0;const na=Symbol.for("__REACT_DND_CONTEXT_INSTANCE__");var QE=A.memo(function(e){var{children:t}=e,i=YE(e,["children"]);const[o,l]=XE(i);return A.useEffect(()=>{if(l){const u=dy();return++hg,()=>{--hg===0&&(u[na]=null)}}},[]),x.jsx(iy.Provider,{value:o,children:t})});function XE(r){if("manager"in r)return[{dragDropManager:r.manager},!1];const e=ZE(r.backend,r.context,r.options,r.debugMode),t=!r.context;return[e,t]}function ZE(r,e=dy(),t,i){const o=e;return o[na]||(o[na]={dragDropManager:KE(r,e,t,i)}),o[na]}function dy(){return typeof global<"u"?global:window}var Wu,fg;function e1(){return fg||(fg=1,Wu=function r(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;var i,o,l;if(Array.isArray(e)){if(i=e.length,i!=t.length)return!1;for(o=i;o--!==0;)if(!r(e[o],t[o]))return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===t.toString();if(l=Object.keys(e),i=l.length,i!==Object.keys(t).length)return!1;for(o=i;o--!==0;)if(!Object.prototype.hasOwnProperty.call(t,l[o]))return!1;for(o=i;o--!==0;){var u=l[o];if(!r(e[u],t[u]))return!1}return!0}return e!==e&&t!==t}),Wu}var t1=e1();const r1=Ta(t1),Sn=typeof window<"u"?A.useLayoutEffect:A.useEffect;function n1(r,e,t){const[i,o]=A.useState(()=>e(r)),l=A.useCallback(()=>{const u=e(r);r1(i,u)||(o(u),t())},[i,r,t]);return Sn(l),[i,l]}function i1(r,e,t){const[i,o]=n1(r,e,t);return Sn(function(){const u=r.getHandlerId();if(u!=null)return r.subscribeToStateChange(o,{handlerIds:[u]})},[r,o]),i}function hy(r,e,t){return i1(e,r||(()=>({})),()=>t.reconnect())}function fy(r,e){const t=[];return typeof r!="function"&&t.push(r),A.useMemo(()=>typeof r=="function"?r():r,t)}function s1(r){return A.useMemo(()=>r.hooks.dragSource(),[r])}function o1(r){return A.useMemo(()=>r.hooks.dragPreview(),[r])}let qu=!1,Vu=!1;class a1{receiveHandlerId(e){this.sourceId=e}getHandlerId(){return this.sourceId}canDrag(){we(!qu,"You may not call monitor.canDrag() inside your canDrag() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor");try{return qu=!0,this.internalMonitor.canDragSource(this.sourceId)}finally{qu=!1}}isDragging(){if(!this.sourceId)return!1;we(!Vu,"You may not call monitor.isDragging() inside your isDragging() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor");try{return Vu=!0,this.internalMonitor.isDraggingSource(this.sourceId)}finally{Vu=!1}}subscribeToStateChange(e,t){return this.internalMonitor.subscribeToStateChange(e,t)}isDraggingSource(e){return this.internalMonitor.isDraggingSource(e)}isOverTarget(e,t){return this.internalMonitor.isOverTarget(e,t)}getTargetIds(){return this.internalMonitor.getTargetIds()}isSourcePublic(){return this.internalMonitor.isSourcePublic()}getSourceId(){return this.internalMonitor.getSourceId()}subscribeToOffsetChange(e){return this.internalMonitor.subscribeToOffsetChange(e)}canDragSource(e){return this.internalMonitor.canDragSource(e)}canDropOnTarget(e){return this.internalMonitor.canDropOnTarget(e)}getItemType(){return this.internalMonitor.getItemType()}getItem(){return this.internalMonitor.getItem()}getDropResult(){return this.internalMonitor.getDropResult()}didDrop(){return this.internalMonitor.didDrop()}getInitialClientOffset(){return this.internalMonitor.getInitialClientOffset()}getInitialSourceClientOffset(){return this.internalMonitor.getInitialSourceClientOffset()}getSourceClientOffset(){return this.internalMonitor.getSourceClientOffset()}getClientOffset(){return this.internalMonitor.getClientOffset()}getDifferenceFromInitialOffset(){return this.internalMonitor.getDifferenceFromInitialOffset()}constructor(e){this.sourceId=null,this.internalMonitor=e.getMonitor()}}let Ku=!1;class l1{receiveHandlerId(e){this.targetId=e}getHandlerId(){return this.targetId}subscribeToStateChange(e,t){return this.internalMonitor.subscribeToStateChange(e,t)}canDrop(){if(!this.targetId)return!1;we(!Ku,"You may not call monitor.canDrop() inside your canDrop() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target-monitor");try{return Ku=!0,this.internalMonitor.canDropOnTarget(this.targetId)}finally{Ku=!1}}isOver(e){return this.targetId?this.internalMonitor.isOverTarget(this.targetId,e):!1}getItemType(){return this.internalMonitor.getItemType()}getItem(){return this.internalMonitor.getItem()}getDropResult(){return this.internalMonitor.getDropResult()}didDrop(){return this.internalMonitor.didDrop()}getInitialClientOffset(){return this.internalMonitor.getInitialClientOffset()}getInitialSourceClientOffset(){return this.internalMonitor.getInitialSourceClientOffset()}getSourceClientOffset(){return this.internalMonitor.getSourceClientOffset()}getClientOffset(){return this.internalMonitor.getClientOffset()}getDifferenceFromInitialOffset(){return this.internalMonitor.getDifferenceFromInitialOffset()}constructor(e){this.targetId=null,this.internalMonitor=e.getMonitor()}}function u1(r,e,t){const i=t.getRegistry(),o=i.addTarget(r,e);return[o,()=>i.removeTarget(o)]}function c1(r,e,t){const i=t.getRegistry(),o=i.addSource(r,e);return[o,()=>i.removeSource(o)]}function Mc(r,e,t,i){let o;if(o!==void 0)return!!o;if(r===e)return!0;if(typeof r!="object"||!r||typeof e!="object"||!e)return!1;const l=Object.keys(r),u=Object.keys(e);if(l.length!==u.length)return!1;const d=Object.prototype.hasOwnProperty.bind(e);for(let h=0;h<l.length;h++){const p=l[h];if(!d(p))return!1;const m=r[p],v=e[p];if(o=void 0,o===!1||o===void 0&&m!==v)return!1}return!0}function $c(r){return r!==null&&typeof r=="object"&&Object.prototype.hasOwnProperty.call(r,"current")}function d1(r){if(typeof r.type=="string")return;const e=r.type.displayName||r.type.name||"the component";throw new Error(`Only native element nodes can now be passed to React DnD connectors.You can either wrap ${e} into a <div>, or turn it into a drag source or a drop target itself.`)}function h1(r){return(e=null,t=null)=>{if(!A.isValidElement(e)){const l=e;return r(l,t),l}const i=e;return d1(i),f1(i,t?l=>r(l,t):r)}}function py(r){const e={};return Object.keys(r).forEach(t=>{const i=r[t];if(t.endsWith("Ref"))e[t]=r[t];else{const o=h1(i);e[t]=()=>o}}),e}function pg(r,e){typeof r=="function"?r(e):r.current=e}function f1(r,e){const t=r.ref;return we(typeof t!="string","Cannot connect React DnD to an element with an existing string ref. Please convert it to use a callback ref instead, or wrap it into a <span> or <div>. Read more: https://reactjs.org/docs/refs-and-the-dom.html#callback-refs"),t?A.cloneElement(r,{ref:i=>{pg(t,i),pg(e,i)}}):A.cloneElement(r,{ref:e})}class p1{receiveHandlerId(e){this.handlerId!==e&&(this.handlerId=e,this.reconnect())}get connectTarget(){return this.dragSource}get dragSourceOptions(){return this.dragSourceOptionsInternal}set dragSourceOptions(e){this.dragSourceOptionsInternal=e}get dragPreviewOptions(){return this.dragPreviewOptionsInternal}set dragPreviewOptions(e){this.dragPreviewOptionsInternal=e}reconnect(){const e=this.reconnectDragSource();this.reconnectDragPreview(e)}reconnectDragSource(){const e=this.dragSource,t=this.didHandlerIdChange()||this.didConnectedDragSourceChange()||this.didDragSourceOptionsChange();return t&&this.disconnectDragSource(),this.handlerId?e?(t&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDragSource=e,this.lastConnectedDragSourceOptions=this.dragSourceOptions,this.dragSourceUnsubscribe=this.backend.connectDragSource(this.handlerId,e,this.dragSourceOptions)),t):(this.lastConnectedDragSource=e,t):t}reconnectDragPreview(e=!1){const t=this.dragPreview,i=e||this.didHandlerIdChange()||this.didConnectedDragPreviewChange()||this.didDragPreviewOptionsChange();if(i&&this.disconnectDragPreview(),!!this.handlerId){if(!t){this.lastConnectedDragPreview=t;return}i&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDragPreview=t,this.lastConnectedDragPreviewOptions=this.dragPreviewOptions,this.dragPreviewUnsubscribe=this.backend.connectDragPreview(this.handlerId,t,this.dragPreviewOptions))}}didHandlerIdChange(){return this.lastConnectedHandlerId!==this.handlerId}didConnectedDragSourceChange(){return this.lastConnectedDragSource!==this.dragSource}didConnectedDragPreviewChange(){return this.lastConnectedDragPreview!==this.dragPreview}didDragSourceOptionsChange(){return!Mc(this.lastConnectedDragSourceOptions,this.dragSourceOptions)}didDragPreviewOptionsChange(){return!Mc(this.lastConnectedDragPreviewOptions,this.dragPreviewOptions)}disconnectDragSource(){this.dragSourceUnsubscribe&&(this.dragSourceUnsubscribe(),this.dragSourceUnsubscribe=void 0)}disconnectDragPreview(){this.dragPreviewUnsubscribe&&(this.dragPreviewUnsubscribe(),this.dragPreviewUnsubscribe=void 0,this.dragPreviewNode=null,this.dragPreviewRef=null)}get dragSource(){return this.dragSourceNode||this.dragSourceRef&&this.dragSourceRef.current}get dragPreview(){return this.dragPreviewNode||this.dragPreviewRef&&this.dragPreviewRef.current}clearDragSource(){this.dragSourceNode=null,this.dragSourceRef=null}clearDragPreview(){this.dragPreviewNode=null,this.dragPreviewRef=null}constructor(e){this.hooks=py({dragSource:(t,i)=>{this.clearDragSource(),this.dragSourceOptions=i||null,$c(t)?this.dragSourceRef=t:this.dragSourceNode=t,this.reconnectDragSource()},dragPreview:(t,i)=>{this.clearDragPreview(),this.dragPreviewOptions=i||null,$c(t)?this.dragPreviewRef=t:this.dragPreviewNode=t,this.reconnectDragPreview()}}),this.handlerId=null,this.dragSourceRef=null,this.dragSourceOptionsInternal=null,this.dragPreviewRef=null,this.dragPreviewOptionsInternal=null,this.lastConnectedHandlerId=null,this.lastConnectedDragSource=null,this.lastConnectedDragSourceOptions=null,this.lastConnectedDragPreview=null,this.lastConnectedDragPreviewOptions=null,this.backend=e}}class g1{get connectTarget(){return this.dropTarget}reconnect(){const e=this.didHandlerIdChange()||this.didDropTargetChange()||this.didOptionsChange();e&&this.disconnectDropTarget();const t=this.dropTarget;if(this.handlerId){if(!t){this.lastConnectedDropTarget=t;return}e&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDropTarget=t,this.lastConnectedDropTargetOptions=this.dropTargetOptions,this.unsubscribeDropTarget=this.backend.connectDropTarget(this.handlerId,t,this.dropTargetOptions))}}receiveHandlerId(e){e!==this.handlerId&&(this.handlerId=e,this.reconnect())}get dropTargetOptions(){return this.dropTargetOptionsInternal}set dropTargetOptions(e){this.dropTargetOptionsInternal=e}didHandlerIdChange(){return this.lastConnectedHandlerId!==this.handlerId}didDropTargetChange(){return this.lastConnectedDropTarget!==this.dropTarget}didOptionsChange(){return!Mc(this.lastConnectedDropTargetOptions,this.dropTargetOptions)}disconnectDropTarget(){this.unsubscribeDropTarget&&(this.unsubscribeDropTarget(),this.unsubscribeDropTarget=void 0)}get dropTarget(){return this.dropTargetNode||this.dropTargetRef&&this.dropTargetRef.current}clearDropTarget(){this.dropTargetRef=null,this.dropTargetNode=null}constructor(e){this.hooks=py({dropTarget:(t,i)=>{this.clearDropTarget(),this.dropTargetOptions=i,$c(t)?this.dropTargetRef=t:this.dropTargetNode=t,this.reconnect()}}),this.handlerId=null,this.dropTargetRef=null,this.dropTargetOptionsInternal=null,this.lastConnectedHandlerId=null,this.lastConnectedDropTarget=null,this.lastConnectedDropTargetOptions=null,this.backend=e}}function yi(){const{dragDropManager:r}=A.useContext(iy);return we(r!=null,"Expected drag drop context"),r}function m1(r,e){const t=yi(),i=A.useMemo(()=>new p1(t.getBackend()),[t]);return Sn(()=>(i.dragSourceOptions=r||null,i.reconnect(),()=>i.disconnectDragSource()),[i,r]),Sn(()=>(i.dragPreviewOptions=e||null,i.reconnect(),()=>i.disconnectDragPreview()),[i,e]),i}function y1(){const r=yi();return A.useMemo(()=>new a1(r),[r])}class v1{beginDrag(){const e=this.spec,t=this.monitor;let i=null;return typeof e.item=="object"?i=e.item:typeof e.item=="function"?i=e.item(t):i={},i??null}canDrag(){const e=this.spec,t=this.monitor;return typeof e.canDrag=="boolean"?e.canDrag:typeof e.canDrag=="function"?e.canDrag(t):!0}isDragging(e,t){const i=this.spec,o=this.monitor,{isDragging:l}=i;return l?l(o):t===e.getSourceId()}endDrag(){const e=this.spec,t=this.monitor,i=this.connector,{end:o}=e;o&&o(t.getItem(),t),i.reconnect()}constructor(e,t,i){this.spec=e,this.monitor=t,this.connector=i}}function w1(r,e,t){const i=A.useMemo(()=>new v1(r,e,t),[e,t]);return A.useEffect(()=>{i.spec=r},[r]),i}function _1(r){return A.useMemo(()=>{const e=r.type;return we(e!=null,"spec.type must be defined"),e},[r])}function S1(r,e,t){const i=yi(),o=w1(r,e,t),l=_1(r);Sn(function(){if(l!=null){const[d,h]=c1(l,o,i);return e.receiveHandlerId(d),t.receiveHandlerId(d),h}},[i,e,t,o,l])}function gy(r,e){const t=fy(r);we(!t.begin,"useDrag::spec.begin was deprecated in v14. Replace spec.begin() with spec.item(). (see more here - https://react-dnd.github.io/react-dnd/docs/api/use-drag)");const i=y1(),o=m1(t.options,t.previewOptions);return S1(t,i,o),[hy(t.collect,i,o),s1(o),o1(o)]}function b1(r){return A.useMemo(()=>r.hooks.dropTarget(),[r])}function E1(r){const e=yi(),t=A.useMemo(()=>new g1(e.getBackend()),[e]);return Sn(()=>(t.dropTargetOptions=r||null,t.reconnect(),()=>t.disconnectDropTarget()),[r]),t}function k1(){const r=yi();return A.useMemo(()=>new l1(r),[r])}function x1(r){const{accept:e}=r;return A.useMemo(()=>(we(r.accept!=null,"accept must be defined"),Array.isArray(e)?e:[e]),[e])}class T1{canDrop(){const e=this.spec,t=this.monitor;return e.canDrop?e.canDrop(t.getItem(),t):!0}hover(){const e=this.spec,t=this.monitor;e.hover&&e.hover(t.getItem(),t)}drop(){const e=this.spec,t=this.monitor;if(e.drop)return e.drop(t.getItem(),t)}constructor(e,t){this.spec=e,this.monitor=t}}function O1(r,e){const t=A.useMemo(()=>new T1(r,e),[e]);return A.useEffect(()=>{t.spec=r},[r]),t}function C1(r,e,t){const i=yi(),o=O1(r,e),l=x1(r);Sn(function(){const[d,h]=u1(l,o,i);return e.receiveHandlerId(d),t.receiveHandlerId(d),h},[i,e,o,t,l.map(u=>u.toString()).join("|")])}function my(r,e){const t=fy(r),i=k1(),o=E1(t.options);return C1(t,i,o),[hy(t.collect,i,o),b1(o)]}const ma={DAY:"DAY",DOW:"DOW",WEEK:"WEEK"};var ia={exports:{}},P1=ia.exports,gg;function R1(){return gg||(gg=1,function(r){(function(e,t){r.exports?r.exports=t():e.moo=t()})(P1,function(){var e=Object.prototype.hasOwnProperty,t=Object.prototype.toString,i=typeof new RegExp().sticky=="boolean";function o(D){return D&&t.call(D)==="[object RegExp]"}function l(D){return D&&typeof D=="object"&&!o(D)&&!Array.isArray(D)}function u(D){return D.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function d(D){var q=new RegExp("|"+D);return q.exec("").length-1}function h(D){return"("+D+")"}function p(D){if(!D.length)return"(?!)";var q=D.map(function(ee){return"(?:"+ee+")"}).join("|");return"(?:"+q+")"}function m(D){if(typeof D=="string")return"(?:"+u(D)+")";if(o(D)){if(D.ignoreCase)throw new Error("RegExp /i flag not allowed");if(D.global)throw new Error("RegExp /g flag is implied");if(D.sticky)throw new Error("RegExp /y flag is implied");if(D.multiline)throw new Error("RegExp /m flag is implied");return D.source}else throw new Error("Not a pattern: "+D)}function v(D,q){return D.length>q?D:Array(q-D.length+1).join(" ")+D}function b(D,q){for(var ee=D.length,re=0;;){var C=D.lastIndexOf(`
`,ee-1);if(C===-1||(re++,ee=C,re===q)||ee===0)break}var $=re<q?0:ee+1;return D.substring($).split(`
`)}function y(D){for(var q=Object.getOwnPropertyNames(D),ee=[],re=0;re<q.length;re++){var C=q[re],$=D[C],K=[].concat($);if(C==="include"){for(var W=0;W<K.length;W++)ee.push({include:K[W]});continue}var G=[];K.forEach(function(M){l(M)?(G.length&&ee.push(S(C,G)),ee.push(S(C,M)),G=[]):G.push(M)}),G.length&&ee.push(S(C,G))}return ee}function w(D){for(var q=[],ee=0;ee<D.length;ee++){var re=D[ee];if(re.include){for(var C=[].concat(re.include),$=0;$<C.length;$++)q.push({include:C[$]});continue}if(!re.type)throw new Error("Rule has no type: "+JSON.stringify(re));q.push(S(re.type,re))}return q}function S(D,q){if(l(q)||(q={match:q}),q.include)throw new Error("Matching rules cannot also include states");var ee={defaultType:D,lineBreaks:!!q.error||!!q.fallback,pop:!1,next:null,push:null,error:!1,fallback:!1,value:null,type:null,shouldThrow:!1};for(var re in q)e.call(q,re)&&(ee[re]=q[re]);if(typeof ee.type=="string"&&D!==ee.type)throw new Error("Type transform cannot be a string (type '"+ee.type+"' for token '"+D+"')");var C=ee.match;return ee.match=Array.isArray(C)?C:C?[C]:[],ee.match.sort(function($,K){return o($)&&o(K)?0:o(K)?-1:o($)?1:K.length-$.length}),ee}function E(D){return Array.isArray(D)?w(D):y(D)}var k=S("error",{lineBreaks:!0,shouldThrow:!0});function O(D,q){for(var ee=null,re=Object.create(null),C=!0,$=null,K=[],W=[],G=0;G<D.length;G++)D[G].fallback&&(C=!1);for(var G=0;G<D.length;G++){var M=D[G];if(M.include)throw new Error("Inheritance is not allowed in stateless lexers");if(M.error||M.fallback){if(ee)throw!M.fallback==!ee.fallback?new Error("Multiple "+(M.fallback?"fallback":"error")+" rules not allowed (for token '"+M.defaultType+"')"):new Error("fallback and error are mutually exclusive (for token '"+M.defaultType+"')");ee=M}var R=M.match.slice();if(C)for(;R.length&&typeof R[0]=="string"&&R[0].length===1;){var Y=R.shift();re[Y.charCodeAt(0)]=M}if(M.pop||M.push||M.next){if(!q)throw new Error("State-switching options are not allowed in stateless lexers (for token '"+M.defaultType+"')");if(M.fallback)throw new Error("State-switching options are not allowed on fallback tokens (for token '"+M.defaultType+"')")}if(R.length!==0){C=!1,K.push(M);for(var le=0;le<R.length;le++){var fe=R[le];if(o(fe)){if($===null)$=fe.unicode;else if($!==fe.unicode&&M.fallback===!1)throw new Error("If one rule is /u then all must be")}}var _e=p(R.map(m)),ve=new RegExp(_e);if(ve.test(""))throw new Error("RegExp matches empty string: "+ve);var ke=d(_e);if(ke>0)throw new Error("RegExp has capture groups: "+ve+`
Use (?:  ) instead`);if(!M.lineBreaks&&ve.test(`
`))throw new Error("Rule should declare lineBreaks: "+ve);W.push(h(_e))}}var be=ee&&ee.fallback,Te=i&&!be?"ym":"gm",Ge=i||be?"":"|";$===!0&&(Te+="u");var kn=new RegExp(p(W)+Ge,Te);return{regexp:kn,groups:K,fast:re,error:ee||k}}function N(D){var q=O(E(D));return new j({start:q},"start")}function z(D,q,ee){var re=D&&(D.push||D.next);if(re&&!ee[re])throw new Error("Missing state '"+re+"' (in token '"+D.defaultType+"' of state '"+q+"')");if(D&&D.pop&&+D.pop!=1)throw new Error("pop must be 1 (in token '"+D.defaultType+"' of state '"+q+"')")}function F(D,q){var ee=D.$all?E(D.$all):[];delete D.$all;var re=Object.getOwnPropertyNames(D);q||(q=re[0]);for(var C=Object.create(null),$=0;$<re.length;$++){var K=re[$];C[K]=E(D[K]).concat(ee)}for(var $=0;$<re.length;$++)for(var K=re[$],W=C[K],G=Object.create(null),M=0;M<W.length;M++){var R=W[M];if(R.include){var Y=[M,1];if(R.include!==K&&!G[R.include]){G[R.include]=!0;var le=C[R.include];if(!le)throw new Error("Cannot include nonexistent state '"+R.include+"' (in state '"+K+"')");for(var fe=0;fe<le.length;fe++){var _e=le[fe];W.indexOf(_e)===-1&&Y.push(_e)}}W.splice.apply(W,Y),M--}}for(var ve=Object.create(null),$=0;$<re.length;$++){var K=re[$];ve[K]=O(C[K],!0)}for(var $=0;$<re.length;$++){for(var ke=re[$],be=ve[ke],Te=be.groups,M=0;M<Te.length;M++)z(Te[M],ke,ve);for(var Ge=Object.getOwnPropertyNames(be.fast),M=0;M<Ge.length;M++)z(be.fast[Ge[M]],ke,ve)}return new j(ve,q)}function U(D){for(var q=typeof Map<"u",ee=q?new Map:Object.create(null),re=Object.getOwnPropertyNames(D),C=0;C<re.length;C++){var $=re[C],K=D[$],W=Array.isArray(K)?K:[K];W.forEach(function(G){if(typeof G!="string")throw new Error("keyword must be string (in keyword '"+$+"')");q?ee.set(G,$):ee[G]=$})}return function(G){return q?ee.get(G):ee[G]}}var j=function(D,q){this.startState=q,this.states=D,this.buffer="",this.stack=[],this.reset()};j.prototype.reset=function(D,q){return this.buffer=D||"",this.index=0,this.line=q?q.line:1,this.col=q?q.col:1,this.queuedToken=q?q.queuedToken:null,this.queuedText=q?q.queuedText:"",this.queuedThrow=q?q.queuedThrow:null,this.setState(q?q.state:this.startState),this.stack=q&&q.stack?q.stack.slice():[],this},j.prototype.save=function(){return{line:this.line,col:this.col,state:this.state,stack:this.stack.slice(),queuedToken:this.queuedToken,queuedText:this.queuedText,queuedThrow:this.queuedThrow}},j.prototype.setState=function(D){if(!(!D||this.state===D)){this.state=D;var q=this.states[D];this.groups=q.groups,this.error=q.error,this.re=q.regexp,this.fast=q.fast}},j.prototype.popState=function(){this.setState(this.stack.pop())},j.prototype.pushState=function(D){this.stack.push(this.state),this.setState(D)};var V=i?function(D,q){return D.exec(q)}:function(D,q){var ee=D.exec(q);return ee[0].length===0?null:ee};j.prototype._getGroup=function(D){for(var q=this.groups.length,ee=0;ee<q;ee++)if(D[ee+1]!==void 0)return this.groups[ee];throw new Error("Cannot find token type for matched text")};function Z(){return this.value}if(j.prototype.next=function(){var D=this.index;if(this.queuedGroup){var q=this._token(this.queuedGroup,this.queuedText,D);return this.queuedGroup=null,this.queuedText="",q}var ee=this.buffer;if(D!==ee.length){var K=this.fast[ee.charCodeAt(D)];if(K)return this._token(K,ee.charAt(D),D);var re=this.re;re.lastIndex=D;var C=V(re,ee),$=this.error;if(C==null)return this._token($,ee.slice(D,ee.length),D);var K=this._getGroup(C),W=C[0];return $.fallback&&C.index!==D?(this.queuedGroup=K,this.queuedText=W,this._token($,ee.slice(D,C.index),D)):this._token(K,W,D)}},j.prototype._token=function(D,q,ee){var re=0;if(D.lineBreaks){var C=/\n/g,$=1;if(q===`
`)re=1;else for(;C.exec(q);)re++,$=C.lastIndex}var K={type:typeof D.type=="function"&&D.type(q)||D.defaultType,value:typeof D.value=="function"?D.value(q):q,text:q,toString:Z,offset:ee,lineBreaks:re,line:this.line,col:this.col},W=q.length;if(this.index+=W,this.line+=re,re!==0?this.col=W-$+1:this.col+=W,D.shouldThrow){var G=new Error(this.formatError(K,"invalid syntax"));throw G}return D.pop?this.popState():D.push?this.pushState(D.push):D.next&&this.setState(D.next),K},typeof Symbol<"u"&&Symbol.iterator){var ie=function(D){this.lexer=D};ie.prototype.next=function(){var D=this.lexer.next();return{value:D,done:!D}},ie.prototype[Symbol.iterator]=function(){return this},j.prototype[Symbol.iterator]=function(){return new ie(this)}}return j.prototype.formatError=function(D,q){if(D==null)var ee=this.buffer.slice(this.index),D={text:ee,offset:this.index,lineBreaks:ee.indexOf(`
`)===-1?0:1,line:this.line,col:this.col};var re=2,C=Math.max(D.line-re,1),$=D.line+re,K=String($).length,W=b(this.buffer,this.line-D.line+re+1).slice(0,5),G=[];G.push(q+" at line "+D.line+" col "+D.col+":"),G.push("");for(var M=0;M<W.length;M++){var R=W[M],Y=C+M;G.push(v(String(Y),K)+"  "+R),Y===D.line&&G.push(v("",K+D.col+1)+"^")}return G.join(`
`)},j.prototype.clone=function(){return new j(this.states,this.state)},j.prototype.has=function(D){return!0},{compile:N,states:F,error:Object.freeze({error:!0}),fallback:Object.freeze({fallback:!0}),keywords:U}})}(ia)),ia.exports}var D1=R1();function Gu(r){return r/.62137}function wd(r,e){let t=0,i=0,o=!1;for(const l of r.days){const u=l.event;if(!(!u||!u.dist)){if(typeof u.dist=="number"){const d=e==="mi"?u.dist:Gu(u.dist);t+=d,i+=d}else if(Array.isArray(u.dist)&&u.dist.length===2){let[d,h]=u.dist;e==="km"&&(d=Gu(d),h=Gu(h)),t+=d,i+=h,o=!0}}}return o?[t,i]:[i]}function Fr(r,e,t){function i(l){return e===t?l:e==="mi"?l/.62137:l*.62137}function o(l){return Number.isInteger(l)?l.toFixed(0):l.toFixed(1)}if(Array.isArray(r)){if(r.length===1){const l=i(r[0]);return o(l)+" "+t}if(r.length===2){const[l,u]=r.map(i);return o(l)+"-"+o(u)+" "+t}}return""}let Yu=D1.compile({with_range:[{match:/{\d+-\d+:\d+-\d+}/,value:r=>r.slice(1,-1)}],with_conversion:[{match:/{\d+(?:\.\d+)?:\d+(?:\.\d+)?}/,value:r=>r.slice(1,-1)}],single:[{match:/{\d+(?:\.\d+)?}/,value:r=>r.slice(1,-1)}],text:/[^{\n}]+/,NL:{match:/\n/,lineBreaks:!0}});function mg(r,e,t){let i="";Yu.reset(r);let o=Yu.next();for(;o;){if(o.type==="single"){const l=Fr([Number(o.value)],e,t);i+=l}else if(o.type==="with_conversion"){const[l,u]=o.value.split(":").map(Number),d=e===t?Fr([l],e,e):Fr([u],t,t);i+=d}else if(o.type==="with_range"){const[l,u]=o.value.split(":"),[d,h]=l.split("-").map(Number),[p,m]=u.split("-").map(Number),v=e===t?Fr([d,h],e,e):Fr([p,m],t,t);i+=v}else i+=o.value;o=Yu.next()}return i}function Ma(r,e,t){let i=mg(r.title,e,t),o=mg(r.desc,e,t);return[i,o]}const I1=new Intl.DateTimeFormat(navigator.language);function A1(r){return I1.format(r)}function N1(){return navigator.language==="en"||navigator.language==="en-US"?"mi":"km"}const yy=({$date:r})=>x.jsx(x.Fragment,{children:x.jsx("div",{className:"dateline",children:A1(r)})}),vy=({viewBox:r="0 0 32 52"})=>x.jsxs("svg",{className:"drag-handle",viewBox:r,children:[x.jsx("rect",{height:"4",width:"4",y:"4",x:"0"}),x.jsx("rect",{height:"4",width:"4",y:"12",x:"0"}),x.jsx("rect",{height:"4",width:"4",y:"20",x:"0"}),x.jsx("rect",{height:"4",width:"4",y:"28",x:"0"}),x.jsx("rect",{height:"4",width:"4",y:"36",x:"0"}),x.jsx("rect",{height:"4",width:"4",y:"44",x:"0"}),x.jsx("rect",{height:"4",width:"4",y:"52",x:"0"}),x.jsx("rect",{height:"4",width:"4",y:"4",x:"8"}),x.jsx("rect",{height:"4",width:"4",y:"12",x:"8"}),x.jsx("rect",{height:"4",width:"4",y:"20",x:"8"}),x.jsx("rect",{height:"4",width:"4",y:"28",x:"8"}),x.jsx("rect",{height:"4",width:"4",y:"36",x:"8"}),x.jsx("rect",{height:"4",width:"4",y:"44",x:"8"}),x.jsx("rect",{height:"4",width:"4",y:"52",x:"8"}),x.jsx("rect",{height:"4",width:"4",y:"4",x:"16"}),x.jsx("rect",{height:"4",width:"4",y:"12",x:"16"}),x.jsx("rect",{height:"4",width:"4",y:"20",x:"16"}),x.jsx("rect",{height:"4",width:"4",y:"28",x:"16"}),x.jsx("rect",{height:"4",width:"4",y:"36",x:"16"}),x.jsx("rect",{height:"4",width:"4",y:"44",x:"16"}),x.jsx("rect",{height:"4",width:"4",y:"52",x:"16"}),x.jsx("rect",{height:"4",width:"4",y:"4",x:"24"}),x.jsx("rect",{height:"4",width:"4",y:"12",x:"24"}),x.jsx("rect",{height:"4",width:"4",y:"20",x:"24"}),x.jsx("rect",{height:"4",width:"4",y:"28",x:"24"}),x.jsx("rect",{height:"4",width:"4",y:"36",x:"24"}),x.jsx("rect",{height:"4",width:"4",y:"44",x:"24"}),x.jsx("rect",{height:"4",width:"4",y:"52",x:"24"}),x.jsx("rect",{height:"4",width:"4",y:"4",x:"32"}),x.jsx("rect",{height:"4",width:"4",y:"12",x:"32"}),x.jsx("rect",{height:"4",width:"4",y:"20",x:"32"}),x.jsx("rect",{height:"4",width:"4",y:"28",x:"32"}),x.jsx("rect",{height:"4",width:"4",y:"36",x:"32"}),x.jsx("rect",{height:"4",width:"4",y:"44",x:"32"}),x.jsx("rect",{height:"4",width:"4",y:"52",x:"32"})]});function $a(r,e){var t={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&e.indexOf(i)<0&&(t[i]=r[i]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(r);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(r,i[o])&&(t[i[o]]=r[i[o]]);return t}function j1(r,e,t,i){function o(l){return l instanceof t?l:new t(function(u){u(l)})}return new(t||(t=Promise))(function(l,u){function d(m){try{p(i.next(m))}catch(v){u(v)}}function h(m){try{p(i.throw(m))}catch(v){u(v)}}function p(m){m.done?l(m.value):o(m.value).then(d,h)}p((i=i.apply(r,e||[])).next())})}const M1=r=>r?(...e)=>r(...e):(...e)=>fetch(...e);class _d extends Error{constructor(e,t="FunctionsError",i){super(e),this.name=t,this.context=i}}class $1 extends _d{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class yg extends _d{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class vg extends _d{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Lc;(function(r){r.Any="any",r.ApNortheast1="ap-northeast-1",r.ApNortheast2="ap-northeast-2",r.ApSouth1="ap-south-1",r.ApSoutheast1="ap-southeast-1",r.ApSoutheast2="ap-southeast-2",r.CaCentral1="ca-central-1",r.EuCentral1="eu-central-1",r.EuWest1="eu-west-1",r.EuWest2="eu-west-2",r.EuWest3="eu-west-3",r.SaEast1="sa-east-1",r.UsEast1="us-east-1",r.UsWest1="us-west-1",r.UsWest2="us-west-2"})(Lc||(Lc={}));class L1{constructor(e,{headers:t={},customFetch:i,region:o=Lc.Any}={}){this.url=e,this.headers=t,this.region=o,this.fetch=M1(i)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return j1(this,arguments,void 0,function*(t,i={}){var o;let l,u;try{const{headers:d,method:h,body:p,signal:m,timeout:v}=i;let b={},{region:y}=i;y||(y=this.region);const w=new URL(`${this.url}/${t}`);y&&y!=="any"&&(b["x-region"]=y,w.searchParams.set("forceFunctionRegion",y));let S;p&&(d&&!Object.prototype.hasOwnProperty.call(d,"Content-Type")||!d)?typeof Blob<"u"&&p instanceof Blob||p instanceof ArrayBuffer?(b["Content-Type"]="application/octet-stream",S=p):typeof p=="string"?(b["Content-Type"]="text/plain",S=p):typeof FormData<"u"&&p instanceof FormData?S=p:(b["Content-Type"]="application/json",S=JSON.stringify(p)):S=p;let E=m;v&&(u=new AbortController,l=setTimeout(()=>u.abort(),v),m?(E=u.signal,m.addEventListener("abort",()=>u.abort())):E=u.signal);const k=yield this.fetch(w.toString(),{method:h||"POST",headers:Object.assign(Object.assign(Object.assign({},b),this.headers),d),body:S,signal:E}).catch(F=>{throw new $1(F)}),O=k.headers.get("x-relay-error");if(O&&O==="true")throw new yg(k);if(!k.ok)throw new vg(k);let N=((o=k.headers.get("Content-Type"))!==null&&o!==void 0?o:"text/plain").split(";")[0].trim(),z;return N==="application/json"?z=yield k.json():N==="application/octet-stream"||N==="application/pdf"?z=yield k.blob():N==="text/event-stream"?z=k:N==="multipart/form-data"?z=yield k.formData():z=yield k.text(),{data:z,error:null,response:k}}catch(d){return{data:null,error:d,response:d instanceof vg||d instanceof yg?d.context:void 0}}finally{l&&clearTimeout(l)}})}}var U1=class extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}},F1=class{constructor(r){var e,t;this.shouldThrowOnError=!1,this.method=r.method,this.url=r.url,this.headers=new Headers(r.headers),this.schema=r.schema,this.body=r.body,this.shouldThrowOnError=(e=r.shouldThrowOnError)!==null&&e!==void 0?e:!1,this.signal=r.signal,this.isMaybeSingle=(t=r.isMaybeSingle)!==null&&t!==void 0?t:!1,r.fetch?this.fetch=r.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(r,e){return this.headers=new Headers(this.headers),this.headers.set(r,e),this}then(r,e){var t=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const i=this.fetch;let o=i(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async l=>{let u=null,d=null,h=null,p=l.status,m=l.statusText;if(l.ok){var v,b;if(t.method!=="HEAD"){var y;const k=await l.text();k===""||(t.headers.get("Accept")==="text/csv"||t.headers.get("Accept")&&(!((y=t.headers.get("Accept"))===null||y===void 0)&&y.includes("application/vnd.pgrst.plan+text"))?d=k:d=JSON.parse(k))}const S=(v=t.headers.get("Prefer"))===null||v===void 0?void 0:v.match(/count=(exact|planned|estimated)/),E=(b=l.headers.get("content-range"))===null||b===void 0?void 0:b.split("/");S&&E&&E.length>1&&(h=parseInt(E[1])),t.isMaybeSingle&&t.method==="GET"&&Array.isArray(d)&&(d.length>1?(u={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,h=null,p=406,m="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{var w;const S=await l.text();try{u=JSON.parse(S),Array.isArray(u)&&l.status===404&&(d=[],u=null,p=200,m="OK")}catch{l.status===404&&S===""?(p=204,m="No Content"):u={message:S}}if(u&&t.isMaybeSingle&&(!(u==null||(w=u.details)===null||w===void 0)&&w.includes("0 rows"))&&(u=null,p=200,m="OK"),u&&t.shouldThrowOnError)throw new U1(u)}return{error:u,data:d,count:h,status:p,statusText:m}});return this.shouldThrowOnError||(o=o.catch(l=>{var u;let d="";const h=l==null?void 0:l.cause;if(h){var p,m,v,b;const w=(p=h==null?void 0:h.message)!==null&&p!==void 0?p:"",S=(m=h==null?void 0:h.code)!==null&&m!==void 0?m:"";d=`${(v=l==null?void 0:l.name)!==null&&v!==void 0?v:"FetchError"}: ${l==null?void 0:l.message}`,d+=`

Caused by: ${(b=h==null?void 0:h.name)!==null&&b!==void 0?b:"Error"}: ${w}`,S&&(d+=` (${S})`),h!=null&&h.stack&&(d+=`
${h.stack}`)}else{var y;d=(y=l==null?void 0:l.stack)!==null&&y!==void 0?y:""}return{error:{message:`${(u=l==null?void 0:l.name)!==null&&u!==void 0?u:"FetchError"}: ${l==null?void 0:l.message}`,details:d,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),o.then(r,e)}returns(){return this}overrideTypes(){return this}},z1=class extends F1{select(r){let e=!1;const t=(r??"*").split("").map(i=>/\s/.test(i)&&!e?"":(i==='"'&&(e=!e),i)).join("");return this.url.searchParams.set("select",t),this.headers.append("Prefer","return=representation"),this}order(r,{ascending:e=!0,nullsFirst:t,foreignTable:i,referencedTable:o=i}={}){const l=o?`${o}.order`:"order",u=this.url.searchParams.get(l);return this.url.searchParams.set(l,`${u?`${u},`:""}${r}.${e?"asc":"desc"}${t===void 0?"":t?".nullsfirst":".nullslast"}`),this}limit(r,{foreignTable:e,referencedTable:t=e}={}){const i=typeof t>"u"?"limit":`${t}.limit`;return this.url.searchParams.set(i,`${r}`),this}range(r,e,{foreignTable:t,referencedTable:i=t}={}){const o=typeof i>"u"?"offset":`${i}.offset`,l=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(o,`${r}`),this.url.searchParams.set(l,`${e-r+1}`),this}abortSignal(r){return this.signal=r,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:r=!1,verbose:e=!1,settings:t=!1,buffers:i=!1,wal:o=!1,format:l="text"}={}){var u;const d=[r?"analyze":null,e?"verbose":null,t?"settings":null,i?"buffers":null,o?"wal":null].filter(Boolean).join("|"),h=(u=this.headers.get("Accept"))!==null&&u!==void 0?u:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${l}; for="${h}"; options=${d};`),l==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(r){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${r}`),this}};const wg=new RegExp("[,()]");var ai=class extends z1{eq(r,e){return this.url.searchParams.append(r,`eq.${e}`),this}neq(r,e){return this.url.searchParams.append(r,`neq.${e}`),this}gt(r,e){return this.url.searchParams.append(r,`gt.${e}`),this}gte(r,e){return this.url.searchParams.append(r,`gte.${e}`),this}lt(r,e){return this.url.searchParams.append(r,`lt.${e}`),this}lte(r,e){return this.url.searchParams.append(r,`lte.${e}`),this}like(r,e){return this.url.searchParams.append(r,`like.${e}`),this}likeAllOf(r,e){return this.url.searchParams.append(r,`like(all).{${e.join(",")}}`),this}likeAnyOf(r,e){return this.url.searchParams.append(r,`like(any).{${e.join(",")}}`),this}ilike(r,e){return this.url.searchParams.append(r,`ilike.${e}`),this}ilikeAllOf(r,e){return this.url.searchParams.append(r,`ilike(all).{${e.join(",")}}`),this}ilikeAnyOf(r,e){return this.url.searchParams.append(r,`ilike(any).{${e.join(",")}}`),this}regexMatch(r,e){return this.url.searchParams.append(r,`match.${e}`),this}regexIMatch(r,e){return this.url.searchParams.append(r,`imatch.${e}`),this}is(r,e){return this.url.searchParams.append(r,`is.${e}`),this}isDistinct(r,e){return this.url.searchParams.append(r,`isdistinct.${e}`),this}in(r,e){const t=Array.from(new Set(e)).map(i=>typeof i=="string"&&wg.test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(r,`in.(${t})`),this}notIn(r,e){const t=Array.from(new Set(e)).map(i=>typeof i=="string"&&wg.test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(r,`not.in.(${t})`),this}contains(r,e){return typeof e=="string"?this.url.searchParams.append(r,`cs.${e}`):Array.isArray(e)?this.url.searchParams.append(r,`cs.{${e.join(",")}}`):this.url.searchParams.append(r,`cs.${JSON.stringify(e)}`),this}containedBy(r,e){return typeof e=="string"?this.url.searchParams.append(r,`cd.${e}`):Array.isArray(e)?this.url.searchParams.append(r,`cd.{${e.join(",")}}`):this.url.searchParams.append(r,`cd.${JSON.stringify(e)}`),this}rangeGt(r,e){return this.url.searchParams.append(r,`sr.${e}`),this}rangeGte(r,e){return this.url.searchParams.append(r,`nxl.${e}`),this}rangeLt(r,e){return this.url.searchParams.append(r,`sl.${e}`),this}rangeLte(r,e){return this.url.searchParams.append(r,`nxr.${e}`),this}rangeAdjacent(r,e){return this.url.searchParams.append(r,`adj.${e}`),this}overlaps(r,e){return typeof e=="string"?this.url.searchParams.append(r,`ov.${e}`):this.url.searchParams.append(r,`ov.{${e.join(",")}}`),this}textSearch(r,e,{config:t,type:i}={}){let o="";i==="plain"?o="pl":i==="phrase"?o="ph":i==="websearch"&&(o="w");const l=t===void 0?"":`(${t})`;return this.url.searchParams.append(r,`${o}fts${l}.${e}`),this}match(r){return Object.entries(r).forEach(([e,t])=>{this.url.searchParams.append(e,`eq.${t}`)}),this}not(r,e,t){return this.url.searchParams.append(r,`not.${e}.${t}`),this}or(r,{foreignTable:e,referencedTable:t=e}={}){const i=t?`${t}.or`:"or";return this.url.searchParams.append(i,`(${r})`),this}filter(r,e,t){return this.url.searchParams.append(r,`${e}.${t}`),this}},B1=class{constructor(r,{headers:e={},schema:t,fetch:i}){this.url=r,this.headers=new Headers(e),this.schema=t,this.fetch=i}select(r,e){const{head:t=!1,count:i}=e??{},o=t?"HEAD":"GET";let l=!1;const u=(r??"*").split("").map(d=>/\s/.test(d)&&!l?"":(d==='"'&&(l=!l),d)).join("");return this.url.searchParams.set("select",u),i&&this.headers.append("Prefer",`count=${i}`),new ai({method:o,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(r,{count:e,defaultToNull:t=!0}={}){var i;const o="POST";if(e&&this.headers.append("Prefer",`count=${e}`),t||this.headers.append("Prefer","missing=default"),Array.isArray(r)){const l=r.reduce((u,d)=>u.concat(Object.keys(d)),[]);if(l.length>0){const u=[...new Set(l)].map(d=>`"${d}"`);this.url.searchParams.set("columns",u.join(","))}}return new ai({method:o,url:this.url,headers:this.headers,schema:this.schema,body:r,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}upsert(r,{onConflict:e,ignoreDuplicates:t=!1,count:i,defaultToNull:o=!0}={}){var l;const u="POST";if(this.headers.append("Prefer",`resolution=${t?"ignore":"merge"}-duplicates`),e!==void 0&&this.url.searchParams.set("on_conflict",e),i&&this.headers.append("Prefer",`count=${i}`),o||this.headers.append("Prefer","missing=default"),Array.isArray(r)){const d=r.reduce((h,p)=>h.concat(Object.keys(p)),[]);if(d.length>0){const h=[...new Set(d)].map(p=>`"${p}"`);this.url.searchParams.set("columns",h.join(","))}}return new ai({method:u,url:this.url,headers:this.headers,schema:this.schema,body:r,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}update(r,{count:e}={}){var t;const i="PATCH";return e&&this.headers.append("Prefer",`count=${e}`),new ai({method:i,url:this.url,headers:this.headers,schema:this.schema,body:r,fetch:(t=this.fetch)!==null&&t!==void 0?t:fetch})}delete({count:r}={}){var e;const t="DELETE";return r&&this.headers.append("Prefer",`count=${r}`),new ai({method:t,url:this.url,headers:this.headers,schema:this.schema,fetch:(e=this.fetch)!==null&&e!==void 0?e:fetch})}},H1=class wy{constructor(e,{headers:t={},schema:i,fetch:o}={}){this.url=e,this.headers=new Headers(t),this.schemaName=i,this.fetch=o}from(e){if(!e||typeof e!="string"||e.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new B1(new URL(`${this.url}/${e}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new wy(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,t={},{head:i=!1,get:o=!1,count:l}={}){var u;let d;const h=new URL(`${this.url}/rpc/${e}`);let p;i||o?(d=i?"HEAD":"GET",Object.entries(t).filter(([v,b])=>b!==void 0).map(([v,b])=>[v,Array.isArray(b)?`{${b.join(",")}}`:`${b}`]).forEach(([v,b])=>{h.searchParams.append(v,b)})):(d="POST",p=t);const m=new Headers(this.headers);return l&&m.set("Prefer",`count=${l}`),new ai({method:d,url:h,headers:m,schema:this.schemaName,body:p,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}};class W1{constructor(){}static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const t=process.versions;if(t&&t.node){const i=t.node,o=parseInt(i.replace(/^v/,"").split(".")[0]);return o>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${o} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${o} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let t=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(t+=`

Suggested solution: ${e.workaround}`),new Error(t)}static createWebSocket(e,t){const i=this.getWebSocketConstructor();return new i(e,t)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const q1="2.89.0",V1=`realtime-js/${q1}`,_y="1.0.0",K1="2.0.0",_g=_y,Uc=1e4,G1=1e3,Y1=100;var Ur;(function(r){r[r.connecting=0]="connecting",r[r.open=1]="open",r[r.closing=2]="closing",r[r.closed=3]="closed"})(Ur||(Ur={}));var Ke;(function(r){r.closed="closed",r.errored="errored",r.joined="joined",r.joining="joining",r.leaving="leaving"})(Ke||(Ke={}));var qt;(function(r){r.close="phx_close",r.error="phx_error",r.join="phx_join",r.reply="phx_reply",r.leave="phx_leave",r.access_token="access_token"})(qt||(qt={}));var Fc;(function(r){r.websocket="websocket"})(Fc||(Fc={}));var yn;(function(r){r.Connecting="connecting",r.Open="open",r.Closing="closing",r.Closed="closed"})(yn||(yn={}));class J1{constructor(e){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=e??[]}encode(e,t){if(e.event===this.BROADCAST_EVENT&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event=="string")return t(this._binaryEncodeUserBroadcastPush(e));let i=[e.join_ref,e.ref,e.topic,e.event,e.payload];return t(JSON.stringify(i))}_binaryEncodeUserBroadcastPush(e){var t;return this._isArrayBuffer((t=e.payload)===null||t===void 0?void 0:t.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var t,i;const o=(i=(t=e.payload)===null||t===void 0?void 0:t.payload)!==null&&i!==void 0?i:new ArrayBuffer(0);return this._encodeUserBroadcastPush(e,this.BINARY_ENCODING,o)}_encodeJsonUserBroadcastPush(e){var t,i;const o=(i=(t=e.payload)===null||t===void 0?void 0:t.payload)!==null&&i!==void 0?i:{},u=new TextEncoder().encode(JSON.stringify(o)).buffer;return this._encodeUserBroadcastPush(e,this.JSON_ENCODING,u)}_encodeUserBroadcastPush(e,t,i){var o,l;const u=e.topic,d=(o=e.ref)!==null&&o!==void 0?o:"",h=(l=e.join_ref)!==null&&l!==void 0?l:"",p=e.payload.event,m=this.allowedMetadataKeys?this._pick(e.payload,this.allowedMetadataKeys):{},v=Object.keys(m).length===0?"":JSON.stringify(m);if(h.length>255)throw new Error(`joinRef length ${h.length} exceeds maximum of 255`);if(d.length>255)throw new Error(`ref length ${d.length} exceeds maximum of 255`);if(u.length>255)throw new Error(`topic length ${u.length} exceeds maximum of 255`);if(p.length>255)throw new Error(`userEvent length ${p.length} exceeds maximum of 255`);if(v.length>255)throw new Error(`metadata length ${v.length} exceeds maximum of 255`);const b=this.USER_BROADCAST_PUSH_META_LENGTH+h.length+d.length+u.length+p.length+v.length,y=new ArrayBuffer(this.HEADER_LENGTH+b);let w=new DataView(y),S=0;w.setUint8(S++,this.KINDS.userBroadcastPush),w.setUint8(S++,h.length),w.setUint8(S++,d.length),w.setUint8(S++,u.length),w.setUint8(S++,p.length),w.setUint8(S++,v.length),w.setUint8(S++,t),Array.from(h,k=>w.setUint8(S++,k.charCodeAt(0))),Array.from(d,k=>w.setUint8(S++,k.charCodeAt(0))),Array.from(u,k=>w.setUint8(S++,k.charCodeAt(0))),Array.from(p,k=>w.setUint8(S++,k.charCodeAt(0))),Array.from(v,k=>w.setUint8(S++,k.charCodeAt(0)));var E=new Uint8Array(y.byteLength+i.byteLength);return E.set(new Uint8Array(y),0),E.set(new Uint8Array(i),y.byteLength),E.buffer}decode(e,t){if(this._isArrayBuffer(e)){let i=this._binaryDecode(e);return t(i)}if(typeof e=="string"){const i=JSON.parse(e),[o,l,u,d,h]=i;return t({join_ref:o,ref:l,topic:u,event:d,payload:h})}return t({})}_binaryDecode(e){const t=new DataView(e),i=t.getUint8(0),o=new TextDecoder;switch(i){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(e,t,o)}}_decodeUserBroadcast(e,t,i){const o=t.getUint8(1),l=t.getUint8(2),u=t.getUint8(3),d=t.getUint8(4);let h=this.HEADER_LENGTH+4;const p=i.decode(e.slice(h,h+o));h=h+o;const m=i.decode(e.slice(h,h+l));h=h+l;const v=i.decode(e.slice(h,h+u));h=h+u;const b=e.slice(h,e.byteLength),y=d===this.JSON_ENCODING?JSON.parse(i.decode(b)):b,w={type:this.BROADCAST_EVENT,event:m,payload:y};return u>0&&(w.meta=JSON.parse(v)),{join_ref:null,ref:null,topic:p,event:this.BROADCAST_EVENT,payload:w}}_isArrayBuffer(e){var t;return e instanceof ArrayBuffer||((t=e==null?void 0:e.constructor)===null||t===void 0?void 0:t.name)==="ArrayBuffer"}_pick(e,t){return!e||typeof e!="object"?{}:Object.fromEntries(Object.entries(e).filter(([i])=>t.includes(i)))}}class Sy{constructor(e,t){this.callback=e,this.timerCalc=t,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=t}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var De;(function(r){r.abstime="abstime",r.bool="bool",r.date="date",r.daterange="daterange",r.float4="float4",r.float8="float8",r.int2="int2",r.int4="int4",r.int4range="int4range",r.int8="int8",r.int8range="int8range",r.json="json",r.jsonb="jsonb",r.money="money",r.numeric="numeric",r.oid="oid",r.reltime="reltime",r.text="text",r.time="time",r.timestamp="timestamp",r.timestamptz="timestamptz",r.timetz="timetz",r.tsrange="tsrange",r.tstzrange="tstzrange"})(De||(De={}));const Sg=(r,e,t={})=>{var i;const o=(i=t.skipTypes)!==null&&i!==void 0?i:[];return e?Object.keys(e).reduce((l,u)=>(l[u]=Q1(u,r,e,o),l),{}):{}},Q1=(r,e,t,i)=>{const o=e.find(d=>d.name===r),l=o==null?void 0:o.type,u=t[r];return l&&!i.includes(l)?by(l,u):zc(u)},by=(r,e)=>{if(r.charAt(0)==="_"){const t=r.slice(1,r.length);return tk(e,t)}switch(r){case De.bool:return X1(e);case De.float4:case De.float8:case De.int2:case De.int4:case De.int8:case De.numeric:case De.oid:return Z1(e);case De.json:case De.jsonb:return ek(e);case De.timestamp:return rk(e);case De.abstime:case De.date:case De.daterange:case De.int4range:case De.int8range:case De.money:case De.reltime:case De.text:case De.time:case De.timestamptz:case De.timetz:case De.tsrange:case De.tstzrange:return zc(e);default:return zc(e)}},zc=r=>r,X1=r=>{switch(r){case"t":return!0;case"f":return!1;default:return r}},Z1=r=>{if(typeof r=="string"){const e=parseFloat(r);if(!Number.isNaN(e))return e}return r},ek=r=>{if(typeof r=="string")try{return JSON.parse(r)}catch{return r}return r},tk=(r,e)=>{if(typeof r!="string")return r;const t=r.length-1,i=r[t];if(r[0]==="{"&&i==="}"){let l;const u=r.slice(1,t);try{l=JSON.parse("["+u+"]")}catch{l=u?u.split(","):[]}return l.map(d=>by(e,d))}return r},rk=r=>typeof r=="string"?r.replace(" ","T"):r,Ey=r=>{const e=new URL(r);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class Ju{constructor(e,t,i={},o=Uc){this.channel=e,this.event=t,this.payload=i,this.timeout=o,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,t){var i;return this._hasReceived(e)&&t((i=this.receivedResp)===null||i===void 0?void 0:i.response),this.recHooks.push({status:e,callback:t}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=t=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=t,this._matchReceive(t)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,t){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:t})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:t}){this.recHooks.filter(i=>i.status===e).forEach(i=>i.callback(t))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var bg;(function(r){r.SYNC="sync",r.JOIN="join",r.LEAVE="leave"})(bg||(bg={}));class gs{constructor(e,t){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const i=(t==null?void 0:t.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(i.state,{},o=>{const{onJoin:l,onLeave:u,onSync:d}=this.caller;this.joinRef=this.channel._joinRef(),this.state=gs.syncState(this.state,o,l,u),this.pendingDiffs.forEach(h=>{this.state=gs.syncDiff(this.state,h,l,u)}),this.pendingDiffs=[],d()}),this.channel._on(i.diff,{},o=>{const{onJoin:l,onLeave:u,onSync:d}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(o):(this.state=gs.syncDiff(this.state,o,l,u),d())}),this.onJoin((o,l,u)=>{this.channel._trigger("presence",{event:"join",key:o,currentPresences:l,newPresences:u})}),this.onLeave((o,l,u)=>{this.channel._trigger("presence",{event:"leave",key:o,currentPresences:l,leftPresences:u})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,t,i,o){const l=this.cloneDeep(e),u=this.transformState(t),d={},h={};return this.map(l,(p,m)=>{u[p]||(h[p]=m)}),this.map(u,(p,m)=>{const v=l[p];if(v){const b=m.map(E=>E.presence_ref),y=v.map(E=>E.presence_ref),w=m.filter(E=>y.indexOf(E.presence_ref)<0),S=v.filter(E=>b.indexOf(E.presence_ref)<0);w.length>0&&(d[p]=w),S.length>0&&(h[p]=S)}else d[p]=m}),this.syncDiff(l,{joins:d,leaves:h},i,o)}static syncDiff(e,t,i,o){const{joins:l,leaves:u}={joins:this.transformState(t.joins),leaves:this.transformState(t.leaves)};return i||(i=()=>{}),o||(o=()=>{}),this.map(l,(d,h)=>{var p;const m=(p=e[d])!==null&&p!==void 0?p:[];if(e[d]=this.cloneDeep(h),m.length>0){const v=e[d].map(y=>y.presence_ref),b=m.filter(y=>v.indexOf(y.presence_ref)<0);e[d].unshift(...b)}i(d,m,h)}),this.map(u,(d,h)=>{let p=e[d];if(!p)return;const m=h.map(v=>v.presence_ref);p=p.filter(v=>m.indexOf(v.presence_ref)<0),e[d]=p,o(d,p,h),p.length===0&&delete e[d]}),e}static map(e,t){return Object.getOwnPropertyNames(e).map(i=>t(i,e[i]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((t,i)=>{const o=e[i];return"metas"in o?t[i]=o.metas.map(l=>(l.presence_ref=l.phx_ref,delete l.phx_ref,delete l.phx_ref_prev,l)):t[i]=o,t},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Eg;(function(r){r.ALL="*",r.INSERT="INSERT",r.UPDATE="UPDATE",r.DELETE="DELETE"})(Eg||(Eg={}));var ms;(function(r){r.BROADCAST="broadcast",r.PRESENCE="presence",r.POSTGRES_CHANGES="postgres_changes",r.SYSTEM="system"})(ms||(ms={}));var pr;(function(r){r.SUBSCRIBED="SUBSCRIBED",r.TIMED_OUT="TIMED_OUT",r.CLOSED="CLOSED",r.CHANNEL_ERROR="CHANNEL_ERROR"})(pr||(pr={}));class ci{constructor(e,t={config:{}},i){var o,l;if(this.topic=e,this.params=t,this.socket=i,this.bindings={},this.state=Ke.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},t.config),this.timeout=this.socket.timeout,this.joinPush=new Ju(this,qt.join,this.params,this.timeout),this.rejoinTimer=new Sy(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Ke.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(u=>u.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Ke.closed,this.socket._remove(this)}),this._onError(u=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,u),this.state=Ke.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Ke.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",u=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,u),this.state=Ke.errored,this.rejoinTimer.scheduleTimeout())}),this._on(qt.reply,{},(u,d)=>{this._trigger(this._replyEventName(d),u)}),this.presence=new gs(this),this.broadcastEndpointURL=Ey(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((l=(o=this.params.config)===null||o===void 0?void 0:o.broadcast)===null||l===void 0)&&l.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,t=this.timeout){var i,o,l;if(this.socket.isConnected()||this.socket.connect(),this.state==Ke.closed){const{config:{broadcast:u,presence:d,private:h}}=this.params,p=(o=(i=this.bindings.postgres_changes)===null||i===void 0?void 0:i.map(y=>y.filter))!==null&&o!==void 0?o:[],m=!!this.bindings[ms.PRESENCE]&&this.bindings[ms.PRESENCE].length>0||((l=this.params.config.presence)===null||l===void 0?void 0:l.enabled)===!0,v={},b={broadcast:u,presence:Object.assign(Object.assign({},d),{enabled:m}),postgres_changes:p,private:h};this.socket.accessTokenValue&&(v.access_token=this.socket.accessTokenValue),this._onError(y=>e==null?void 0:e(pr.CHANNEL_ERROR,y)),this._onClose(()=>e==null?void 0:e(pr.CLOSED)),this.updateJoinPayload(Object.assign({config:b},v)),this.joinedOnce=!0,this._rejoin(t),this.joinPush.receive("ok",async({postgres_changes:y})=>{var w;if(this.socket._isManualToken()||this.socket.setAuth(),y===void 0){e==null||e(pr.SUBSCRIBED);return}else{const S=this.bindings.postgres_changes,E=(w=S==null?void 0:S.length)!==null&&w!==void 0?w:0,k=[];for(let O=0;O<E;O++){const N=S[O],{filter:{event:z,schema:F,table:U,filter:j}}=N,V=y&&y[O];if(V&&V.event===z&&ci.isFilterValueEqual(V.schema,F)&&ci.isFilterValueEqual(V.table,U)&&ci.isFilterValueEqual(V.filter,j))k.push(Object.assign(Object.assign({},N),{id:V.id}));else{this.unsubscribe(),this.state=Ke.errored,e==null||e(pr.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=k,e&&e(pr.SUBSCRIBED);return}}).receive("error",y=>{this.state=Ke.errored,e==null||e(pr.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(y).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(pr.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,t={}){return await this.send({type:"presence",event:"track",payload:e},t.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,t,i){return this.state===Ke.joined&&e===ms.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(e,t,i)}async httpSend(e,t,i={}){var o;if(t==null)return Promise.reject("Payload is required for httpSend()");const l={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(l.Authorization=`Bearer ${this.socket.accessTokenValue}`);const u={method:"POST",headers:l,body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:t,private:this.private}]})},d=await this._fetchWithTimeout(this.broadcastEndpointURL,u,(o=i.timeout)!==null&&o!==void 0?o:this.timeout);if(d.status===202)return{success:!0};let h=d.statusText;try{const p=await d.json();h=p.error||p.message||h}catch{}return Promise.reject(new Error(h))}async send(e,t={}){var i,o;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:l,payload:u}=e,d={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(d.Authorization=`Bearer ${this.socket.accessTokenValue}`);const h={method:"POST",headers:d,body:JSON.stringify({messages:[{topic:this.subTopic,event:l,payload:u,private:this.private}]})};try{const p=await this._fetchWithTimeout(this.broadcastEndpointURL,h,(i=t.timeout)!==null&&i!==void 0?i:this.timeout);return await((o=p.body)===null||o===void 0?void 0:o.cancel()),p.ok?"ok":"error"}catch(p){return p.name==="AbortError"?"timed out":"error"}}else return new Promise(l=>{var u,d,h;const p=this._push(e.type,e,t.timeout||this.timeout);e.type==="broadcast"&&!(!((h=(d=(u=this.params)===null||u===void 0?void 0:u.config)===null||d===void 0?void 0:d.broadcast)===null||h===void 0)&&h.ack)&&l("ok"),p.receive("ok",()=>l("ok")),p.receive("error",()=>l("error")),p.receive("timeout",()=>l("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Ke.leaving;const t=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(qt.close,"leave",this._joinRef())};this.joinPush.destroy();let i=null;return new Promise(o=>{i=new Ju(this,qt.leave,{},e),i.receive("ok",()=>{t(),o("ok")}).receive("timeout",()=>{t(),o("timed out")}).receive("error",()=>{o("error")}),i.send(),this._canPush()||i.trigger("ok",{})}).finally(()=>{i==null||i.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Ke.closed,this.bindings={}}async _fetchWithTimeout(e,t,i){const o=new AbortController,l=setTimeout(()=>o.abort(),i),u=await this.socket.fetch(e,Object.assign(Object.assign({},t),{signal:o.signal}));return clearTimeout(l),u}_push(e,t,i=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let o=new Ju(this,e,t,i);return this._canPush()?o.send():this._addToPushBuffer(o),o}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>Y1){const t=this.pushBuffer.shift();t&&(t.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${t.event}`,t.payload))}}_onMessage(e,t,i){return t}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,t,i){var o,l;const u=e.toLocaleLowerCase(),{close:d,error:h,leave:p,join:m}=qt;if(i&&[d,h,p,m].indexOf(u)>=0&&i!==this._joinRef())return;let b=this._onMessage(u,t,i);if(t&&!b)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(u)?(o=this.bindings.postgres_changes)===null||o===void 0||o.filter(y=>{var w,S,E;return((w=y.filter)===null||w===void 0?void 0:w.event)==="*"||((E=(S=y.filter)===null||S===void 0?void 0:S.event)===null||E===void 0?void 0:E.toLocaleLowerCase())===u}).map(y=>y.callback(b,i)):(l=this.bindings[u])===null||l===void 0||l.filter(y=>{var w,S,E,k,O,N;if(["broadcast","presence","postgres_changes"].includes(u))if("id"in y){const z=y.id,F=(w=y.filter)===null||w===void 0?void 0:w.event;return z&&((S=t.ids)===null||S===void 0?void 0:S.includes(z))&&(F==="*"||(F==null?void 0:F.toLocaleLowerCase())===((E=t.data)===null||E===void 0?void 0:E.type.toLocaleLowerCase()))}else{const z=(O=(k=y==null?void 0:y.filter)===null||k===void 0?void 0:k.event)===null||O===void 0?void 0:O.toLocaleLowerCase();return z==="*"||z===((N=t==null?void 0:t.event)===null||N===void 0?void 0:N.toLocaleLowerCase())}else return y.type.toLocaleLowerCase()===u}).map(y=>{if(typeof b=="object"&&"ids"in b){const w=b.data,{schema:S,table:E,commit_timestamp:k,type:O,errors:N}=w;b=Object.assign(Object.assign({},{schema:S,table:E,commit_timestamp:k,eventType:O,new:{},old:{},errors:N}),this._getPayloadRecords(w))}y.callback(b,i)})}_isClosed(){return this.state===Ke.closed}_isJoined(){return this.state===Ke.joined}_isJoining(){return this.state===Ke.joining}_isLeaving(){return this.state===Ke.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,t,i){const o=e.toLocaleLowerCase(),l={type:o,filter:t,callback:i};return this.bindings[o]?this.bindings[o].push(l):this.bindings[o]=[l],this}_off(e,t){const i=e.toLocaleLowerCase();return this.bindings[i]&&(this.bindings[i]=this.bindings[i].filter(o=>{var l;return!(((l=o.type)===null||l===void 0?void 0:l.toLocaleLowerCase())===i&&ci.isEqual(o.filter,t))})),this}static isEqual(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const i in e)if(e[i]!==t[i])return!1;return!0}static isFilterValueEqual(e,t){return(e??void 0)===(t??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(qt.close,{},e)}_onError(e){this._on(qt.error,{},t=>e(t))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Ke.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const t={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(t.new=Sg(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(t.old=Sg(e.columns,e.old_record)),t}}const Qu=()=>{},Ho={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},nk=[1e3,2e3,5e3,1e4],ik=1e4,sk=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class ok{constructor(e,t){var i;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Uc,this.transport=null,this.heartbeatIntervalMs=Ho.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Qu,this.ref=0,this.reconnectTimer=null,this.vsn=_g,this.logger=Qu,this.conn=null,this.sendBuffer=[],this.serializer=new J1,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=o=>o?(...l)=>o(...l):(...l)=>fetch(...l),!(!((i=t==null?void 0:t.params)===null||i===void 0)&&i.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=t.params.apikey,this.endPoint=`${e}/${Fc.websocket}`,this.httpEndpoint=Ey(e),this._initializeOptions(t),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(t==null?void 0:t.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=W1.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const t=e.message;throw t.includes("Node.js")?new Error(`${t}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${t}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,t){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const i=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(i),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(e?this.conn.close(e,t??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const t=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),t}async removeAllChannels(){const e=await Promise.all(this.channels.map(t=>t.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,t,i){this.logger(e,t,i)}connectionState(){switch(this.conn&&this.conn.readyState){case Ur.connecting:return yn.Connecting;case Ur.open:return yn.Open;case Ur.closing:return yn.Closing;default:return yn.Closed}}isConnected(){return this.connectionState()===yn.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,t={config:{}}){const i=`realtime:${e}`,o=this.getChannels().find(l=>l.topic===i);if(o)return o;{const l=new ci(`realtime:${e}`,t,this);return this.channels.push(l),l}}push(e){const{topic:t,event:i,payload:o,ref:l}=e,u=()=>{this.encode(e,d=>{var h;(h=this.conn)===null||h===void 0||h.send(d)})};this.log("push",`${t} ${i} (${l})`,o),this.isConnected()?u():this.sendBuffer.push(u)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(t){this.log("error","error in heartbeat callback",t)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(t){this.log("error","error in heartbeat callback",t)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(G1,"heartbeat timeout"),setTimeout(()=>{var t;this.isConnected()||(t=this.reconnectTimer)===null||t===void 0||t.scheduleTimeout()},Ho.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(t){this.log("error","error in heartbeat callback",t)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let t=this.channels.find(i=>i.topic===e&&(i._isJoined()||i._isJoining()));t&&(this.log("transport",`leaving duplicate topic "${e}"`),t.unsubscribe())}_remove(e){this.channels=this.channels.filter(t=>t.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,t=>{if(t.topic==="phoenix"&&t.event==="phx_reply")try{this.heartbeatCallback(t.payload.status==="ok"?"ok":"error")}catch(p){this.log("error","error in heartbeat callback",p)}t.ref&&t.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:i,event:o,payload:l,ref:u}=t,d=u?`(${u})`:"",h=l.status||"";this.log("receive",`${h} ${i} ${o} ${d}`.trim(),l),this.channels.filter(p=>p._isMember(i)).forEach(p=>p._trigger(o,l,u)),this._triggerStateCallbacks("message",t)})}_clearTimer(e){var t;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((t=this.reconnectTimer)===null||t===void 0||t.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e),this.conn.readyState===Ur.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===Ur.open||this.conn.readyState===Ur.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(t=>{this.log("error","error waiting for auth on connect",t),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=t=>{this.log("worker","worker error",t.message),this._terminateWorker()},this.workerRef.onmessage=t=>{t.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(e){var t;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(t=this.reconnectTimer)===null||t===void 0||t.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(qt.error))}_appendParams(e,t){if(Object.keys(t).length===0)return e;const i=e.match(/\?/)?"&":"?",o=new URLSearchParams(t);return`${e}${i}${o}`}_workerObjectUrl(e){let t;if(e)t=e;else{const i=new Blob([sk],{type:"application/javascript"});t=URL.createObjectURL(i)}return t}_setConnectionState(e,t=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=t)}async _performAuth(e=null){let t,i=!1;if(e)t=e,i=!0;else if(this.accessToken)try{t=await this.accessToken()}catch(o){this.log("error","Error fetching access token from callback",o),t=this.accessTokenValue}else t=this.accessTokenValue;i?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=t&&(this.accessTokenValue=t,this.channels.forEach(o=>{const l={access_token:t,version:V1};t&&o.updateJoinPayload(l),o.joinedOnce&&o._isJoined()&&o._push(qt.access_token,{access_token:t})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this._isManualToken()||this.setAuth().catch(t=>{this.log("error",`Error setting auth in ${e}`,t)})}_triggerStateCallbacks(e,t){try{this.stateChangeCallbacks[e].forEach(i=>{try{i(t)}catch(o){this.log("error",`error in ${e} callback`,o)}})}catch(i){this.log("error",`error triggering ${e} callbacks`,i)}}_setupReconnectionTimer(){this.reconnectTimer=new Sy(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Ho.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var t,i,o,l,u,d,h,p,m,v,b,y;switch(this.transport=(t=e==null?void 0:e.transport)!==null&&t!==void 0?t:null,this.timeout=(i=e==null?void 0:e.timeout)!==null&&i!==void 0?i:Uc,this.heartbeatIntervalMs=(o=e==null?void 0:e.heartbeatIntervalMs)!==null&&o!==void 0?o:Ho.HEARTBEAT_INTERVAL,this.worker=(l=e==null?void 0:e.worker)!==null&&l!==void 0?l:!1,this.accessToken=(u=e==null?void 0:e.accessToken)!==null&&u!==void 0?u:null,this.heartbeatCallback=(d=e==null?void 0:e.heartbeatCallback)!==null&&d!==void 0?d:Qu,this.vsn=(h=e==null?void 0:e.vsn)!==null&&h!==void 0?h:_g,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(p=e==null?void 0:e.reconnectAfterMs)!==null&&p!==void 0?p:w=>nk[w-1]||ik,this.vsn){case _y:this.encode=(m=e==null?void 0:e.encode)!==null&&m!==void 0?m:(w,S)=>S(JSON.stringify(w)),this.decode=(v=e==null?void 0:e.decode)!==null&&v!==void 0?v:(w,S)=>S(JSON.parse(w));break;case K1:this.encode=(b=e==null?void 0:e.encode)!==null&&b!==void 0?b:this.serializer.encode.bind(this.serializer),this.decode=(y=e==null?void 0:e.decode)!==null&&y!==void 0?y:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}var ws=class extends Error{constructor(r,e){var t;super(r),this.name="IcebergError",this.status=e.status,this.icebergType=e.icebergType,this.icebergCode=e.icebergCode,this.details=e.details,this.isCommitStateUnknown=e.icebergType==="CommitStateUnknownException"||[500,502,504].includes(e.status)&&((t=e.icebergType)==null?void 0:t.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function ak(r,e,t){const i=new URL(e,r);if(t)for(const[o,l]of Object.entries(t))l!==void 0&&i.searchParams.set(o,l);return i.toString()}async function lk(r){return!r||r.type==="none"?{}:r.type==="bearer"?{Authorization:`Bearer ${r.token}`}:r.type==="header"?{[r.name]:r.value}:r.type==="custom"?await r.getHeaders():{}}function uk(r){const e=r.fetchImpl??globalThis.fetch;return{async request({method:t,path:i,query:o,body:l,headers:u}){const d=ak(r.baseUrl,i,o),h=await lk(r.auth),p=await e(d,{method:t,headers:{...l?{"Content-Type":"application/json"}:{},...h,...u},body:l?JSON.stringify(l):void 0}),m=await p.text(),v=(p.headers.get("content-type")||"").includes("application/json"),b=v&&m?JSON.parse(m):m;if(!p.ok){const y=v?b:void 0,w=y==null?void 0:y.error;throw new ws((w==null?void 0:w.message)??`Request failed with status ${p.status}`,{status:p.status,icebergType:w==null?void 0:w.type,icebergCode:w==null?void 0:w.code,details:y})}return{status:p.status,headers:p.headers,data:b}}}}function Wo(r){return r.join("")}var ck=class{constructor(r,e=""){this.client=r,this.prefix=e}async listNamespaces(r){const e=r?{parent:Wo(r.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:e})).data.namespaces.map(i=>({namespace:i}))}async createNamespace(r,e){const t={namespace:r.namespace,properties:e==null?void 0:e.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:t})).data}async dropNamespace(r){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Wo(r.namespace)}`})}async loadNamespaceMetadata(r){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Wo(r.namespace)}`})).data.properties}}async namespaceExists(r){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Wo(r.namespace)}`}),!0}catch(e){if(e instanceof ws&&e.status===404)return!1;throw e}}async createNamespaceIfNotExists(r,e){try{return await this.createNamespace(r,e)}catch(t){if(t instanceof ws&&t.status===409)return;throw t}}};function Xn(r){return r.join("")}var dk=class{constructor(r,e="",t){this.client=r,this.prefix=e,this.accessDelegation=t}async listTables(r){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Xn(r.namespace)}/tables`})).data.identifiers}async createTable(r,e){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Xn(r.namespace)}/tables`,body:e,headers:t})).data.metadata}async updateTable(r,e){const t=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Xn(r.namespace)}/tables/${r.name}`,body:e});return{"metadata-location":t.data["metadata-location"],metadata:t.data.metadata}}async dropTable(r,e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Xn(r.namespace)}/tables/${r.name}`,query:{purgeRequested:String((e==null?void 0:e.purge)??!1)}})}async loadTable(r){const e={};return this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Xn(r.namespace)}/tables/${r.name}`,headers:e})).data.metadata}async tableExists(r){const e={};this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Xn(r.namespace)}/tables/${r.name}`,headers:e}),!0}catch(t){if(t instanceof ws&&t.status===404)return!1;throw t}}async createTableIfNotExists(r,e){try{return await this.createTable(r,e)}catch(t){if(t instanceof ws&&t.status===409)return await this.loadTable({namespace:r.namespace,name:e.name});throw t}}},hk=class{constructor(r){var i;let e="v1";r.catalogName&&(e+=`/${r.catalogName}`);const t=r.baseUrl.endsWith("/")?r.baseUrl:`${r.baseUrl}/`;this.client=uk({baseUrl:t,auth:r.auth,fetchImpl:r.fetch}),this.accessDelegation=(i=r.accessDelegation)==null?void 0:i.join(","),this.namespaceOps=new ck(this.client,e),this.tableOps=new dk(this.client,e,this.accessDelegation)}async listNamespaces(r){return this.namespaceOps.listNamespaces(r)}async createNamespace(r,e){return this.namespaceOps.createNamespace(r,e)}async dropNamespace(r){await this.namespaceOps.dropNamespace(r)}async loadNamespaceMetadata(r){return this.namespaceOps.loadNamespaceMetadata(r)}async listTables(r){return this.tableOps.listTables(r)}async createTable(r,e){return this.tableOps.createTable(r,e)}async updateTable(r,e){return this.tableOps.updateTable(r,e)}async dropTable(r,e){await this.tableOps.dropTable(r,e)}async loadTable(r){return this.tableOps.loadTable(r)}async namespaceExists(r){return this.namespaceOps.namespaceExists(r)}async tableExists(r){return this.tableOps.tableExists(r)}async createNamespaceIfNotExists(r,e){return this.namespaceOps.createNamespaceIfNotExists(r,e)}async createTableIfNotExists(r,e){return this.tableOps.createTableIfNotExists(r,e)}},La=class extends Error{constructor(r){super(r),this.__isStorageError=!0,this.name="StorageError"}};function $e(r){return typeof r=="object"&&r!==null&&"__isStorageError"in r}var fk=class extends La{constructor(r,e,t){super(r),this.name="StorageApiError",this.status=e,this.statusCode=t}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},Bc=class extends La{constructor(r,e){super(r),this.name="StorageUnknownError",this.originalError=e}};const Sd=r=>r?(...e)=>r(...e):(...e)=>fetch(...e),pk=()=>Response,Hc=r=>{if(Array.isArray(r))return r.map(t=>Hc(t));if(typeof r=="function"||r!==Object(r))return r;const e={};return Object.entries(r).forEach(([t,i])=>{const o=t.replace(/([-_][a-z])/gi,l=>l.toUpperCase().replace(/[-_]/g,""));e[o]=Hc(i)}),e},gk=r=>{if(typeof r!="object"||r===null)return!1;const e=Object.getPrototypeOf(r);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in r)&&!(Symbol.iterator in r)},mk=r=>!r||typeof r!="string"||r.length===0||r.length>100||r.trim()!==r||r.includes("/")||r.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(r);function _s(r){"@babel/helpers - typeof";return _s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_s(r)}function yk(r,e){if(_s(r)!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var i=t.call(r,e||"default");if(_s(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function vk(r){var e=yk(r,"string");return _s(e)=="symbol"?e:e+""}function wk(r,e,t){return(e=vk(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function kg(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(r);e&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(r,o).enumerable})),t.push.apply(t,i)}return t}function ge(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?kg(Object(t),!0).forEach(function(i){wk(r,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):kg(Object(t)).forEach(function(i){Object.defineProperty(r,i,Object.getOwnPropertyDescriptor(t,i))})}return r}const Xu=r=>{var e;return r.msg||r.message||r.error_description||(typeof r.error=="string"?r.error:(e=r.error)===null||e===void 0?void 0:e.message)||JSON.stringify(r)},_k=async(r,e,t)=>{r instanceof await pk()&&!(t!=null&&t.noResolveJson)?r.json().then(i=>{const o=r.status||500,l=(i==null?void 0:i.statusCode)||o+"";e(new fk(Xu(i),o,l))}).catch(i=>{e(new Bc(Xu(i),i))}):e(new Bc(Xu(r),r))},Sk=(r,e,t,i)=>{const o={method:r,headers:(e==null?void 0:e.headers)||{}};return r==="GET"||!i?o:(gk(i)?(o.headers=ge({"Content-Type":"application/json"},e==null?void 0:e.headers),o.body=JSON.stringify(i)):o.body=i,e!=null&&e.duplex&&(o.duplex=e.duplex),ge(ge({},o),t))};async function Ps(r,e,t,i,o,l){return new Promise((u,d)=>{r(t,Sk(e,i,o,l)).then(h=>{if(!h.ok)throw h;return i!=null&&i.noResolveJson?h:h.json()}).then(h=>u(h)).catch(h=>_k(h,d,i))})}async function Ss(r,e,t,i){return Ps(r,"GET",e,t,i)}async function Wt(r,e,t,i,o){return Ps(r,"POST",e,i,o,t)}async function Wc(r,e,t,i,o){return Ps(r,"PUT",e,i,o,t)}async function bk(r,e,t,i){return Ps(r,"HEAD",e,ge(ge({},t),{},{noResolveJson:!0}),i)}async function bd(r,e,t,i,o){return Ps(r,"DELETE",e,i,o,t)}var Ek=class{constructor(r,e){this.downloadFn=r,this.shouldThrowOnError=e}then(r,e){return this.execute().then(r,e)}async execute(){var r=this;try{return{data:(await r.downloadFn()).body,error:null}}catch(e){if(r.shouldThrowOnError)throw e;if($e(e))return{data:null,error:e};throw e}}};let ky;ky=Symbol.toStringTag;var kk=class{constructor(r,e){this.downloadFn=r,this.shouldThrowOnError=e,this[ky]="BlobDownloadBuilder",this.promise=null}asStream(){return new Ek(this.downloadFn,this.shouldThrowOnError)}then(r,e){return this.getPromise().then(r,e)}catch(r){return this.getPromise().catch(r)}finally(r){return this.getPromise().finally(r)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var r=this;try{return{data:await(await r.downloadFn()).blob(),error:null}}catch(e){if(r.shouldThrowOnError)throw e;if($e(e))return{data:null,error:e};throw e}}};const xk={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},xg={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var Tk=class{constructor(r,e={},t,i){this.shouldThrowOnError=!1,this.url=r,this.headers=e,this.bucketId=t,this.fetch=Sd(i)}throwOnError(){return this.shouldThrowOnError=!0,this}async uploadOrUpdate(r,e,t,i){var o=this;try{let l;const u=ge(ge({},xg),i);let d=ge(ge({},o.headers),r==="POST"&&{"x-upsert":String(u.upsert)});const h=u.metadata;typeof Blob<"u"&&t instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),h&&l.append("metadata",o.encodeMetadata(h)),l.append("",t)):typeof FormData<"u"&&t instanceof FormData?(l=t,l.has("cacheControl")||l.append("cacheControl",u.cacheControl),h&&!l.has("metadata")&&l.append("metadata",o.encodeMetadata(h))):(l=t,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType,h&&(d["x-metadata"]=o.toBase64(o.encodeMetadata(h))),(typeof ReadableStream<"u"&&l instanceof ReadableStream||l&&typeof l=="object"&&"pipe"in l&&typeof l.pipe=="function")&&!u.duplex&&(u.duplex="half")),i!=null&&i.headers&&(d=ge(ge({},d),i.headers));const p=o._removeEmptyFolders(e),m=o._getFinalPath(p),v=await(r=="PUT"?Wc:Wt)(o.fetch,`${o.url}/object/${m}`,l,ge({headers:d},u!=null&&u.duplex?{duplex:u.duplex}:{}));return{data:{path:p,id:v.Id,fullPath:v.Key},error:null}}catch(l){if(o.shouldThrowOnError)throw l;if($e(l))return{data:null,error:l};throw l}}async upload(r,e,t){return this.uploadOrUpdate("POST",r,e,t)}async uploadToSignedUrl(r,e,t,i){var o=this;const l=o._removeEmptyFolders(r),u=o._getFinalPath(l),d=new URL(o.url+`/object/upload/sign/${u}`);d.searchParams.set("token",e);try{let h;const p=ge({upsert:xg.upsert},i),m=ge(ge({},o.headers),{"x-upsert":String(p.upsert)});return typeof Blob<"u"&&t instanceof Blob?(h=new FormData,h.append("cacheControl",p.cacheControl),h.append("",t)):typeof FormData<"u"&&t instanceof FormData?(h=t,h.append("cacheControl",p.cacheControl)):(h=t,m["cache-control"]=`max-age=${p.cacheControl}`,m["content-type"]=p.contentType),{data:{path:l,fullPath:(await Wc(o.fetch,d.toString(),h,{headers:m})).Key},error:null}}catch(h){if(o.shouldThrowOnError)throw h;if($e(h))return{data:null,error:h};throw h}}async createSignedUploadUrl(r,e){var t=this;try{let i=t._getFinalPath(r);const o=ge({},t.headers);e!=null&&e.upsert&&(o["x-upsert"]="true");const l=await Wt(t.fetch,`${t.url}/object/upload/sign/${i}`,{},{headers:o}),u=new URL(t.url+l.url),d=u.searchParams.get("token");if(!d)throw new La("No token returned by API");return{data:{signedUrl:u.toString(),path:r,token:d},error:null}}catch(i){if(t.shouldThrowOnError)throw i;if($e(i))return{data:null,error:i};throw i}}async update(r,e,t){return this.uploadOrUpdate("PUT",r,e,t)}async move(r,e,t){var i=this;try{return{data:await Wt(i.fetch,`${i.url}/object/move`,{bucketId:i.bucketId,sourceKey:r,destinationKey:e,destinationBucket:t==null?void 0:t.destinationBucket},{headers:i.headers}),error:null}}catch(o){if(i.shouldThrowOnError)throw o;if($e(o))return{data:null,error:o};throw o}}async copy(r,e,t){var i=this;try{return{data:{path:(await Wt(i.fetch,`${i.url}/object/copy`,{bucketId:i.bucketId,sourceKey:r,destinationKey:e,destinationBucket:t==null?void 0:t.destinationBucket},{headers:i.headers})).Key},error:null}}catch(o){if(i.shouldThrowOnError)throw o;if($e(o))return{data:null,error:o};throw o}}async createSignedUrl(r,e,t){var i=this;try{let o=i._getFinalPath(r),l=await Wt(i.fetch,`${i.url}/object/sign/${o}`,ge({expiresIn:e},t!=null&&t.transform?{transform:t.transform}:{}),{headers:i.headers});const u=t!=null&&t.download?`&download=${t.download===!0?"":t.download}`:"";return l={signedUrl:encodeURI(`${i.url}${l.signedURL}${u}`)},{data:l,error:null}}catch(o){if(i.shouldThrowOnError)throw o;if($e(o))return{data:null,error:o};throw o}}async createSignedUrls(r,e,t){var i=this;try{const o=await Wt(i.fetch,`${i.url}/object/sign/${i.bucketId}`,{expiresIn:e,paths:r},{headers:i.headers}),l=t!=null&&t.download?`&download=${t.download===!0?"":t.download}`:"";return{data:o.map(u=>ge(ge({},u),{},{signedUrl:u.signedURL?encodeURI(`${i.url}${u.signedURL}${l}`):null})),error:null}}catch(o){if(i.shouldThrowOnError)throw o;if($e(o))return{data:null,error:o};throw o}}download(r,e){const t=typeof(e==null?void 0:e.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((e==null?void 0:e.transform)||{}),o=i?`?${i}`:"",l=this._getFinalPath(r),u=()=>Ss(this.fetch,`${this.url}/${t}/${l}${o}`,{headers:this.headers,noResolveJson:!0});return new kk(u,this.shouldThrowOnError)}async info(r){var e=this;const t=e._getFinalPath(r);try{return{data:Hc(await Ss(e.fetch,`${e.url}/object/info/${t}`,{headers:e.headers})),error:null}}catch(i){if(e.shouldThrowOnError)throw i;if($e(i))return{data:null,error:i};throw i}}async exists(r){var e=this;const t=e._getFinalPath(r);try{return await bk(e.fetch,`${e.url}/object/${t}`,{headers:e.headers}),{data:!0,error:null}}catch(i){if(e.shouldThrowOnError)throw i;if($e(i)&&i instanceof Bc){const o=i.originalError;if([400,404].includes(o==null?void 0:o.status))return{data:!1,error:i}}throw i}}getPublicUrl(r,e){const t=this._getFinalPath(r),i=[],o=e!=null&&e.download?`download=${e.download===!0?"":e.download}`:"";o!==""&&i.push(o);const l=typeof(e==null?void 0:e.transform)<"u"?"render/image":"object",u=this.transformOptsToQueryString((e==null?void 0:e.transform)||{});u!==""&&i.push(u);let d=i.join("&");return d!==""&&(d=`?${d}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${t}${d}`)}}}async remove(r){var e=this;try{return{data:await bd(e.fetch,`${e.url}/object/${e.bucketId}`,{prefixes:r},{headers:e.headers}),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if($e(t))return{data:null,error:t};throw t}}async list(r,e,t){var i=this;try{const o=ge(ge(ge({},xk),e),{},{prefix:r||""});return{data:await Wt(i.fetch,`${i.url}/object/list/${i.bucketId}`,o,{headers:i.headers},t),error:null}}catch(o){if(i.shouldThrowOnError)throw o;if($e(o))return{data:null,error:o};throw o}}async listV2(r,e){var t=this;try{const i=ge({},r);return{data:await Wt(t.fetch,`${t.url}/object/list-v2/${t.bucketId}`,i,{headers:t.headers},e),error:null}}catch(i){if(t.shouldThrowOnError)throw i;if($e(i))return{data:null,error:i};throw i}}encodeMetadata(r){return JSON.stringify(r)}toBase64(r){return typeof Buffer<"u"?Buffer.from(r).toString("base64"):btoa(r)}_getFinalPath(r){return`${this.bucketId}/${r.replace(/^\/+/,"")}`}_removeEmptyFolders(r){return r.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(r){const e=[];return r.width&&e.push(`width=${r.width}`),r.height&&e.push(`height=${r.height}`),r.resize&&e.push(`resize=${r.resize}`),r.format&&e.push(`format=${r.format}`),r.quality&&e.push(`quality=${r.quality}`),e.join("&")}};const xy="2.89.0",Ty={"X-Client-Info":`storage-js/${xy}`};var Ok=class{constructor(r,e={},t,i){this.shouldThrowOnError=!1;const o=new URL(r);i!=null&&i.useNewHostname&&/supabase\.(co|in|red)$/.test(o.hostname)&&!o.hostname.includes("storage.supabase.")&&(o.hostname=o.hostname.replace("supabase.","storage.supabase.")),this.url=o.href.replace(/\/$/,""),this.headers=ge(ge({},Ty),e),this.fetch=Sd(t)}throwOnError(){return this.shouldThrowOnError=!0,this}async listBuckets(r){var e=this;try{const t=e.listBucketOptionsToQueryString(r);return{data:await Ss(e.fetch,`${e.url}/bucket${t}`,{headers:e.headers}),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if($e(t))return{data:null,error:t};throw t}}async getBucket(r){var e=this;try{return{data:await Ss(e.fetch,`${e.url}/bucket/${r}`,{headers:e.headers}),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if($e(t))return{data:null,error:t};throw t}}async createBucket(r,e={public:!1}){var t=this;try{return{data:await Wt(t.fetch,`${t.url}/bucket`,{id:r,name:r,type:e.type,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:t.headers}),error:null}}catch(i){if(t.shouldThrowOnError)throw i;if($e(i))return{data:null,error:i};throw i}}async updateBucket(r,e){var t=this;try{return{data:await Wc(t.fetch,`${t.url}/bucket/${r}`,{id:r,name:r,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:t.headers}),error:null}}catch(i){if(t.shouldThrowOnError)throw i;if($e(i))return{data:null,error:i};throw i}}async emptyBucket(r){var e=this;try{return{data:await Wt(e.fetch,`${e.url}/bucket/${r}/empty`,{},{headers:e.headers}),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if($e(t))return{data:null,error:t};throw t}}async deleteBucket(r){var e=this;try{return{data:await bd(e.fetch,`${e.url}/bucket/${r}`,{},{headers:e.headers}),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if($e(t))return{data:null,error:t};throw t}}listBucketOptionsToQueryString(r){const e={};return r&&("limit"in r&&(e.limit=String(r.limit)),"offset"in r&&(e.offset=String(r.offset)),r.search&&(e.search=r.search),r.sortColumn&&(e.sortColumn=r.sortColumn),r.sortOrder&&(e.sortOrder=r.sortOrder)),Object.keys(e).length>0?"?"+new URLSearchParams(e).toString():""}},Ck=class{constructor(r,e={},t){this.shouldThrowOnError=!1,this.url=r.replace(/\/$/,""),this.headers=ge(ge({},Ty),e),this.fetch=Sd(t)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(r){var e=this;try{return{data:await Wt(e.fetch,`${e.url}/bucket`,{name:r},{headers:e.headers}),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if($e(t))return{data:null,error:t};throw t}}async listBuckets(r){var e=this;try{const t=new URLSearchParams;(r==null?void 0:r.limit)!==void 0&&t.set("limit",r.limit.toString()),(r==null?void 0:r.offset)!==void 0&&t.set("offset",r.offset.toString()),r!=null&&r.sortColumn&&t.set("sortColumn",r.sortColumn),r!=null&&r.sortOrder&&t.set("sortOrder",r.sortOrder),r!=null&&r.search&&t.set("search",r.search);const i=t.toString(),o=i?`${e.url}/bucket?${i}`:`${e.url}/bucket`;return{data:await Ss(e.fetch,o,{headers:e.headers}),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if($e(t))return{data:null,error:t};throw t}}async deleteBucket(r){var e=this;try{return{data:await bd(e.fetch,`${e.url}/bucket/${r}`,{},{headers:e.headers}),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if($e(t))return{data:null,error:t};throw t}}from(r){var e=this;if(!mk(r))throw new La("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const t=new hk({baseUrl:this.url,catalogName:r,auth:{type:"custom",getHeaders:async()=>e.headers},fetch:this.fetch}),i=this.shouldThrowOnError;return new Proxy(t,{get(o,l){const u=o[l];return typeof u!="function"?u:async(...d)=>{try{return{data:await u.apply(o,d),error:null}}catch(h){if(i)throw h;return{data:null,error:h}}}}})}};const Ed={"X-Client-Info":`storage-js/${xy}`,"Content-Type":"application/json"};var Oy=class extends Error{constructor(r){super(r),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function kt(r){return typeof r=="object"&&r!==null&&"__isStorageVectorsError"in r}var Zu=class extends Oy{constructor(r,e,t){super(r),this.name="StorageVectorsApiError",this.status=e,this.statusCode=t}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},Pk=class extends Oy{constructor(r,e){super(r),this.name="StorageVectorsUnknownError",this.originalError=e}};const kd=r=>r?(...e)=>r(...e):(...e)=>fetch(...e),Rk=r=>{if(typeof r!="object"||r===null)return!1;const e=Object.getPrototypeOf(r);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in r)&&!(Symbol.iterator in r)},Tg=r=>r.msg||r.message||r.error_description||r.error||JSON.stringify(r),Dk=async(r,e,t)=>{if(r&&typeof r=="object"&&"status"in r&&"ok"in r&&typeof r.status=="number"&&!(t!=null&&t.noResolveJson)){const i=r.status||500,o=r;if(typeof o.json=="function")o.json().then(l=>{const u=(l==null?void 0:l.statusCode)||(l==null?void 0:l.code)||i+"";e(new Zu(Tg(l),i,u))}).catch(()=>{const l=i+"";e(new Zu(o.statusText||`HTTP ${i} error`,i,l))});else{const l=i+"";e(new Zu(o.statusText||`HTTP ${i} error`,i,l))}}else e(new Pk(Tg(r),r))},Ik=(r,e,t,i)=>{const o={method:r,headers:(e==null?void 0:e.headers)||{}};return i?(Rk(i)?(o.headers=ge({"Content-Type":"application/json"},e==null?void 0:e.headers),o.body=JSON.stringify(i)):o.body=i,ge(ge({},o),t)):o};async function Ak(r,e,t,i,o,l){return new Promise((u,d)=>{r(t,Ik(e,i,o,l)).then(h=>{if(!h.ok)throw h;if(i!=null&&i.noResolveJson)return h;const p=h.headers.get("content-type");return!p||!p.includes("application/json")?{}:h.json()}).then(h=>u(h)).catch(h=>Dk(h,d,i))})}async function xt(r,e,t,i,o){return Ak(r,"POST",e,i,o,t)}var Nk=class{constructor(r,e={},t){this.shouldThrowOnError=!1,this.url=r.replace(/\/$/,""),this.headers=ge(ge({},Ed),e),this.fetch=kd(t)}throwOnError(){return this.shouldThrowOnError=!0,this}async createIndex(r){var e=this;try{return{data:await xt(e.fetch,`${e.url}/CreateIndex`,r,{headers:e.headers})||{},error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(kt(t))return{data:null,error:t};throw t}}async getIndex(r,e){var t=this;try{return{data:await xt(t.fetch,`${t.url}/GetIndex`,{vectorBucketName:r,indexName:e},{headers:t.headers}),error:null}}catch(i){if(t.shouldThrowOnError)throw i;if(kt(i))return{data:null,error:i};throw i}}async listIndexes(r){var e=this;try{return{data:await xt(e.fetch,`${e.url}/ListIndexes`,r,{headers:e.headers}),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(kt(t))return{data:null,error:t};throw t}}async deleteIndex(r,e){var t=this;try{return{data:await xt(t.fetch,`${t.url}/DeleteIndex`,{vectorBucketName:r,indexName:e},{headers:t.headers})||{},error:null}}catch(i){if(t.shouldThrowOnError)throw i;if(kt(i))return{data:null,error:i};throw i}}},jk=class{constructor(r,e={},t){this.shouldThrowOnError=!1,this.url=r.replace(/\/$/,""),this.headers=ge(ge({},Ed),e),this.fetch=kd(t)}throwOnError(){return this.shouldThrowOnError=!0,this}async putVectors(r){var e=this;try{if(r.vectors.length<1||r.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:await xt(e.fetch,`${e.url}/PutVectors`,r,{headers:e.headers})||{},error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(kt(t))return{data:null,error:t};throw t}}async getVectors(r){var e=this;try{return{data:await xt(e.fetch,`${e.url}/GetVectors`,r,{headers:e.headers}),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(kt(t))return{data:null,error:t};throw t}}async listVectors(r){var e=this;try{if(r.segmentCount!==void 0){if(r.segmentCount<1||r.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(r.segmentIndex!==void 0&&(r.segmentIndex<0||r.segmentIndex>=r.segmentCount))throw new Error(`segmentIndex must be between 0 and ${r.segmentCount-1}`)}return{data:await xt(e.fetch,`${e.url}/ListVectors`,r,{headers:e.headers}),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(kt(t))return{data:null,error:t};throw t}}async queryVectors(r){var e=this;try{return{data:await xt(e.fetch,`${e.url}/QueryVectors`,r,{headers:e.headers}),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(kt(t))return{data:null,error:t};throw t}}async deleteVectors(r){var e=this;try{if(r.keys.length<1||r.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:await xt(e.fetch,`${e.url}/DeleteVectors`,r,{headers:e.headers})||{},error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(kt(t))return{data:null,error:t};throw t}}},Mk=class{constructor(r,e={},t){this.shouldThrowOnError=!1,this.url=r.replace(/\/$/,""),this.headers=ge(ge({},Ed),e),this.fetch=kd(t)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(r){var e=this;try{return{data:await xt(e.fetch,`${e.url}/CreateVectorBucket`,{vectorBucketName:r},{headers:e.headers})||{},error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(kt(t))return{data:null,error:t};throw t}}async getBucket(r){var e=this;try{return{data:await xt(e.fetch,`${e.url}/GetVectorBucket`,{vectorBucketName:r},{headers:e.headers}),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(kt(t))return{data:null,error:t};throw t}}async listBuckets(r={}){var e=this;try{return{data:await xt(e.fetch,`${e.url}/ListVectorBuckets`,r,{headers:e.headers}),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(kt(t))return{data:null,error:t};throw t}}async deleteBucket(r){var e=this;try{return{data:await xt(e.fetch,`${e.url}/DeleteVectorBucket`,{vectorBucketName:r},{headers:e.headers})||{},error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(kt(t))return{data:null,error:t};throw t}}},$k=class extends Mk{constructor(r,e={}){super(r,e.headers||{},e.fetch)}from(r){return new Lk(this.url,this.headers,r,this.fetch)}async createBucket(r){var e=()=>super.createBucket,t=this;return e().call(t,r)}async getBucket(r){var e=()=>super.getBucket,t=this;return e().call(t,r)}async listBuckets(r={}){var e=()=>super.listBuckets,t=this;return e().call(t,r)}async deleteBucket(r){var e=()=>super.deleteBucket,t=this;return e().call(t,r)}},Lk=class extends Nk{constructor(r,e,t,i){super(r,e,i),this.vectorBucketName=t}async createIndex(r){var e=()=>super.createIndex,t=this;return e().call(t,ge(ge({},r),{},{vectorBucketName:t.vectorBucketName}))}async listIndexes(r={}){var e=()=>super.listIndexes,t=this;return e().call(t,ge(ge({},r),{},{vectorBucketName:t.vectorBucketName}))}async getIndex(r){var e=()=>super.getIndex,t=this;return e().call(t,t.vectorBucketName,r)}async deleteIndex(r){var e=()=>super.deleteIndex,t=this;return e().call(t,t.vectorBucketName,r)}index(r){return new Uk(this.url,this.headers,this.vectorBucketName,r,this.fetch)}},Uk=class extends jk{constructor(r,e,t,i,o){super(r,e,o),this.vectorBucketName=t,this.indexName=i}async putVectors(r){var e=()=>super.putVectors,t=this;return e().call(t,ge(ge({},r),{},{vectorBucketName:t.vectorBucketName,indexName:t.indexName}))}async getVectors(r){var e=()=>super.getVectors,t=this;return e().call(t,ge(ge({},r),{},{vectorBucketName:t.vectorBucketName,indexName:t.indexName}))}async listVectors(r={}){var e=()=>super.listVectors,t=this;return e().call(t,ge(ge({},r),{},{vectorBucketName:t.vectorBucketName,indexName:t.indexName}))}async queryVectors(r){var e=()=>super.queryVectors,t=this;return e().call(t,ge(ge({},r),{},{vectorBucketName:t.vectorBucketName,indexName:t.indexName}))}async deleteVectors(r){var e=()=>super.deleteVectors,t=this;return e().call(t,ge(ge({},r),{},{vectorBucketName:t.vectorBucketName,indexName:t.indexName}))}},Fk=class extends Ok{constructor(r,e={},t,i){super(r,e,t,i)}from(r){return new Tk(this.url,this.headers,r,this.fetch)}get vectors(){return new $k(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new Ck(this.url+"/iceberg",this.headers,this.fetch)}};const Cy="2.89.0",li=30*1e3,qc=3,ec=qc*li,zk="http://localhost:9999",Bk="supabase.auth.token",Hk={"X-Client-Info":`gotrue-js/${Cy}`},Vc="X-Supabase-Api-Version",Py={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Wk=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,qk=10*60*1e3;class bs extends Error{constructor(e,t,i){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=t,this.code=i}}function ce(r){return typeof r=="object"&&r!==null&&"__isAuthError"in r}class Vk extends bs{constructor(e,t,i){super(e,t,i),this.name="AuthApiError",this.status=t,this.code=i}}function Kk(r){return ce(r)&&r.name==="AuthApiError"}class vn extends bs{constructor(e,t){super(e),this.name="AuthUnknownError",this.originalError=t}}class mr extends bs{constructor(e,t,i,o){super(e,i,o),this.name=t,this.status=i}}class St extends mr{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Gk(r){return ce(r)&&r.name==="AuthSessionMissingError"}class Zn extends mr{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class qo extends mr{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Vo extends mr{constructor(e,t=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Yk(r){return ce(r)&&r.name==="AuthImplicitGrantRedirectError"}class Og extends mr{constructor(e,t=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Jk extends mr{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class Kc extends mr{constructor(e,t){super(e,"AuthRetryableFetchError",t,void 0)}}function tc(r){return ce(r)&&r.name==="AuthRetryableFetchError"}class Cg extends mr{constructor(e,t,i){super(e,"AuthWeakPasswordError",t,"weak_password"),this.reasons=i}}class Gc extends mr{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const ya="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Pg=` 	
\r=`.split(""),Qk=(()=>{const r=new Array(128);for(let e=0;e<r.length;e+=1)r[e]=-1;for(let e=0;e<Pg.length;e+=1)r[Pg[e].charCodeAt(0)]=-2;for(let e=0;e<ya.length;e+=1)r[ya[e].charCodeAt(0)]=e;return r})();function Rg(r,e,t){if(r!==null)for(e.queue=e.queue<<8|r,e.queuedBits+=8;e.queuedBits>=6;){const i=e.queue>>e.queuedBits-6&63;t(ya[i]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const i=e.queue>>e.queuedBits-6&63;t(ya[i]),e.queuedBits-=6}}function Ry(r,e,t){const i=Qk[r];if(i>-1)for(e.queue=e.queue<<6|i,e.queuedBits+=6;e.queuedBits>=8;)t(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(i===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(r)}"`)}}function Dg(r){const e=[],t=u=>{e.push(String.fromCodePoint(u))},i={utf8seq:0,codepoint:0},o={queue:0,queuedBits:0},l=u=>{ex(u,i,t)};for(let u=0;u<r.length;u+=1)Ry(r.charCodeAt(u),o,l);return e.join("")}function Xk(r,e){if(r<=127){e(r);return}else if(r<=2047){e(192|r>>6),e(128|r&63);return}else if(r<=65535){e(224|r>>12),e(128|r>>6&63),e(128|r&63);return}else if(r<=1114111){e(240|r>>18),e(128|r>>12&63),e(128|r>>6&63),e(128|r&63);return}throw new Error(`Unrecognized Unicode codepoint: ${r.toString(16)}`)}function Zk(r,e){for(let t=0;t<r.length;t+=1){let i=r.charCodeAt(t);if(i>55295&&i<=56319){const o=(i-55296)*1024&65535;i=(r.charCodeAt(t+1)-56320&65535|o)+65536,t+=1}Xk(i,e)}}function ex(r,e,t){if(e.utf8seq===0){if(r<=127){t(r);return}for(let i=1;i<6;i+=1)if(!(r>>7-i&1)){e.utf8seq=i;break}if(e.utf8seq===2)e.codepoint=r&31;else if(e.utf8seq===3)e.codepoint=r&15;else if(e.utf8seq===4)e.codepoint=r&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(r<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|r&63,e.utf8seq-=1,e.utf8seq===0&&t(e.codepoint)}}function fi(r){const e=[],t={queue:0,queuedBits:0},i=o=>{e.push(o)};for(let o=0;o<r.length;o+=1)Ry(r.charCodeAt(o),t,i);return new Uint8Array(e)}function tx(r){const e=[];return Zk(r,t=>e.push(t)),new Uint8Array(e)}function wn(r){const e=[],t={queue:0,queuedBits:0},i=o=>{e.push(o)};return r.forEach(o=>Rg(o,t,i)),Rg(null,t,i),e.join("")}function rx(r){return Math.round(Date.now()/1e3)+r}function nx(){return Symbol("auth-callback")}const tt=()=>typeof window<"u"&&typeof document<"u",an={tested:!1,writable:!1},Dy=()=>{if(!tt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(an.tested)return an.writable;const r=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(r,r),globalThis.localStorage.removeItem(r),an.tested=!0,an.writable=!0}catch{an.tested=!0,an.writable=!1}return an.writable};function ix(r){const e={},t=new URL(r);if(t.hash&&t.hash[0]==="#")try{new URLSearchParams(t.hash.substring(1)).forEach((o,l)=>{e[l]=o})}catch{}return t.searchParams.forEach((i,o)=>{e[o]=i}),e}const Iy=r=>r?(...e)=>r(...e):(...e)=>fetch(...e),sx=r=>typeof r=="object"&&r!==null&&"status"in r&&"ok"in r&&"json"in r&&typeof r.json=="function",ui=async(r,e,t)=>{await r.setItem(e,JSON.stringify(t))},ln=async(r,e)=>{const t=await r.getItem(e);if(!t)return null;try{return JSON.parse(t)}catch{return t}},et=async(r,e)=>{await r.removeItem(e)};class Ua{constructor(){this.promise=new Ua.promiseConstructor((e,t)=>{this.resolve=e,this.reject=t})}}Ua.promiseConstructor=Promise;function rc(r){const e=r.split(".");if(e.length!==3)throw new Gc("Invalid JWT structure");for(let i=0;i<e.length;i++)if(!Wk.test(e[i]))throw new Gc("JWT not in base64url format");return{header:JSON.parse(Dg(e[0])),payload:JSON.parse(Dg(e[1])),signature:fi(e[2]),raw:{header:e[0],payload:e[1]}}}async function ox(r){return await new Promise(e=>{setTimeout(()=>e(null),r)})}function ax(r,e){return new Promise((i,o)=>{(async()=>{for(let l=0;l<1/0;l++)try{const u=await r(l);if(!e(l,null,u)){i(u);return}}catch(u){if(!e(l,u)){o(u);return}}})()})}function lx(r){return("0"+r.toString(16)).substr(-2)}function ux(){const e=new Uint32Array(56);if(typeof crypto>"u"){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",i=t.length;let o="";for(let l=0;l<56;l++)o+=t.charAt(Math.floor(Math.random()*i));return o}return crypto.getRandomValues(e),Array.from(e,lx).join("")}async function cx(r){const t=new TextEncoder().encode(r),i=await crypto.subtle.digest("SHA-256",t),o=new Uint8Array(i);return Array.from(o).map(l=>String.fromCharCode(l)).join("")}async function dx(r){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),r;const t=await cx(r);return btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function ei(r,e,t=!1){const i=ux();let o=i;t&&(o+="/PASSWORD_RECOVERY"),await ui(r,`${e}-code-verifier`,o);const l=await dx(i);return[l,i===l?"plain":"s256"]}const hx=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function fx(r){const e=r.headers.get(Vc);if(!e||!e.match(hx))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function px(r){if(!r)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(r<=e)throw new Error("JWT has expired")}function gx(r){switch(r){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const mx=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function ti(r){if(!mx.test(r))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function nc(){const r={};return new Proxy(r,{get:(e,t)=>{if(t==="__isUserNotAvailableProxy")return!0;if(typeof t=="symbol"){const i=t.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${t}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,t)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${t}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,t)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${t}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function yx(r,e){return new Proxy(r,{get:(t,i,o)=>{if(i==="__isInsecureUserWarningProxy")return!0;if(typeof i=="symbol"){const l=i.toString();if(l==="Symbol(Symbol.toPrimitive)"||l==="Symbol(Symbol.toStringTag)"||l==="Symbol(util.inspect.custom)"||l==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(t,i,o)}return!e.value&&typeof i=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(t,i,o)}})}function Ig(r){return JSON.parse(JSON.stringify(r))}const pn=r=>r.msg||r.message||r.error_description||r.error||JSON.stringify(r),vx=[502,503,504];async function Ag(r){var e;if(!sx(r))throw new Kc(pn(r),0);if(vx.includes(r.status))throw new Kc(pn(r),r.status);let t;try{t=await r.json()}catch(l){throw new vn(pn(l),l)}let i;const o=fx(r);if(o&&o.getTime()>=Py["2024-01-01"].timestamp&&typeof t=="object"&&t&&typeof t.code=="string"?i=t.code:typeof t=="object"&&t&&typeof t.error_code=="string"&&(i=t.error_code),i){if(i==="weak_password")throw new Cg(pn(t),r.status,((e=t.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(i==="session_not_found")throw new St}else if(typeof t=="object"&&t&&typeof t.weak_password=="object"&&t.weak_password&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.reasons.reduce((l,u)=>l&&typeof u=="string",!0))throw new Cg(pn(t),r.status,t.weak_password.reasons);throw new Vk(pn(t),r.status||500,i)}const wx=(r,e,t,i)=>{const o={method:r,headers:(e==null?void 0:e.headers)||{}};return r==="GET"?o:(o.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),o.body=JSON.stringify(i),Object.assign(Object.assign({},o),t))};async function pe(r,e,t,i){var o;const l=Object.assign({},i==null?void 0:i.headers);l[Vc]||(l[Vc]=Py["2024-01-01"].name),i!=null&&i.jwt&&(l.Authorization=`Bearer ${i.jwt}`);const u=(o=i==null?void 0:i.query)!==null&&o!==void 0?o:{};i!=null&&i.redirectTo&&(u.redirect_to=i.redirectTo);const d=Object.keys(u).length?"?"+new URLSearchParams(u).toString():"",h=await _x(r,e,t+d,{headers:l,noResolveJson:i==null?void 0:i.noResolveJson},{},i==null?void 0:i.body);return i!=null&&i.xform?i==null?void 0:i.xform(h):{data:Object.assign({},h),error:null}}async function _x(r,e,t,i,o,l){const u=wx(e,i,o,l);let d;try{d=await r(t,Object.assign({},u))}catch(h){throw console.error(h),new Kc(pn(h),0)}if(d.ok||await Ag(d),i!=null&&i.noResolveJson)return d;try{return await d.json()}catch(h){await Ag(h)}}function Ht(r){var e;let t=null;Ex(r)&&(t=Object.assign({},r),r.expires_at||(t.expires_at=rx(r.expires_in)));const i=(e=r.user)!==null&&e!==void 0?e:r;return{data:{session:t,user:i},error:null}}function Ng(r){const e=Ht(r);return!e.error&&r.weak_password&&typeof r.weak_password=="object"&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.message&&typeof r.weak_password.message=="string"&&r.weak_password.reasons.reduce((t,i)=>t&&typeof i=="string",!0)&&(e.data.weak_password=r.weak_password),e}function zr(r){var e;return{data:{user:(e=r.user)!==null&&e!==void 0?e:r},error:null}}function Sx(r){return{data:r,error:null}}function bx(r){const{action_link:e,email_otp:t,hashed_token:i,redirect_to:o,verification_type:l}=r,u=$a(r,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),d={action_link:e,email_otp:t,hashed_token:i,redirect_to:o,verification_type:l},h=Object.assign({},u);return{data:{properties:d,user:h},error:null}}function jg(r){return r}function Ex(r){return r.access_token&&r.refresh_token&&r.expires_in}const ic=["global","local","others"];class kx{constructor({url:e="",headers:t={},fetch:i}){this.url=e,this.headers=t,this.fetch=Iy(i),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,t=ic[0]){if(ic.indexOf(t)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${ic.join(", ")}`);try{return await pe(this.fetch,"POST",`${this.url}/logout?scope=${t}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(i){if(ce(i))return{data:null,error:i};throw i}}async inviteUserByEmail(e,t={}){try{return await pe(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:t.data},headers:this.headers,redirectTo:t.redirectTo,xform:zr})}catch(i){if(ce(i))return{data:{user:null},error:i};throw i}}async generateLink(e){try{const{options:t}=e,i=$a(e,["options"]),o=Object.assign(Object.assign({},i),t);return"newEmail"in i&&(o.new_email=i==null?void 0:i.newEmail,delete o.newEmail),await pe(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:o,headers:this.headers,xform:bx,redirectTo:t==null?void 0:t.redirectTo})}catch(t){if(ce(t))return{data:{properties:null,user:null},error:t};throw t}}async createUser(e){try{return await pe(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:zr})}catch(t){if(ce(t))return{data:{user:null},error:t};throw t}}async listUsers(e){var t,i,o,l,u,d,h;try{const p={nextPage:null,lastPage:0,total:0},m=await pe(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(i=(t=e==null?void 0:e.page)===null||t===void 0?void 0:t.toString())!==null&&i!==void 0?i:"",per_page:(l=(o=e==null?void 0:e.perPage)===null||o===void 0?void 0:o.toString())!==null&&l!==void 0?l:""},xform:jg});if(m.error)throw m.error;const v=await m.json(),b=(u=m.headers.get("x-total-count"))!==null&&u!==void 0?u:0,y=(h=(d=m.headers.get("link"))===null||d===void 0?void 0:d.split(","))!==null&&h!==void 0?h:[];return y.length>0&&(y.forEach(w=>{const S=parseInt(w.split(";")[0].split("=")[1].substring(0,1)),E=JSON.parse(w.split(";")[1].split("=")[1]);p[`${E}Page`]=S}),p.total=parseInt(b)),{data:Object.assign(Object.assign({},v),p),error:null}}catch(p){if(ce(p))return{data:{users:[]},error:p};throw p}}async getUserById(e){ti(e);try{return await pe(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:zr})}catch(t){if(ce(t))return{data:{user:null},error:t};throw t}}async updateUserById(e,t){ti(e);try{return await pe(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:t,headers:this.headers,xform:zr})}catch(i){if(ce(i))return{data:{user:null},error:i};throw i}}async deleteUser(e,t=!1){ti(e);try{return await pe(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:t},xform:zr})}catch(i){if(ce(i))return{data:{user:null},error:i};throw i}}async _listFactors(e){ti(e.userId);try{const{data:t,error:i}=await pe(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:o=>({data:{factors:o},error:null})});return{data:t,error:i}}catch(t){if(ce(t))return{data:null,error:t};throw t}}async _deleteFactor(e){ti(e.userId),ti(e.id);try{return{data:await pe(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(t){if(ce(t))return{data:null,error:t};throw t}}async _listOAuthClients(e){var t,i,o,l,u,d,h;try{const p={nextPage:null,lastPage:0,total:0},m=await pe(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(i=(t=e==null?void 0:e.page)===null||t===void 0?void 0:t.toString())!==null&&i!==void 0?i:"",per_page:(l=(o=e==null?void 0:e.perPage)===null||o===void 0?void 0:o.toString())!==null&&l!==void 0?l:""},xform:jg});if(m.error)throw m.error;const v=await m.json(),b=(u=m.headers.get("x-total-count"))!==null&&u!==void 0?u:0,y=(h=(d=m.headers.get("link"))===null||d===void 0?void 0:d.split(","))!==null&&h!==void 0?h:[];return y.length>0&&(y.forEach(w=>{const S=parseInt(w.split(";")[0].split("=")[1].substring(0,1)),E=JSON.parse(w.split(";")[1].split("=")[1]);p[`${E}Page`]=S}),p.total=parseInt(b)),{data:Object.assign(Object.assign({},v),p),error:null}}catch(p){if(ce(p))return{data:{clients:[]},error:p};throw p}}async _createOAuthClient(e){try{return await pe(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:t=>({data:t,error:null})})}catch(t){if(ce(t))return{data:null,error:t};throw t}}async _getOAuthClient(e){try{return await pe(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:t=>({data:t,error:null})})}catch(t){if(ce(t))return{data:null,error:t};throw t}}async _updateOAuthClient(e,t){try{return await pe(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:t,headers:this.headers,xform:i=>({data:i,error:null})})}catch(i){if(ce(i))return{data:null,error:i};throw i}}async _deleteOAuthClient(e){try{return await pe(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(t){if(ce(t))return{data:null,error:t};throw t}}async _regenerateOAuthClientSecret(e){try{return await pe(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:t=>({data:t,error:null})})}catch(t){if(ce(t))return{data:null,error:t};throw t}}}function Mg(r={}){return{getItem:e=>r[e]||null,setItem:(e,t)=>{r[e]=t},removeItem:e=>{delete r[e]}}}const ri={debug:!!(globalThis&&Dy()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Ay extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class xx extends Ay{}async function Tx(r,e,t){ri.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",r,e);const i=new globalThis.AbortController;return e>0&&setTimeout(()=>{i.abort(),ri.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",r)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(r,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:i.signal},async o=>{if(o){ri.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",r,o.name);try{return await t()}finally{ri.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",r,o.name)}}else{if(e===0)throw ri.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",r),new xx(`Acquiring an exclusive Navigator LockManager lock "${r}" immediately failed`);if(ri.debug)try{const l=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(l,null,"  "))}catch(l){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",l)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await t()}}))}function Ox(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function Ny(r){if(!/^0x[a-fA-F0-9]{40}$/.test(r))throw new Error(`@supabase/auth-js: Address "${r}" is invalid.`);return r.toLowerCase()}function Cx(r){return parseInt(r,16)}function Px(r){const e=new TextEncoder().encode(r);return"0x"+Array.from(e,i=>i.toString(16).padStart(2,"0")).join("")}function Rx(r){var e;const{chainId:t,domain:i,expirationTime:o,issuedAt:l=new Date,nonce:u,notBefore:d,requestId:h,resources:p,scheme:m,uri:v,version:b}=r;{if(!Number.isInteger(t))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${t}`);if(!i)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(u&&u.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${u}`);if(!v)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(b!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${b}`);if(!((e=r.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${r.statement}`)}const y=Ny(r.address),w=m?`${m}://${i}`:i,S=r.statement?`${r.statement}
`:"",E=`${w} wants you to sign in with your Ethereum account:
${y}

${S}`;let k=`URI: ${v}
Version: ${b}
Chain ID: ${t}${u?`
Nonce: ${u}`:""}
Issued At: ${l.toISOString()}`;if(o&&(k+=`
Expiration Time: ${o.toISOString()}`),d&&(k+=`
Not Before: ${d.toISOString()}`),h&&(k+=`
Request ID: ${h}`),p){let O=`
Resources:`;for(const N of p){if(!N||typeof N!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${N}`);O+=`
- ${N}`}k+=O}return`${E}
${k}`}class We extends Error{constructor({message:e,code:t,cause:i,name:o}){var l;super(e,{cause:i}),this.__isWebAuthnError=!0,this.name=(l=o??(i instanceof Error?i.name:void 0))!==null&&l!==void 0?l:"Unknown Error",this.code=t}}class va extends We{constructor(e,t){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t,message:e}),this.name="WebAuthnUnknownError",this.originalError=t}}function Dx({error:r,options:e}){var t,i,o;const{publicKey:l}=e;if(!l)throw Error("options was missing required publicKey property");if(r.name==="AbortError"){if(e.signal instanceof AbortSignal)return new We({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:r})}else if(r.name==="ConstraintError"){if(((t=l.authenticatorSelection)===null||t===void 0?void 0:t.requireResidentKey)===!0)return new We({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:r});if(e.mediation==="conditional"&&((i=l.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new We({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:r});if(((o=l.authenticatorSelection)===null||o===void 0?void 0:o.userVerification)==="required")return new We({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:r})}else{if(r.name==="InvalidStateError")return new We({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:r});if(r.name==="NotAllowedError")return new We({message:r.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r});if(r.name==="NotSupportedError")return l.pubKeyCredParams.filter(d=>d.type==="public-key").length===0?new We({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:r}):new We({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:r});if(r.name==="SecurityError"){const u=window.location.hostname;if(jy(u)){if(l.rp.id!==u)return new We({message:`The RP ID "${l.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:r})}else return new We({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:r})}else if(r.name==="TypeError"){if(l.user.id.byteLength<1||l.user.id.byteLength>64)return new We({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:r})}else if(r.name==="UnknownError")return new We({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:r})}return new We({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r})}function Ix({error:r,options:e}){const{publicKey:t}=e;if(!t)throw Error("options was missing required publicKey property");if(r.name==="AbortError"){if(e.signal instanceof AbortSignal)return new We({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:r})}else{if(r.name==="NotAllowedError")return new We({message:r.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r});if(r.name==="SecurityError"){const i=window.location.hostname;if(jy(i)){if(t.rpId!==i)return new We({message:`The RP ID "${t.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:r})}else return new We({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:r})}else if(r.name==="UnknownError")return new We({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:r})}return new We({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r})}class Ax{createNewAbortSignal(){if(this.controller){const t=new Error("Cancelling existing WebAuthn API call for new one");t.name="AbortError",this.controller.abort(t)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const Nx=new Ax;function jx(r){if(!r)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(r);const{challenge:e,user:t,excludeCredentials:i}=r,o=$a(r,["challenge","user","excludeCredentials"]),l=fi(e).buffer,u=Object.assign(Object.assign({},t),{id:fi(t.id).buffer}),d=Object.assign(Object.assign({},o),{challenge:l,user:u});if(i&&i.length>0){d.excludeCredentials=new Array(i.length);for(let h=0;h<i.length;h++){const p=i[h];d.excludeCredentials[h]=Object.assign(Object.assign({},p),{id:fi(p.id).buffer,type:p.type||"public-key",transports:p.transports})}}return d}function Mx(r){if(!r)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(r);const{challenge:e,allowCredentials:t}=r,i=$a(r,["challenge","allowCredentials"]),o=fi(e).buffer,l=Object.assign(Object.assign({},i),{challenge:o});if(t&&t.length>0){l.allowCredentials=new Array(t.length);for(let u=0;u<t.length;u++){const d=t[u];l.allowCredentials[u]=Object.assign(Object.assign({},d),{id:fi(d.id).buffer,type:d.type||"public-key",transports:d.transports})}}return l}function $x(r){var e;if("toJSON"in r&&typeof r.toJSON=="function")return r.toJSON();const t=r;return{id:r.id,rawId:r.id,response:{attestationObject:wn(new Uint8Array(r.response.attestationObject)),clientDataJSON:wn(new Uint8Array(r.response.clientDataJSON))},type:"public-key",clientExtensionResults:r.getClientExtensionResults(),authenticatorAttachment:(e=t.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function Lx(r){var e;if("toJSON"in r&&typeof r.toJSON=="function")return r.toJSON();const t=r,i=r.getClientExtensionResults(),o=r.response;return{id:r.id,rawId:r.id,response:{authenticatorData:wn(new Uint8Array(o.authenticatorData)),clientDataJSON:wn(new Uint8Array(o.clientDataJSON)),signature:wn(new Uint8Array(o.signature)),userHandle:o.userHandle?wn(new Uint8Array(o.userHandle)):void 0},type:"public-key",clientExtensionResults:i,authenticatorAttachment:(e=t.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function jy(r){return r==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(r)}function $g(){var r,e;return!!(tt()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((r=navigator==null?void 0:navigator.credentials)===null||r===void 0?void 0:r.create)=="function"&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.get)=="function")}async function Ux(r){try{const e=await navigator.credentials.create(r);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new va("Browser returned unexpected credential type",e)}:{data:null,error:new va("Empty credential response",e)}}catch(e){return{data:null,error:Dx({error:e,options:r})}}}async function Fx(r){try{const e=await navigator.credentials.get(r);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new va("Browser returned unexpected credential type",e)}:{data:null,error:new va("Empty credential response",e)}}catch(e){return{data:null,error:Ix({error:e,options:r})}}}const zx={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},Bx={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function wa(...r){const e=o=>o!==null&&typeof o=="object"&&!Array.isArray(o),t=o=>o instanceof ArrayBuffer||ArrayBuffer.isView(o),i={};for(const o of r)if(o)for(const l in o){const u=o[l];if(u!==void 0)if(Array.isArray(u))i[l]=u;else if(t(u))i[l]=u;else if(e(u)){const d=i[l];e(d)?i[l]=wa(d,u):i[l]=wa(u)}else i[l]=u}return i}function Hx(r,e){return wa(zx,r,e||{})}function Wx(r,e){return wa(Bx,r,e||{})}class qx{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:t,friendlyName:i,signal:o},l){try{const{data:u,error:d}=await this.client.mfa.challenge({factorId:e,webauthn:t});if(!u)return{data:null,error:d};const h=o??Nx.createNewAbortSignal();if(u.webauthn.type==="create"){const{user:p}=u.webauthn.credential_options.publicKey;p.name||(p.name=`${p.id}:${i}`),p.displayName||(p.displayName=p.name)}switch(u.webauthn.type){case"create":{const p=Hx(u.webauthn.credential_options.publicKey,l==null?void 0:l.create),{data:m,error:v}=await Ux({publicKey:p,signal:h});return m?{data:{factorId:e,challengeId:u.id,webauthn:{type:u.webauthn.type,credential_response:m}},error:null}:{data:null,error:v}}case"request":{const p=Wx(u.webauthn.credential_options.publicKey,l==null?void 0:l.request),{data:m,error:v}=await Fx(Object.assign(Object.assign({},u.webauthn.credential_options),{publicKey:p,signal:h}));return m?{data:{factorId:e,challengeId:u.id,webauthn:{type:u.webauthn.type,credential_response:m}},error:null}:{data:null,error:v}}}}catch(u){return ce(u)?{data:null,error:u}:{data:null,error:new vn("Unexpected error in challenge",u)}}}async _verify({challengeId:e,factorId:t,webauthn:i}){return this.client.mfa.verify({factorId:t,challengeId:e,webauthn:i})}async _authenticate({factorId:e,webauthn:{rpId:t=typeof window<"u"?window.location.hostname:void 0,rpOrigins:i=typeof window<"u"?[window.location.origin]:void 0,signal:o}={}},l){if(!t)return{data:null,error:new bs("rpId is required for WebAuthn authentication")};try{if(!$g())return{data:null,error:new vn("Browser does not support WebAuthn",null)};const{data:u,error:d}=await this.challenge({factorId:e,webauthn:{rpId:t,rpOrigins:i},signal:o},{request:l});if(!u)return{data:null,error:d};const{webauthn:h}=u;return this._verify({factorId:e,challengeId:u.challengeId,webauthn:{type:h.type,rpId:t,rpOrigins:i,credential_response:h.credential_response}})}catch(u){return ce(u)?{data:null,error:u}:{data:null,error:new vn("Unexpected error in authenticate",u)}}}async _register({friendlyName:e,webauthn:{rpId:t=typeof window<"u"?window.location.hostname:void 0,rpOrigins:i=typeof window<"u"?[window.location.origin]:void 0,signal:o}={}},l){if(!t)return{data:null,error:new bs("rpId is required for WebAuthn registration")};try{if(!$g())return{data:null,error:new vn("Browser does not support WebAuthn",null)};const{data:u,error:d}=await this._enroll({friendlyName:e});if(!u)return await this.client.mfa.listFactors().then(m=>{var v;return(v=m.data)===null||v===void 0?void 0:v.all.find(b=>b.factor_type==="webauthn"&&b.friendly_name===e&&b.status!=="unverified")}).then(m=>m?this.client.mfa.unenroll({factorId:m==null?void 0:m.id}):void 0),{data:null,error:d};const{data:h,error:p}=await this._challenge({factorId:u.id,friendlyName:u.friendly_name,webauthn:{rpId:t,rpOrigins:i},signal:o},{create:l});return h?this._verify({factorId:u.id,challengeId:h.challengeId,webauthn:{rpId:t,rpOrigins:i,type:h.webauthn.type,credential_response:h.webauthn.credential_response}}):{data:null,error:p}}catch(u){return ce(u)?{data:null,error:u}:{data:null,error:new vn("Unexpected error in register",u)}}}}Ox();const Vx={url:zk,storageKey:Bk,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Hk,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function Lg(r,e,t){return await t()}const ni={};class Es{get jwks(){var e,t;return(t=(e=ni[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&t!==void 0?t:{keys:[]}}set jwks(e){ni[this.storageKey]=Object.assign(Object.assign({},ni[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,t;return(t=(e=ni[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&t!==void 0?t:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){ni[this.storageKey]=Object.assign(Object.assign({},ni[this.storageKey]),{cachedAt:e})}constructor(e){var t,i,o;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const l=Object.assign(Object.assign({},Vx),e);if(this.storageKey=l.storageKey,this.instanceID=(t=Es.nextInstanceID[this.storageKey])!==null&&t!==void 0?t:0,Es.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!l.debug,typeof l.debug=="function"&&(this.logger=l.debug),this.instanceID>0&&tt()){const u=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(u),this.logDebugMessages&&console.trace(u)}if(this.persistSession=l.persistSession,this.autoRefreshToken=l.autoRefreshToken,this.admin=new kx({url:l.url,headers:l.headers,fetch:l.fetch}),this.url=l.url,this.headers=l.headers,this.fetch=Iy(l.fetch),this.lock=l.lock||Lg,this.detectSessionInUrl=l.detectSessionInUrl,this.flowType=l.flowType,this.hasCustomAuthorizationHeader=l.hasCustomAuthorizationHeader,this.throwOnError=l.throwOnError,l.lock?this.lock=l.lock:this.persistSession&&tt()&&(!((i=globalThis==null?void 0:globalThis.navigator)===null||i===void 0)&&i.locks)?this.lock=Tx:this.lock=Lg,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new qx(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(l.storage?this.storage=l.storage:Dy()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Mg(this.memoryStorage)),l.userStorage&&(this.userStorage=l.userStorage)):(this.memoryStorage={},this.storage=Mg(this.memoryStorage)),tt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(u){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",u)}(o=this.broadcastChannel)===null||o===void 0||o.addEventListener("message",async u=>{this._debug("received broadcast notification from other tab or client",u),await this._notifyAllSubscribers(u.data.event,u.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${Cy}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let t={},i="none";if(tt()&&(t=ix(window.location.href),this._isImplicitGrantCallback(t)?i="implicit":await this._isPKCECallback(t)&&(i="pkce")),tt()&&this.detectSessionInUrl&&i!=="none"){const{data:o,error:l}=await this._getSessionFromURL(t,i);if(l){if(this._debug("#_initialize()","error detecting session from URL",l),Yk(l)){const h=(e=l.details)===null||e===void 0?void 0:e.code;if(h==="identity_already_exists"||h==="identity_not_found"||h==="single_identity_not_deletable")return{error:l}}return await this._removeSession(),{error:l}}const{session:u,redirectType:d}=o;return this._debug("#_initialize()","detected session in URL",u,"redirect type",d),await this._saveSession(u),setTimeout(async()=>{d==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",u):await this._notifyAllSubscribers("SIGNED_IN",u)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(t){return ce(t)?this._returnResult({error:t}):this._returnResult({error:new vn("Unexpected error during initialization",t)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var t,i,o;try{const l=await pe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(i=(t=e==null?void 0:e.options)===null||t===void 0?void 0:t.data)!==null&&i!==void 0?i:{},gotrue_meta_security:{captcha_token:(o=e==null?void 0:e.options)===null||o===void 0?void 0:o.captchaToken}},xform:Ht}),{data:u,error:d}=l;if(d||!u)return this._returnResult({data:{user:null,session:null},error:d});const h=u.session,p=u.user;return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",h)),this._returnResult({data:{user:p,session:h},error:null})}catch(l){if(ce(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async signUp(e){var t,i,o;try{let l;if("email"in e){const{email:m,password:v,options:b}=e;let y=null,w=null;this.flowType==="pkce"&&([y,w]=await ei(this.storage,this.storageKey)),l=await pe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:b==null?void 0:b.emailRedirectTo,body:{email:m,password:v,data:(t=b==null?void 0:b.data)!==null&&t!==void 0?t:{},gotrue_meta_security:{captcha_token:b==null?void 0:b.captchaToken},code_challenge:y,code_challenge_method:w},xform:Ht})}else if("phone"in e){const{phone:m,password:v,options:b}=e;l=await pe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:m,password:v,data:(i=b==null?void 0:b.data)!==null&&i!==void 0?i:{},channel:(o=b==null?void 0:b.channel)!==null&&o!==void 0?o:"sms",gotrue_meta_security:{captcha_token:b==null?void 0:b.captchaToken}},xform:Ht})}else throw new qo("You must provide either an email or phone number and a password");const{data:u,error:d}=l;if(d||!u)return await et(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:d});const h=u.session,p=u.user;return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",h)),this._returnResult({data:{user:p,session:h},error:null})}catch(l){if(await et(this.storage,`${this.storageKey}-code-verifier`),ce(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async signInWithPassword(e){try{let t;if("email"in e){const{email:l,password:u,options:d}=e;t=await pe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:l,password:u,gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken}},xform:Ng})}else if("phone"in e){const{phone:l,password:u,options:d}=e;t=await pe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:l,password:u,gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken}},xform:Ng})}else throw new qo("You must provide either an email or phone number and a password");const{data:i,error:o}=t;if(o)return this._returnResult({data:{user:null,session:null},error:o});if(!i||!i.session||!i.user){const l=new Zn;return this._returnResult({data:{user:null,session:null},error:l})}return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),this._returnResult({data:Object.assign({user:i.user,session:i.session},i.weak_password?{weakPassword:i.weak_password}:null),error:o})}catch(t){if(ce(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async signInWithOAuth(e){var t,i,o,l;return await this._handleProviderSignIn(e.provider,{redirectTo:(t=e.options)===null||t===void 0?void 0:t.redirectTo,scopes:(i=e.options)===null||i===void 0?void 0:i.scopes,queryParams:(o=e.options)===null||o===void 0?void 0:o.queryParams,skipBrowserRedirect:(l=e.options)===null||l===void 0?void 0:l.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:t}=e;switch(t){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${t}"`)}}async signInWithEthereum(e){var t,i,o,l,u,d,h,p,m,v,b;let y,w;if("message"in e)y=e.message,w=e.signature;else{const{chain:S,wallet:E,statement:k,options:O}=e;let N;if(tt())if(typeof E=="object")N=E;else{const Z=window;if("ethereum"in Z&&typeof Z.ethereum=="object"&&"request"in Z.ethereum&&typeof Z.ethereum.request=="function")N=Z.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof E!="object"||!(O!=null&&O.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");N=E}const z=new URL((t=O==null?void 0:O.url)!==null&&t!==void 0?t:window.location.href),F=await N.request({method:"eth_requestAccounts"}).then(Z=>Z).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!F||F.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const U=Ny(F[0]);let j=(i=O==null?void 0:O.signInWithEthereum)===null||i===void 0?void 0:i.chainId;if(!j){const Z=await N.request({method:"eth_chainId"});j=Cx(Z)}const V={domain:z.host,address:U,statement:k,uri:z.href,version:"1",chainId:j,nonce:(o=O==null?void 0:O.signInWithEthereum)===null||o===void 0?void 0:o.nonce,issuedAt:(u=(l=O==null?void 0:O.signInWithEthereum)===null||l===void 0?void 0:l.issuedAt)!==null&&u!==void 0?u:new Date,expirationTime:(d=O==null?void 0:O.signInWithEthereum)===null||d===void 0?void 0:d.expirationTime,notBefore:(h=O==null?void 0:O.signInWithEthereum)===null||h===void 0?void 0:h.notBefore,requestId:(p=O==null?void 0:O.signInWithEthereum)===null||p===void 0?void 0:p.requestId,resources:(m=O==null?void 0:O.signInWithEthereum)===null||m===void 0?void 0:m.resources};y=Rx(V),w=await N.request({method:"personal_sign",params:[Px(y),U]})}try{const{data:S,error:E}=await pe(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:y,signature:w},!((v=e.options)===null||v===void 0)&&v.captchaToken?{gotrue_meta_security:{captcha_token:(b=e.options)===null||b===void 0?void 0:b.captchaToken}}:null),xform:Ht});if(E)throw E;if(!S||!S.session||!S.user){const k=new Zn;return this._returnResult({data:{user:null,session:null},error:k})}return S.session&&(await this._saveSession(S.session),await this._notifyAllSubscribers("SIGNED_IN",S.session)),this._returnResult({data:Object.assign({},S),error:E})}catch(S){if(ce(S))return this._returnResult({data:{user:null,session:null},error:S});throw S}}async signInWithSolana(e){var t,i,o,l,u,d,h,p,m,v,b,y;let w,S;if("message"in e)w=e.message,S=e.signature;else{const{chain:E,wallet:k,statement:O,options:N}=e;let z;if(tt())if(typeof k=="object")z=k;else{const U=window;if("solana"in U&&typeof U.solana=="object"&&("signIn"in U.solana&&typeof U.solana.signIn=="function"||"signMessage"in U.solana&&typeof U.solana.signMessage=="function"))z=U.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof k!="object"||!(N!=null&&N.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");z=k}const F=new URL((t=N==null?void 0:N.url)!==null&&t!==void 0?t:window.location.href);if("signIn"in z&&z.signIn){const U=await z.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},N==null?void 0:N.signInWithSolana),{version:"1",domain:F.host,uri:F.href}),O?{statement:O}:null));let j;if(Array.isArray(U)&&U[0]&&typeof U[0]=="object")j=U[0];else if(U&&typeof U=="object"&&"signedMessage"in U&&"signature"in U)j=U;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in j&&"signature"in j&&(typeof j.signedMessage=="string"||j.signedMessage instanceof Uint8Array)&&j.signature instanceof Uint8Array)w=typeof j.signedMessage=="string"?j.signedMessage:new TextDecoder().decode(j.signedMessage),S=j.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in z)||typeof z.signMessage!="function"||!("publicKey"in z)||typeof z!="object"||!z.publicKey||!("toBase58"in z.publicKey)||typeof z.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");w=[`${F.host} wants you to sign in with your Solana account:`,z.publicKey.toBase58(),...O?["",O,""]:[""],"Version: 1",`URI: ${F.href}`,`Issued At: ${(o=(i=N==null?void 0:N.signInWithSolana)===null||i===void 0?void 0:i.issuedAt)!==null&&o!==void 0?o:new Date().toISOString()}`,...!((l=N==null?void 0:N.signInWithSolana)===null||l===void 0)&&l.notBefore?[`Not Before: ${N.signInWithSolana.notBefore}`]:[],...!((u=N==null?void 0:N.signInWithSolana)===null||u===void 0)&&u.expirationTime?[`Expiration Time: ${N.signInWithSolana.expirationTime}`]:[],...!((d=N==null?void 0:N.signInWithSolana)===null||d===void 0)&&d.chainId?[`Chain ID: ${N.signInWithSolana.chainId}`]:[],...!((h=N==null?void 0:N.signInWithSolana)===null||h===void 0)&&h.nonce?[`Nonce: ${N.signInWithSolana.nonce}`]:[],...!((p=N==null?void 0:N.signInWithSolana)===null||p===void 0)&&p.requestId?[`Request ID: ${N.signInWithSolana.requestId}`]:[],...!((v=(m=N==null?void 0:N.signInWithSolana)===null||m===void 0?void 0:m.resources)===null||v===void 0)&&v.length?["Resources",...N.signInWithSolana.resources.map(j=>`- ${j}`)]:[]].join(`
`);const U=await z.signMessage(new TextEncoder().encode(w),"utf8");if(!U||!(U instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");S=U}}try{const{data:E,error:k}=await pe(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:w,signature:wn(S)},!((b=e.options)===null||b===void 0)&&b.captchaToken?{gotrue_meta_security:{captcha_token:(y=e.options)===null||y===void 0?void 0:y.captchaToken}}:null),xform:Ht});if(k)throw k;if(!E||!E.session||!E.user){const O=new Zn;return this._returnResult({data:{user:null,session:null},error:O})}return E.session&&(await this._saveSession(E.session),await this._notifyAllSubscribers("SIGNED_IN",E.session)),this._returnResult({data:Object.assign({},E),error:k})}catch(E){if(ce(E))return this._returnResult({data:{user:null,session:null},error:E});throw E}}async _exchangeCodeForSession(e){const t=await ln(this.storage,`${this.storageKey}-code-verifier`),[i,o]=(t??"").split("/");try{if(!i&&this.flowType==="pkce")throw new Jk;const{data:l,error:u}=await pe(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:i},xform:Ht});if(await et(this.storage,`${this.storageKey}-code-verifier`),u)throw u;if(!l||!l.session||!l.user){const d=new Zn;return this._returnResult({data:{user:null,session:null,redirectType:null},error:d})}return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),this._returnResult({data:Object.assign(Object.assign({},l),{redirectType:o??null}),error:u})}catch(l){if(await et(this.storage,`${this.storageKey}-code-verifier`),ce(l))return this._returnResult({data:{user:null,session:null,redirectType:null},error:l});throw l}}async signInWithIdToken(e){try{const{options:t,provider:i,token:o,access_token:l,nonce:u}=e,d=await pe(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:i,id_token:o,access_token:l,nonce:u,gotrue_meta_security:{captcha_token:t==null?void 0:t.captchaToken}},xform:Ht}),{data:h,error:p}=d;if(p)return this._returnResult({data:{user:null,session:null},error:p});if(!h||!h.session||!h.user){const m=new Zn;return this._returnResult({data:{user:null,session:null},error:m})}return h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("SIGNED_IN",h.session)),this._returnResult({data:h,error:p})}catch(t){if(ce(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async signInWithOtp(e){var t,i,o,l,u;try{if("email"in e){const{email:d,options:h}=e;let p=null,m=null;this.flowType==="pkce"&&([p,m]=await ei(this.storage,this.storageKey));const{error:v}=await pe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:d,data:(t=h==null?void 0:h.data)!==null&&t!==void 0?t:{},create_user:(i=h==null?void 0:h.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:p,code_challenge_method:m},redirectTo:h==null?void 0:h.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:v})}if("phone"in e){const{phone:d,options:h}=e,{data:p,error:m}=await pe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:d,data:(o=h==null?void 0:h.data)!==null&&o!==void 0?o:{},create_user:(l=h==null?void 0:h.shouldCreateUser)!==null&&l!==void 0?l:!0,gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},channel:(u=h==null?void 0:h.channel)!==null&&u!==void 0?u:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:p==null?void 0:p.message_id},error:m})}throw new qo("You must provide either an email or phone number.")}catch(d){if(await et(this.storage,`${this.storageKey}-code-verifier`),ce(d))return this._returnResult({data:{user:null,session:null},error:d});throw d}}async verifyOtp(e){var t,i;try{let o,l;"options"in e&&(o=(t=e.options)===null||t===void 0?void 0:t.redirectTo,l=(i=e.options)===null||i===void 0?void 0:i.captchaToken);const{data:u,error:d}=await pe(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:l}}),redirectTo:o,xform:Ht});if(d)throw d;if(!u)throw new Error("An error occurred on token verification.");const h=u.session,p=u.user;return h!=null&&h.access_token&&(await this._saveSession(h),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",h)),this._returnResult({data:{user:p,session:h},error:null})}catch(o){if(ce(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signInWithSSO(e){var t,i,o,l,u;try{let d=null,h=null;this.flowType==="pkce"&&([d,h]=await ei(this.storage,this.storageKey));const p=await pe(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(i=(t=e.options)===null||t===void 0?void 0:t.redirectTo)!==null&&i!==void 0?i:void 0}),!((o=e==null?void 0:e.options)===null||o===void 0)&&o.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:d,code_challenge_method:h}),headers:this.headers,xform:Sx});return!((l=p.data)===null||l===void 0)&&l.url&&tt()&&!(!((u=e.options)===null||u===void 0)&&u.skipBrowserRedirect)&&window.location.assign(p.data.url),this._returnResult(p)}catch(d){if(await et(this.storage,`${this.storageKey}-code-verifier`),ce(d))return this._returnResult({data:null,error:d});throw d}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:t},error:i}=e;if(i)throw i;if(!t)throw new St;const{error:o}=await pe(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:t.access_token});return this._returnResult({data:{user:null,session:null},error:o})})}catch(e){if(ce(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const t=`${this.url}/resend`;if("email"in e){const{email:i,type:o,options:l}=e,{error:u}=await pe(this.fetch,"POST",t,{headers:this.headers,body:{email:i,type:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},redirectTo:l==null?void 0:l.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:u})}else if("phone"in e){const{phone:i,type:o,options:l}=e,{data:u,error:d}=await pe(this.fetch,"POST",t,{headers:this.headers,body:{phone:i,type:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d})}throw new qo("You must provide either an email or phone number and a type")}catch(t){if(ce(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async t=>t))}async _acquireLock(e,t){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const i=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),o=(async()=>(await i,await t()))();return this.pendingInLock.push((async()=>{try{await o}catch{}})()),o}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const i=t();for(this.pendingInLock.push((async()=>{try{await i}catch{}})()),await i;this.pendingInLock.length;){const o=[...this.pendingInLock];await Promise.all(o),this.pendingInLock.splice(0,o.length)}return await i}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const t=await this.__loadSession();return await e(t)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const t=await ln(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",t),t!==null&&(this._isValidSession(t)?e=t:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const i=e.expires_at?e.expires_at*1e3-Date.now()<ec:!1;if(this._debug("#__loadSession()",`session has${i?"":" not"} expired`,"expires_at",e.expires_at),!i){if(this.userStorage){const u=await ln(this.userStorage,this.storageKey+"-user");u!=null&&u.user?e.user=u.user:e.user=nc()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const u={value:this.suppressGetSessionWarning};e.user=yx(e.user,u),u.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:o,error:l}=await this._callRefreshToken(e.refresh_token);return l?this._returnResult({data:{session:null},error:l}):this._returnResult({data:{session:o},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){if(e)return await this._getUser(e);await this.initializePromise;const t=await this._acquireLock(-1,async()=>await this._getUser());return t.data.user&&(this.suppressGetSessionWarning=!0),t}async _getUser(e){try{return e?await pe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:zr}):await this._useSession(async t=>{var i,o,l;const{data:u,error:d}=t;if(d)throw d;return!(!((i=u.session)===null||i===void 0)&&i.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new St}:await pe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(l=(o=u.session)===null||o===void 0?void 0:o.access_token)!==null&&l!==void 0?l:void 0,xform:zr})})}catch(t){if(ce(t))return Gk(t)&&(await this._removeSession(),await et(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:t});throw t}}async updateUser(e,t={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,t))}async _updateUser(e,t={}){try{return await this._useSession(async i=>{const{data:o,error:l}=i;if(l)throw l;if(!o.session)throw new St;const u=o.session;let d=null,h=null;this.flowType==="pkce"&&e.email!=null&&([d,h]=await ei(this.storage,this.storageKey));const{data:p,error:m}=await pe(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:t==null?void 0:t.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:d,code_challenge_method:h}),jwt:u.access_token,xform:zr});if(m)throw m;return u.user=p.user,await this._saveSession(u),await this._notifyAllSubscribers("USER_UPDATED",u),this._returnResult({data:{user:u.user},error:null})})}catch(i){if(await et(this.storage,`${this.storageKey}-code-verifier`),ce(i))return this._returnResult({data:{user:null},error:i});throw i}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new St;const t=Date.now()/1e3;let i=t,o=!0,l=null;const{payload:u}=rc(e.access_token);if(u.exp&&(i=u.exp,o=i<=t),o){const{data:d,error:h}=await this._callRefreshToken(e.refresh_token);if(h)return this._returnResult({data:{user:null,session:null},error:h});if(!d)return{data:{user:null,session:null},error:null};l=d}else{const{data:d,error:h}=await this._getUser(e.access_token);if(h)throw h;l={access_token:e.access_token,refresh_token:e.refresh_token,user:d.user,token_type:"bearer",expires_in:i-t,expires_at:i},await this._saveSession(l),await this._notifyAllSubscribers("SIGNED_IN",l)}return this._returnResult({data:{user:l.user,session:l},error:null})}catch(t){if(ce(t))return this._returnResult({data:{session:null,user:null},error:t});throw t}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async t=>{var i;if(!e){const{data:u,error:d}=t;if(d)throw d;e=(i=u.session)!==null&&i!==void 0?i:void 0}if(!(e!=null&&e.refresh_token))throw new St;const{data:o,error:l}=await this._callRefreshToken(e.refresh_token);return l?this._returnResult({data:{user:null,session:null},error:l}):o?this._returnResult({data:{user:o.user,session:o},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(t){if(ce(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async _getSessionFromURL(e,t){try{if(!tt())throw new Vo("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Vo(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(t){case"implicit":if(this.flowType==="pkce")throw new Og("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Vo("Not a valid implicit grant flow url.");break;default:}if(t==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new Og("No code detected.");const{data:O,error:N}=await this._exchangeCodeForSession(e.code);if(N)throw N;const z=new URL(window.location.href);return z.searchParams.delete("code"),window.history.replaceState(window.history.state,"",z.toString()),{data:{session:O.session,redirectType:null},error:null}}const{provider_token:i,provider_refresh_token:o,access_token:l,refresh_token:u,expires_in:d,expires_at:h,token_type:p}=e;if(!l||!d||!u||!p)throw new Vo("No session defined in URL");const m=Math.round(Date.now()/1e3),v=parseInt(d);let b=m+v;h&&(b=parseInt(h));const y=b-m;y*1e3<=li&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${y}s, should have been closer to ${v}s`);const w=b-v;m-w>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",w,b,m):m-w<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",w,b,m);const{data:S,error:E}=await this._getUser(l);if(E)throw E;const k={provider_token:i,provider_refresh_token:o,access_token:l,expires_in:v,expires_at:b,refresh_token:u,token_type:p,user:S.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:k,redirectType:e.type},error:null})}catch(i){if(ce(i))return this._returnResult({data:{session:null,redirectType:null},error:i});throw i}}_isImplicitGrantCallback(e){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),e):!!(e.access_token||e.error_description)}async _isPKCECallback(e){const t=await ln(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&t)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async t=>{var i;const{data:o,error:l}=t;if(l)return this._returnResult({error:l});const u=(i=o.session)===null||i===void 0?void 0:i.access_token;if(u){const{error:d}=await this.admin.signOut(u,e);if(d&&!(Kk(d)&&(d.status===404||d.status===401||d.status===403)))return this._returnResult({error:d})}return e!=="others"&&(await this._removeSession(),await et(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const t=nx(),i={id:t,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",t),this.stateChangeEmitters.delete(t)}};return this._debug("#onAuthStateChange()","registered callback with id",t),this.stateChangeEmitters.set(t,i),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(t)})))(),{data:{subscription:i}}}async _emitInitialSession(e){return await this._useSession(async t=>{var i,o;try{const{data:{session:l},error:u}=t;if(u)throw u;await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",l)),this._debug("INITIAL_SESSION","callback id",e,"session",l)}catch(l){await((o=this.stateChangeEmitters.get(e))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",l),console.error(l)}})}async resetPasswordForEmail(e,t={}){let i=null,o=null;this.flowType==="pkce"&&([i,o]=await ei(this.storage,this.storageKey,!0));try{return await pe(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:i,code_challenge_method:o,gotrue_meta_security:{captcha_token:t.captchaToken}},headers:this.headers,redirectTo:t.redirectTo})}catch(l){if(await et(this.storage,`${this.storageKey}-code-verifier`),ce(l))return this._returnResult({data:null,error:l});throw l}}async getUserIdentities(){var e;try{const{data:t,error:i}=await this.getUser();if(i)throw i;return this._returnResult({data:{identities:(e=t.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(t){if(ce(t))return this._returnResult({data:null,error:t});throw t}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var t;try{const{data:i,error:o}=await this._useSession(async l=>{var u,d,h,p,m;const{data:v,error:b}=l;if(b)throw b;const y=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(u=e.options)===null||u===void 0?void 0:u.redirectTo,scopes:(d=e.options)===null||d===void 0?void 0:d.scopes,queryParams:(h=e.options)===null||h===void 0?void 0:h.queryParams,skipBrowserRedirect:!0});return await pe(this.fetch,"GET",y,{headers:this.headers,jwt:(m=(p=v.session)===null||p===void 0?void 0:p.access_token)!==null&&m!==void 0?m:void 0})});if(o)throw o;return tt()&&!(!((t=e.options)===null||t===void 0)&&t.skipBrowserRedirect)&&window.location.assign(i==null?void 0:i.url),this._returnResult({data:{provider:e.provider,url:i==null?void 0:i.url},error:null})}catch(i){if(ce(i))return this._returnResult({data:{provider:e.provider,url:null},error:i});throw i}}async linkIdentityIdToken(e){return await this._useSession(async t=>{var i;try{const{error:o,data:{session:l}}=t;if(o)throw o;const{options:u,provider:d,token:h,access_token:p,nonce:m}=e,v=await pe(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(i=l==null?void 0:l.access_token)!==null&&i!==void 0?i:void 0,body:{provider:d,id_token:h,access_token:p,nonce:m,link_identity:!0,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}},xform:Ht}),{data:b,error:y}=v;return y?this._returnResult({data:{user:null,session:null},error:y}):!b||!b.session||!b.user?this._returnResult({data:{user:null,session:null},error:new Zn}):(b.session&&(await this._saveSession(b.session),await this._notifyAllSubscribers("USER_UPDATED",b.session)),this._returnResult({data:b,error:y}))}catch(o){if(await et(this.storage,`${this.storageKey}-code-verifier`),ce(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}})}async unlinkIdentity(e){try{return await this._useSession(async t=>{var i,o;const{data:l,error:u}=t;if(u)throw u;return await pe(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(o=(i=l.session)===null||i===void 0?void 0:i.access_token)!==null&&o!==void 0?o:void 0})})}catch(t){if(ce(t))return this._returnResult({data:null,error:t});throw t}}async _refreshAccessToken(e){const t=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(t,"begin");try{const i=Date.now();return await ax(async o=>(o>0&&await ox(200*Math.pow(2,o-1)),this._debug(t,"refreshing attempt",o),await pe(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Ht})),(o,l)=>{const u=200*Math.pow(2,o);return l&&tc(l)&&Date.now()+u-i<li})}catch(i){if(this._debug(t,"error",i),ce(i))return this._returnResult({data:{session:null,user:null},error:i});throw i}finally{this._debug(t,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,t){const i=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:t.redirectTo,scopes:t.scopes,queryParams:t.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",t,"url",i),tt()&&!t.skipBrowserRedirect&&window.location.assign(i),{data:{provider:e,url:i},error:null}}async _recoverAndRefresh(){var e,t;const i="#_recoverAndRefresh()";this._debug(i,"begin");try{const o=await ln(this.storage,this.storageKey);if(o&&this.userStorage){let u=await ln(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!u&&(u={user:o.user},await ui(this.userStorage,this.storageKey+"-user",u)),o.user=(e=u==null?void 0:u.user)!==null&&e!==void 0?e:nc()}else if(o&&!o.user&&!o.user){const u=await ln(this.storage,this.storageKey+"-user");u&&(u!=null&&u.user)?(o.user=u.user,await et(this.storage,this.storageKey+"-user"),await ui(this.storage,this.storageKey,o)):o.user=nc()}if(this._debug(i,"session from storage",o),!this._isValidSession(o)){this._debug(i,"session is not valid"),o!==null&&await this._removeSession();return}const l=((t=o.expires_at)!==null&&t!==void 0?t:1/0)*1e3-Date.now()<ec;if(this._debug(i,`session has${l?"":" not"} expired with margin of ${ec}s`),l){if(this.autoRefreshToken&&o.refresh_token){const{error:u}=await this._callRefreshToken(o.refresh_token);u&&(console.error(u),tc(u)||(this._debug(i,"refresh failed with a non-retryable error, removing the session",u),await this._removeSession()))}}else if(o.user&&o.user.__isUserNotAvailableProxy===!0)try{const{data:u,error:d}=await this._getUser(o.access_token);!d&&(u!=null&&u.user)?(o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)):this._debug(i,"could not get user data, skipping SIGNED_IN notification")}catch(u){console.error("Error getting user data:",u),this._debug(i,"error getting user data, skipping SIGNED_IN notification",u)}else await this._notifyAllSubscribers("SIGNED_IN",o)}catch(o){this._debug(i,"error",o),console.error(o);return}finally{this._debug(i,"end")}}async _callRefreshToken(e){var t,i;if(!e)throw new St;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const o=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(o,"begin");try{this.refreshingDeferred=new Ua;const{data:l,error:u}=await this._refreshAccessToken(e);if(u)throw u;if(!l.session)throw new St;await this._saveSession(l.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",l.session);const d={data:l.session,error:null};return this.refreshingDeferred.resolve(d),d}catch(l){if(this._debug(o,"error",l),ce(l)){const u={data:null,error:l};return tc(l)||await this._removeSession(),(t=this.refreshingDeferred)===null||t===void 0||t.resolve(u),u}throw(i=this.refreshingDeferred)===null||i===void 0||i.reject(l),l}finally{this.refreshingDeferred=null,this._debug(o,"end")}}async _notifyAllSubscribers(e,t,i=!0){const o=`#_notifyAllSubscribers(${e})`;this._debug(o,"begin",t,`broadcast = ${i}`);try{this.broadcastChannel&&i&&this.broadcastChannel.postMessage({event:e,session:t});const l=[],u=Array.from(this.stateChangeEmitters.values()).map(async d=>{try{await d.callback(e,t)}catch(h){l.push(h)}});if(await Promise.all(u),l.length>0){for(let d=0;d<l.length;d+=1)console.error(l[d]);throw l[0]}}finally{this._debug(o,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await et(this.storage,`${this.storageKey}-code-verifier`);const t=Object.assign({},e),i=t.user&&t.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!i&&t.user&&await ui(this.userStorage,this.storageKey+"-user",{user:t.user});const o=Object.assign({},t);delete o.user;const l=Ig(o);await ui(this.storage,this.storageKey,l)}else{const o=Ig(t);await ui(this.storage,this.storageKey,o)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await et(this.storage,this.storageKey),await et(this.storage,this.storageKey+"-code-verifier"),await et(this.storage,this.storageKey+"-user"),this.userStorage&&await et(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&tt()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(t){console.error("removing visibilitychange callback failed",t)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),li);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async t=>{const{data:{session:i}}=t;if(!i||!i.refresh_token||!i.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const o=Math.floor((i.expires_at*1e3-e)/li);this._debug("#_autoRefreshTokenTick()",`access token expires in ${o} ticks, a tick lasts ${li}ms, refresh threshold is ${qc} ticks`),o<=qc&&await this._callRefreshToken(i.refresh_token)})}catch(t){console.error("Auto refresh tick failed with error. This is likely a transient error.",t)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof Ay)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!tt()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const t=`#_onVisibilityChanged(${e})`;this._debug(t,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(t,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,t,i){const o=[`provider=${encodeURIComponent(t)}`];if(i!=null&&i.redirectTo&&o.push(`redirect_to=${encodeURIComponent(i.redirectTo)}`),i!=null&&i.scopes&&o.push(`scopes=${encodeURIComponent(i.scopes)}`),this.flowType==="pkce"){const[l,u]=await ei(this.storage,this.storageKey),d=new URLSearchParams({code_challenge:`${encodeURIComponent(l)}`,code_challenge_method:`${encodeURIComponent(u)}`});o.push(d.toString())}if(i!=null&&i.queryParams){const l=new URLSearchParams(i.queryParams);o.push(l.toString())}return i!=null&&i.skipBrowserRedirect&&o.push(`skip_http_redirect=${i.skipBrowserRedirect}`),`${e}?${o.join("&")}`}async _unenroll(e){try{return await this._useSession(async t=>{var i;const{data:o,error:l}=t;return l?this._returnResult({data:null,error:l}):await pe(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(i=o==null?void 0:o.session)===null||i===void 0?void 0:i.access_token})})}catch(t){if(ce(t))return this._returnResult({data:null,error:t});throw t}}async _enroll(e){try{return await this._useSession(async t=>{var i,o;const{data:l,error:u}=t;if(u)return this._returnResult({data:null,error:u});const d=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:h,error:p}=await pe(this.fetch,"POST",`${this.url}/factors`,{body:d,headers:this.headers,jwt:(i=l==null?void 0:l.session)===null||i===void 0?void 0:i.access_token});return p?this._returnResult({data:null,error:p}):(e.factorType==="totp"&&h.type==="totp"&&(!((o=h==null?void 0:h.totp)===null||o===void 0)&&o.qr_code)&&(h.totp.qr_code=`data:image/svg+xml;utf-8,${h.totp.qr_code}`),this._returnResult({data:h,error:null}))})}catch(t){if(ce(t))return this._returnResult({data:null,error:t});throw t}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var i;const{data:o,error:l}=t;if(l)return this._returnResult({data:null,error:l});const u=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?$x(e.webauthn.credential_response):Lx(e.webauthn.credential_response)})}:{code:e.code}),{data:d,error:h}=await pe(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:u,headers:this.headers,jwt:(i=o==null?void 0:o.session)===null||i===void 0?void 0:i.access_token});return h?this._returnResult({data:null,error:h}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+d.expires_in},d)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",d),this._returnResult({data:d,error:h}))})}catch(t){if(ce(t))return this._returnResult({data:null,error:t});throw t}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var i;const{data:o,error:l}=t;if(l)return this._returnResult({data:null,error:l});const u=await pe(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(i=o==null?void 0:o.session)===null||i===void 0?void 0:i.access_token});if(u.error)return u;const{data:d}=u;if(d.type!=="webauthn")return{data:d,error:null};switch(d.webauthn.type){case"create":return{data:Object.assign(Object.assign({},d),{webauthn:Object.assign(Object.assign({},d.webauthn),{credential_options:Object.assign(Object.assign({},d.webauthn.credential_options),{publicKey:jx(d.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},d),{webauthn:Object.assign(Object.assign({},d.webauthn),{credential_options:Object.assign(Object.assign({},d.webauthn.credential_options),{publicKey:Mx(d.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(t){if(ce(t))return this._returnResult({data:null,error:t});throw t}})}async _challengeAndVerify(e){const{data:t,error:i}=await this._challenge({factorId:e.factorId});return i?this._returnResult({data:null,error:i}):await this._verify({factorId:e.factorId,challengeId:t.id,code:e.code})}async _listFactors(){var e;const{data:{user:t},error:i}=await this.getUser();if(i)return{data:null,error:i};const o={all:[],phone:[],totp:[],webauthn:[]};for(const l of(e=t==null?void 0:t.factors)!==null&&e!==void 0?e:[])o.all.push(l),l.status==="verified"&&o[l.factor_type].push(l);return{data:o,error:null}}async _getAuthenticatorAssuranceLevel(){var e,t;const{data:{session:i},error:o}=await this.getSession();if(o)return this._returnResult({data:null,error:o});if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:l}=rc(i.access_token);let u=null;l.aal&&(u=l.aal);let d=u;((t=(e=i.user.factors)===null||e===void 0?void 0:e.filter(m=>m.status==="verified"))!==null&&t!==void 0?t:[]).length>0&&(d="aal2");const p=l.amr||[];return{data:{currentLevel:u,nextLevel:d,currentAuthenticationMethods:p},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async t=>{const{data:{session:i},error:o}=t;return o?this._returnResult({data:null,error:o}):i?await pe(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:i.access_token,xform:l=>({data:l,error:null})}):this._returnResult({data:null,error:new St})})}catch(t){if(ce(t))return this._returnResult({data:null,error:t});throw t}}async _approveAuthorization(e,t){try{return await this._useSession(async i=>{const{data:{session:o},error:l}=i;if(l)return this._returnResult({data:null,error:l});if(!o)return this._returnResult({data:null,error:new St});const u=await pe(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:o.access_token,body:{action:"approve"},xform:d=>({data:d,error:null})});return u.data&&u.data.redirect_url&&tt()&&!(t!=null&&t.skipBrowserRedirect)&&window.location.assign(u.data.redirect_url),u})}catch(i){if(ce(i))return this._returnResult({data:null,error:i});throw i}}async _denyAuthorization(e,t){try{return await this._useSession(async i=>{const{data:{session:o},error:l}=i;if(l)return this._returnResult({data:null,error:l});if(!o)return this._returnResult({data:null,error:new St});const u=await pe(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:o.access_token,body:{action:"deny"},xform:d=>({data:d,error:null})});return u.data&&u.data.redirect_url&&tt()&&!(t!=null&&t.skipBrowserRedirect)&&window.location.assign(u.data.redirect_url),u})}catch(i){if(ce(i))return this._returnResult({data:null,error:i});throw i}}async _listOAuthGrants(){try{return await this._useSession(async e=>{const{data:{session:t},error:i}=e;return i?this._returnResult({data:null,error:i}):t?await pe(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:t.access_token,xform:o=>({data:o,error:null})}):this._returnResult({data:null,error:new St})})}catch(e){if(ce(e))return this._returnResult({data:null,error:e});throw e}}async _revokeOAuthGrant(e){try{return await this._useSession(async t=>{const{data:{session:i},error:o}=t;return o?this._returnResult({data:null,error:o}):i?(await pe(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:i.access_token,query:{client_id:e.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new St})})}catch(t){if(ce(t))return this._returnResult({data:null,error:t});throw t}}async fetchJwk(e,t={keys:[]}){let i=t.keys.find(d=>d.kid===e);if(i)return i;const o=Date.now();if(i=this.jwks.keys.find(d=>d.kid===e),i&&this.jwks_cached_at+qk>o)return i;const{data:l,error:u}=await pe(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(u)throw u;return!l.keys||l.keys.length===0||(this.jwks=l,this.jwks_cached_at=o,i=l.keys.find(d=>d.kid===e),!i)?null:i}async getClaims(e,t={}){try{let i=e;if(!i){const{data:y,error:w}=await this.getSession();if(w||!y.session)return this._returnResult({data:null,error:w});i=y.session.access_token}const{header:o,payload:l,signature:u,raw:{header:d,payload:h}}=rc(i);t!=null&&t.allowExpired||px(l.exp);const p=!o.alg||o.alg.startsWith("HS")||!o.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(o.kid,t!=null&&t.keys?{keys:t.keys}:t==null?void 0:t.jwks);if(!p){const{error:y}=await this.getUser(i);if(y)throw y;return{data:{claims:l,header:o,signature:u},error:null}}const m=gx(o.alg),v=await crypto.subtle.importKey("jwk",p,m,!0,["verify"]);if(!await crypto.subtle.verify(m,v,u,tx(`${d}.${h}`)))throw new Gc("Invalid JWT signature");return{data:{claims:l,header:o,signature:u},error:null}}catch(i){if(ce(i))return this._returnResult({data:null,error:i});throw i}}}Es.nextInstanceID={};const Kx=Es,Gx="2.89.0";let ds="";typeof Deno<"u"?ds="deno":typeof document<"u"?ds="web":typeof navigator<"u"&&navigator.product==="ReactNative"?ds="react-native":ds="node";const Yx={"X-Client-Info":`supabase-js-${ds}/${Gx}`},Jx={headers:Yx},Qx={schema:"public"},Xx={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Zx={};function ks(r){"@babel/helpers - typeof";return ks=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ks(r)}function eT(r,e){if(ks(r)!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var i=t.call(r,e||"default");if(ks(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function tT(r){var e=eT(r,"string");return ks(e)=="symbol"?e:e+""}function rT(r,e,t){return(e=tT(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function Ug(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(r);e&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(r,o).enumerable})),t.push.apply(t,i)}return t}function Fe(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Ug(Object(t),!0).forEach(function(i){rT(r,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):Ug(Object(t)).forEach(function(i){Object.defineProperty(r,i,Object.getOwnPropertyDescriptor(t,i))})}return r}const nT=r=>r?(...e)=>r(...e):(...e)=>fetch(...e),iT=()=>Headers,sT=(r,e,t)=>{const i=nT(t),o=iT();return async(l,u)=>{var d;const h=(d=await e())!==null&&d!==void 0?d:r;let p=new o(u==null?void 0:u.headers);return p.has("apikey")||p.set("apikey",r),p.has("Authorization")||p.set("Authorization",`Bearer ${h}`),i(l,Fe(Fe({},u),{},{headers:p}))}};function oT(r){return r.endsWith("/")?r:r+"/"}function aT(r,e){var t,i;const{db:o,auth:l,realtime:u,global:d}=r,{db:h,auth:p,realtime:m,global:v}=e,b={db:Fe(Fe({},h),o),auth:Fe(Fe({},p),l),realtime:Fe(Fe({},m),u),storage:{},global:Fe(Fe(Fe({},v),d),{},{headers:Fe(Fe({},(t=v==null?void 0:v.headers)!==null&&t!==void 0?t:{}),(i=d==null?void 0:d.headers)!==null&&i!==void 0?i:{})}),accessToken:async()=>""};return r.accessToken?b.accessToken=r.accessToken:delete b.accessToken,b}function lT(r){const e=r==null?void 0:r.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(oT(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var uT=class extends Kx{constructor(r){super(r)}},cT=class{constructor(r,e,t){var i,o;this.supabaseUrl=r,this.supabaseKey=e;const l=lT(r);if(!e)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const u=`sb-${l.hostname.split(".")[0]}-auth-token`,d={db:Qx,realtime:Zx,auth:Fe(Fe({},Xx),{},{storageKey:u}),global:Jx},h=aT(t??{},d);if(this.storageKey=(i=h.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(o=h.global.headers)!==null&&o!==void 0?o:{},h.accessToken)this.accessToken=h.accessToken,this.auth=new Proxy({},{get:(m,v)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(v)} is not possible`)}});else{var p;this.auth=this._initSupabaseAuthClient((p=h.auth)!==null&&p!==void 0?p:{},this.headers,h.global.fetch)}this.fetch=sT(e,this._getAccessToken.bind(this),h.global.fetch),this.realtime=this._initRealtimeClient(Fe({headers:this.headers,accessToken:this._getAccessToken.bind(this)},h.realtime)),this.accessToken&&this.accessToken().then(m=>this.realtime.setAuth(m)).catch(m=>console.warn("Failed to set initial Realtime auth token:",m)),this.rest=new H1(new URL("rest/v1",l).href,{headers:this.headers,schema:h.db.schema,fetch:this.fetch}),this.storage=new Fk(this.storageUrl.href,this.headers,this.fetch,t==null?void 0:t.storage),h.accessToken||this._listenForAuthEvents()}get functions(){return new L1(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(r){return this.rest.from(r)}schema(r){return this.rest.schema(r)}rpc(r,e={},t={head:!1,get:!1,count:void 0}){return this.rest.rpc(r,e,t)}channel(r,e={config:{}}){return this.realtime.channel(r,e)}getChannels(){return this.realtime.getChannels()}removeChannel(r){return this.realtime.removeChannel(r)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var r=this,e,t;if(r.accessToken)return await r.accessToken();const{data:i}=await r.auth.getSession();return(e=(t=i.session)===null||t===void 0?void 0:t.access_token)!==null&&e!==void 0?e:r.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:r,persistSession:e,detectSessionInUrl:t,storage:i,userStorage:o,storageKey:l,flowType:u,lock:d,debug:h,throwOnError:p},m,v){const b={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new uT({url:this.authUrl.href,headers:Fe(Fe({},b),m),storageKey:l,autoRefreshToken:r,persistSession:e,detectSessionInUrl:t,storage:i,userStorage:o,flowType:u,lock:d,debug:h,throwOnError:p,fetch:v,hasCustomAuthorizationHeader:Object.keys(this.headers).some(y=>y.toLowerCase()==="authorization")})}_initRealtimeClient(r){return new ok(this.realtimeUrl.href,Fe(Fe({},r),{},{params:Fe(Fe({},{apikey:this.supabaseKey}),r==null?void 0:r.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,e)=>{this._handleTokenChanged(r,"CLIENT",e==null?void 0:e.access_token)})}_handleTokenChanged(r,e,t){(r==="TOKEN_REFRESHED"||r==="SIGNED_IN")&&this.changedAccessToken!==t?(this.changedAccessToken=t,this.realtime.setAuth(t)):r==="SIGNED_OUT"&&(this.realtime.setAuth(),e=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const dT=(r,e,t)=>new cT(r,e,t);function hT(){if(typeof window<"u"||typeof process>"u")return!1;const r=process.version;if(r==null)return!1;const e=r.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}hT()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const fT="https://zsjpvuyihsfhqzmiogyi.supabase.co",pT="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InpzanB2dXlpaHNmaHF6bWlvZ3lpIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjYxMTY0MjQsImV4cCI6MjA4MTY5MjQyNH0.f6Sm15GyZm87tMHkPxQxk1zuWjY6ztTMsENxMh41qZM",gT=fT,My=pT,xd=!!My,_a=xd?dT(gT,My):null;xd||console.warn("[Supabase] VITE_SUPABASE_URL / VITE_SUPABASE_ANON_KEY not configured; data will not load.");async function Yc(r,e){if(!_a)return null;const{data:t,error:i}=await _a.from("workout_logs").select("*").eq("user_id",r).eq("date",e).order("updated_at",{ascending:!1}).limit(1).maybeSingle();return i?(console.error("Error fetching workout log:",i),null):t}async function mT(r){if(!_a)return null;const{data:e,error:t}=await _a.from("workout_logs").upsert({user_id:r.user_id,date:r.date,plan_workout:r.plan_workout,completed:r.completed,actual_distance:r.actual_distance||null,actual_pace:r.actual_pace||null,notes:r.notes||null,updated_at:new Date().toISOString()},{onConflict:"user_id,date"}).select().single();return t?(console.error("Error upserting workout log:",t),null):e}const yT=({isOpen:r,onClose:e,userId:t,date:i,planWorkout:o,onSave:l})=>{const[u,d]=A.useState(!1),[h,p]=A.useState(""),[m,v]=A.useState(""),[b,y]=A.useState(""),[w,S]=A.useState(!1),[E,k]=A.useState(!0);A.useEffect(()=>{r&&(k(!0),Yc(t,i).then(z=>{z?(d(z.completed),p(z.actual_distance||""),v(z.actual_pace||""),y(z.notes||"")):(d(!1),p(""),v(""),y(""))}).finally(()=>k(!1)))},[r,t,i]);const O=async()=>{S(!0);const z={user_id:t,date:i,plan_workout:o,completed:u,actual_distance:h.trim()||void 0,actual_pace:m.trim()||void 0,notes:b.trim()||void 0},F=await mT(z);S(!1),F?(l==null||l(),e()):alert("Failed to save workout log. Please try again.")},N=()=>{e()};return r?x.jsx("div",{className:"modal-overlay",onClick:N,children:x.jsxs("div",{className:"modal-content",onClick:z=>z.stopPropagation(),children:[x.jsx("h2",{children:"Log Workout"}),x.jsx("div",{className:"modal-date",children:new Date(i).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})}),x.jsxs("div",{className:"modal-workout-prescribed",children:[x.jsx("strong",{children:"Prescribed:"})," ",o||"Rest day"]}),E?x.jsx("div",{className:"modal-loading",children:"Loading..."}):x.jsxs(x.Fragment,{children:[x.jsx("div",{className:"modal-field",children:x.jsxs("label",{children:[x.jsx("input",{type:"checkbox",checked:u,onChange:z=>d(z.target.checked)})," ","Mark as completed"]})}),x.jsxs("div",{className:"modal-field",children:[x.jsx("label",{htmlFor:"actual-distance",children:"Actual Distance"}),x.jsx("input",{id:"actual-distance",type:"text",placeholder:"e.g., 6.2 mi or 10 km",value:h,onChange:z=>p(z.target.value)})]}),x.jsxs("div",{className:"modal-field",children:[x.jsx("label",{htmlFor:"actual-pace",children:"Actual Pace"}),x.jsx("input",{id:"actual-pace",type:"text",placeholder:"e.g., 8:20/mi average",value:m,onChange:z=>v(z.target.value)})]}),x.jsxs("div",{className:"modal-field",children:[x.jsx("label",{htmlFor:"notes",children:"Notes"}),x.jsx("textarea",{id:"notes",rows:4,placeholder:"How did it feel? Any observations?",value:b,onChange:z=>y(z.target.value)})]}),x.jsxs("div",{className:"modal-buttons",children:[x.jsx("button",{className:"modal-btn modal-btn-cancel",onClick:N,disabled:w,children:"Cancel"}),x.jsx("button",{className:"modal-btn modal-btn-save",onClick:O,disabled:w,children:w?"Saving...":"Save"})]})]})]})}):null};function vT(r,e,t){let[i,o]=Ma(r,e,t);return o=i.replace(/\s/g,"")===o.replace(/\s/g,"")?"":o,x.jsxs(x.Fragment,{children:[x.jsx("p",{children:x.jsx("span",{className:"workout-title",children:i})}),o&&x.jsx("p",{children:x.jsx("span",{className:"workout-description",children:o})})]})}function wT(r,e){if(!r||!e)return null;const t=r.toLowerCase(),i=[{label:"Recovery",synonyms:["recovery"]},{label:"Gen-aerobic",synonyms:["gen-aerobic","general aerobic","aerobic"]},{label:"Long/Medium",synonyms:["long/medium","long/medium long","long run","medium long","med-long"]},{label:"Marathon",synonyms:["marathon"]},{label:"LT",synonyms:["lt","lactate threshold","threshold"]},{label:"VO2max",synonyms:["vo2max","vo2 max"]}];for(const o of i)if(o.synonyms.some(l=>t.includes(l))){const l=Object.keys(e).find(u=>o.synonyms.some(d=>u.toLowerCase().includes(d)));if(l&&e[l].pace_range)return e[l].pace_range}return null}const _T=({dayDetails:r,date:e,units:t,paceData:i,isCurrentWeek:o,userId:l})=>{const[u,d]=A.useState(!1),[h,p]=A.useState(null),m=e.toISOString().split("T")[0];A.useEffect(()=>{l&&Yc(l,m).then(p)},[l,m]);const v=()=>{Yc(l,m).then(p)},[{isDragging:b},y,w]=gy({type:ma.DAY,item:{date:e,dayDetails:r,units:t},collect:O=>({isDragging:O.isDragging(),canDrag:r!==void 0}),end:(O,N)=>{N.getDropResult()}}),S=o?wT(r.title,i):null,[E]=Ma(r,r.sourceUnits,t),k=O=>{O.target.closest(".drag-handle")||d(!0)};return x.jsxs(x.Fragment,{children:[x.jsxs("div",{ref:w,className:`workout-card ${b?"dragging":""} ${h!=null&&h.completed?"completed":""}`,style:{display:"flex",flexDirection:"column",cursor:"pointer"},onClick:k,children:[x.jsx(yy,{$date:e}),(h==null?void 0:h.completed)&&x.jsx("div",{style:{position:"absolute",top:"0.5rem",right:"0.5rem",fontSize:"1.2rem"},children:""}),x.jsxs("div",{className:"workout-content",style:{flex:1,display:"flex",flexDirection:"column"},children:[x.jsx("div",{ref:y,className:"drag-handle",children:x.jsx(vy,{viewBox:"0 0 32 36"})}),x.jsx("div",{style:{flex:1},children:vT(r,r.sourceUnits,t)}),S&&x.jsx("div",{style:{textAlign:"center",fontSize:"0.75rem",color:"#666",fontStyle:"italic",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",paddingTop:"0.25rem",borderTop:"1px solid #eee",marginTop:"0.25rem"},children:S}),(h==null?void 0:h.actual_pace)&&x.jsxs("div",{style:{textAlign:"center",fontSize:"0.75rem",color:"#28a745",fontWeight:600,marginTop:"0.25rem"},children:["Actual: ",h.actual_pace]}),(h==null?void 0:h.notes)&&x.jsxs("div",{style:{fontSize:"0.7rem",color:"#666",fontStyle:"italic",marginTop:"0.25rem",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:[" ",h.notes]})]})]}),x.jsx(yT,{isOpen:u,onClose:()=>d(!1),userId:l,date:m,planWorkout:E,onSave:v})]})},ST=({date:r})=>x.jsxs("div",{className:"blank-card",children:[x.jsx(yy,{$date:r}),x.jsx("div",{className:"blank-content"})]}),Ko=({color:r})=>x.jsx("div",{style:{position:"absolute",top:0,left:0,height:"100%",width:"100%",zIndex:1,opacity:.5,backgroundColor:r}}),bT=({dayDetails:r,date:e,units:t,swap:i,selected:o,hovering:l,isToday:u,todayRef:d,paceData:h,isCurrentWeek:p,userId:m})=>{u&&console.log("[DayCell] isToday:",e,"isToday:",u);function v(S){return r!==void 0&&e!==S}const[{isOver:b,canDrop:y},w]=my({accept:ma.DAY,canDrop:S=>v(S.date),drop:S=>{i(e,S.date)},collect:S=>({isOver:S.isOver(),canDrop:S.canDrop(),droppedItem:S.getItem()})});return x.jsx("div",{style:{position:"relative",width:"100%",height:"100%"},children:x.jsxs("div",{className:`day-cell${u?" today-highlight":""}`,ref:u&&d?S=>{w(S),d(S)}:w,children:[r&&x.jsx(_T,{dayDetails:r,date:e,units:t,swap:i,paceData:h,isCurrentWeek:p,userId:m}),!r&&x.jsx(ST,{date:e}),b&&!y&&x.jsx(Ko,{color:"pink"}),b&&y&&x.jsx(Ko,{color:"lightgreen"}),r&&o&&x.jsx(Ko,{color:"pink"}),r&&!o&&l&&x.jsx(Ko,{color:"lightgreen"})]})})},ET="/Running_Calendar-dev/assets/start-Q1SybB1L.svg",kT="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20viewBox='0%200%20512%20512'%3e%3cdefs%3e%3clinearGradient%20id='a'%20x1='352.68'%20y1='489.09'%20x2='178.77'%20y2='315.19'%20gradientUnits='userSpaceOnUse'%3e%3cstop%20offset='0'%20stop-color='%237f4d05'/%3e%3cstop%20offset='1'%20stop-color='%23773a04'/%3e%3c/linearGradient%3e%3clinearGradient%20id='b'%20x1='378.4'%20y1='47.84'%20x2='146.57'%20y2='279.68'%20gradientUnits='userSpaceOnUse'%3e%3cstop%20offset='0'%20stop-color='%23565656'/%3e%3cstop%20offset='1'%20stop-color='%23141414'/%3e%3c/linearGradient%3e%3clinearGradient%20id='c'%20x1='360.85'%20y1='53.43'%20x2='132.64'%20y2='281.64'%20gradientUnits='userSpaceOnUse'%3e%3cstop%20offset='0'%20stop-color='%23f4f4f4'/%3e%3cstop%20offset='1'%20stop-color='%23e0e0e0'/%3e%3c/linearGradient%3e%3clinearGradient%20id='d'%20x1='413.51'%20y1='106.09'%20x2='185.3'%20y2='334.3'%20xlink:href='%23c'/%3e%3clinearGradient%20id='e'%20x1='332.14'%20y1='24.71'%20x2='103.92'%20y2='252.93'%20xlink:href='%23c'/%3e%3clinearGradient%20id='f'%20x1='372.82'%20y1='65.4'%20x2='144.61'%20y2='293.61'%20xlink:href='%23c'/%3e%3clinearGradient%20id='g'%20x1='401.54'%20y1='94.11'%20x2='173.33'%20y2='322.33'%20xlink:href='%23c'/%3e%3clinearGradient%20id='h'%20x1='320.17'%20y1='12.74'%20x2='91.95'%20y2='240.95'%20xlink:href='%23c'/%3e%3clinearGradient%20id='i'%20x1='360.85'%20y1='53.42'%20x2='132.64'%20y2='281.64'%20xlink:href='%23c'/%3e%3clinearGradient%20id='j'%20x1='413.5'%20y1='106.07'%20x2='185.29'%20y2='334.29'%20xlink:href='%23c'/%3e%3clinearGradient%20id='k'%20x1='332.14'%20y1='24.71'%20x2='103.92'%20y2='252.93'%20xlink:href='%23c'/%3e%3c/defs%3e%3ctitle%3eIcon%3c/title%3e%3cpath%20d='M180.05,296.26l3.82,44.22h0L345.3,501.9a14.28,14.28,0,0,0,20.2,0h0a14.28,14.28,0,0,0,0-20.2Z'%20fill='url(%23a)'/%3e%3cpath%20d='M397.82,150.48c-16.08,4.11-32.17,8.23-52.37,28.43-9.63,9.63-30.39,4.88-34.45,13.09-4.45,9,8.18,30.86,6,39.27-4.11,16.08-8.23,32.17-28.43,52.36-8.14,8.14-34.52-.6-41.6,3.37-10.47,5.87-1.16,22.6-10.76,25.06-16.08,4.11-32.17,8.23-52.36,28.42L143.19,299.8,135,275l-32.49-15.89L61.82,218.43C82,198.23,98.1,194.12,114.18,190c11-2.81,30.53,6.91,42.82-1,5.72-3.69,3.13-21,9.55-27.42,20.2-20.2,24.31-36.28,28.42-52.36,2.56-10,19.57-4.2,26-15.22,3.9-6.66-5.21-29.53,2.4-37.14,20.2-20.2,36.28-24.31,52.36-28.42s93,12.26,93,12.26L409.5,81.38S413.9,146.37,397.82,150.48Z'%20fill='url(%23b)'/%3e%3cpath%20d='M195.56,271.37h0c-16.09,4.11-32.17,8.22-52.37,28.42l-40.68-40.68h0c20.2-20.2,36.28-24.31,52.36-28.42h0Z'%20fill='url(%23c)'/%3e%3cpath%20d='M247.93,242.95l40.68,40.69c-20.2,20.2-36.29,24.31-52.37,28.43l-40.67-40.68c16.08-4.11,32.15-8.23,52.35-28.43Z'%20fill='url(%23d)'/%3e%3cpath%20d='M207.24,202.26h0C187,222.46,171,226.58,154.88,230.7h0L114.19,190c16.09-4.12,32.16-8.23,52.36-28.43h0Z'%20fill='url(%23e)'/%3e%3cpath%20d='M235.66,149.91l40.69,40.68c-4.11,16.08-8.23,32.16-28.42,52.36l-40.69-40.69C227.43,182.06,231.55,166,235.66,149.91Z'%20fill='url(%23f)'/%3e%3cpath%20d='M304.77,138.23l40.68,40.68c-20.2,20.2-24.31,36.29-28.42,52.37l-40.69-40.69C280.46,174.51,284.58,158.43,304.77,138.23Z'%20fill='url(%23g)'/%3e%3cpath%20d='M223.4,56.85l40.68,40.69c-20.2,20.2-24.31,36.27-28.43,52.36L195,109.22C199.09,93.13,203.2,77.05,223.4,56.85Z'%20fill='url(%23h)'/%3e%3cpath%20d='M316.45,69.11l40.68,40.68C341,113.91,325,118,304.77,138.22h0L264.08,97.54C284.28,77.33,300.37,73.22,316.45,69.11Z'%20fill='url(%23i)'/%3e%3cpath%20d='M409.5,81.38l40.68,40.68c-20.21,20.2-36.28,24.31-52.36,28.43L357.14,109.8h0C373.22,105.69,389.3,101.57,409.5,81.38Z'%20fill='url(%23j)'/%3e%3cpath%20d='M328.13,0l40.68,40.68C348.61,60.88,332.54,65,316.45,69.11L275.77,28.43c16.08-4.11,32.16-8.22,52.36-28.43h0Z'%20fill='url(%23k)'/%3e%3c/svg%3e",xT="data:image/svg+xml,%3csvg%20id='color'%20enable-background='new%200%200%2024%2024'%20viewBox='0%200%2024%2024'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='m23.363%208.584-7.378-1.127-3.307-7.044c-.247-.526-1.11-.526-1.357%200l-3.306%207.044-7.378%201.127c-.606.093-.848.83-.423%201.265l5.36%205.494-1.267%207.767c-.101.617.558%201.08%201.103.777l6.59-3.642%206.59%203.643c.54.3%201.205-.154%201.103-.777l-1.267-7.767%205.36-5.494c.425-.436.182-1.173-.423-1.266z'%20fill='%23FFE9AB'/%3e%3c/svg%3e",TT=({week:r,units:e,isFirstWeek:t,isLastWeek:i,isHighestMileage:o})=>{const l=wd(r,e);return x.jsxs("div",{className:"week-summary",children:[x.jsx("p",{children:x.jsx("strong",{children:`Week ${1+r.weekNum}`})}),l[0]>0&&x.jsx("p",{children:Fr(l,e,e)}),t&&x.jsx("img",{src:ET,alt:"Start"}),i&&x.jsx("img",{src:kT,alt:"Finish"}),o&&x.jsx("img",{src:xT,alt:"Highest Mileage"}),o&&x.jsx("p",{children:x.jsx("small",{children:"Highest Mileage"})})]},"week:"+r.weekNum)},OT=({dow:r,swapDow:e,setSelectedDow:t,setHoveringDow:i})=>{const o=p=>r!==p,[{isDragging:l},u,d]=gy({type:ma.DOW,item:{id:r},end:()=>{t(void 0),i(void 0)},collect:p=>({isDragging:p.isDragging()})}),[{},h]=my({accept:ma.DOW,canDrop:p=>o(p.id),drop:p=>{e(r,p.id)},collect:p=>(p.isOver()&&(p.canDrop()?i(r):(t(r),i(void 0))),{isOver:p.isOver(),canDrop:p.canDrop()})});return x.jsx("div",{className:`week-header ${l?"dragging":""}`,children:x.jsx("div",{ref:h,children:x.jsx("div",{style:{position:"relative",width:"100%",height:"100%"},children:x.jsx("div",{ref:d,children:x.jsxs("div",{className:"day-header",ref:u,children:[x.jsx(vy,{viewBox:"0 0 32 36"}),x.jsx("div",{children:r})]})})})})})};function $y(r){let e=0,t=0,i=!1;for(const o of r.days){const l=o.event;if(!(!l||!l.dist)){if(typeof l.dist=="number")t+=l.dist;else if(Array.isArray(l.dist)&&l.dist.length===2){const[u,d]=l.dist;e+=u,t+=d,i=!0}}}return i?[e,t]:[t]}function CT(r){let e=0,t=0,i=!1;for(let o=0;o<r.length;o++){const l=$y(r[o]);if(l.length===1){const u=l[0];u>e&&(e=u),u>t&&(t=u)}else if(l.length===2){const[u,d]=l;u>e&&(e=u),d>t&&(t=d),i=!0}}return i?[e,t]:[t]}const PT=({racePlan:r,units:e,weekStartsOn:t,swapDates:i,swapDow:o,selectedUser:l})=>{const u=new Date,d=A.useRef(null),[h,p]=A.useState(null);A.useEffect(()=>{async function z(){try{const F=new Date().getTime(),U=await fetch(`/Running_Calendar-dev/data/${l}_paces.json?v=${F}`);if(U.ok){const j=await U.json();j.length>0&&p(j[j.length-1].paces)}}catch(F){console.error("Failed to load pace data:",F)}}z()},[l]);const m=Wr(u,{weekStartsOn:t}),v=Ra(u,{weekStartsOn:t}),b=z=>{d.current=z},[y,w]=A.useState(void 0),[S,E]=A.useState(void 0),k=CT(r.dateGrid.weeks);function O(z){const F=$y(z);let U=!1;return k[0]>0&&(F.length===1?U=k.length===1&&F[0]===k[0]:F.length===2&&(U=k.length===2&&F[0]===k[0]&&F[1]===k[1])),x.jsxs("div",{className:"week-grid",children:[x.jsx(TT,{desc:z.desc,week:z,units:e,racePlan:r,isFirstWeek:z.weekNum===0,isLastWeek:z.weekNum===r.dateGrid.weekCount-1,isHighestMileage:U},`ws:${z.weekNum}`),z.days.map((j,V)=>{const Z=yS(j.date,u),ie=ry(j.date,{start:m,end:v});return x.jsx(bT,{date:j.date,units:e,swap:i,dayDetails:j.event,selected:y===pa(j.date,"EEEE"),hovering:S===pa(j.date,"EEEE"),isToday:Z,todayRef:Z?b:void 0,paceData:h,isCurrentWeek:ie,userId:l},oi(j.date))})]},`wr:${z.weekNum}`)}A.useEffect(()=>{d.current&&d.current.scrollIntoView({behavior:"smooth",block:"center"})},[r]);function N(){return x.jsxs("div",{className:"week-grid",children:[x.jsx("div",{},"blank-left"),ny(t).map((z,F)=>x.jsx(OT,{dow:z,swapDow:o,setSelectedDow:w,setHoveringDow:E},z))]})}return x.jsxs("div",{className:"calendar-grid",children:[N(),r.dateGrid.weeks.map((z,F)=>O(z))]})};var un={},sc={},us={},cn={};let RT="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict",Ly=r=>crypto.getRandomValues(new Uint8Array(r)),Uy=(r,e,t)=>{let i=(2<<Math.log(r.length-1)/Math.LN2)-1,o=-~(1.6*i*e/r.length);return(l=e)=>{let u="";for(;;){let d=t(o),h=o|0;for(;h--;)if(u+=r[d[h]&i]||"",u.length===l)return u}}},DT=(r,e=21)=>Uy(r,e,Ly),IT=(r=21)=>crypto.getRandomValues(new Uint8Array(r)).reduce((e,t)=>(t&=63,t<36?e+=t.toString(36):t<62?e+=(t-26).toString(36).toUpperCase():t>62?e+="-":e+="_",e),"");const AT=Object.freeze(Object.defineProperty({__proto__:null,customAlphabet:DT,customRandom:Uy,nanoid:IT,random:Ly,urlAlphabet:RT},Symbol.toStringTag,{value:"Module"})),NT=Im(AT);var Fg;function jT(){if(Fg)return cn;Fg=1,Object.defineProperty(cn,"__esModule",{value:!0}),cn.headerDefaults=cn.eventDefaults=void 0;var r=NT;return cn.headerDefaults=function(){return{productId:"adamgibbons/ics",method:"PUBLISH"}},cn.eventDefaults=function(){return{title:"Untitled event",uid:(0,r.nanoid)(),timestamp:Date.now()}},cn}var zg;function MT(){if(zg)return us;zg=1,Object.defineProperty(us,"__esModule",{value:!0}),us.buildEvent=d,us.buildHeader=u;var r=jT();function e(h){"@babel/helpers - typeof";return e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(p){return typeof p}:function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p},e(h)}function t(h,p,m){return p=i(p),p in h?Object.defineProperty(h,p,{value:m,enumerable:!0,configurable:!0,writable:!0}):h[p]=m,h}function i(h){var p=o(h,"string");return e(p)==="symbol"?p:String(p)}function o(h,p){if(e(h)!=="object"||h===null)return h;var m=h[Symbol.toPrimitive];if(m!==void 0){var v=m.call(h,p||"default");if(e(v)!=="object")return v;throw new TypeError("@@toPrimitive must return a primitive value.")}return(p==="string"?String:Number)(h)}function l(h){return Object.entries(h).reduce(function(p,m){return typeof m[1]<"u"?Object.assign(p,t({},m[0],m[1])):p},{})}function u(){var h=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},p=Object.assign({},(0,r.headerDefaults)(),h);return l(p)}function d(){var h=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},p=Object.assign({},(0,r.eventDefaults)(),h);return l(p)}return us}var ii={},oc={},ac={},Bg;function Fy(){return Bg||(Bg=1,function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=h;function e(p,m){return u(p)||l(p,m)||i(p,m)||t()}function t(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function i(p,m){if(p){if(typeof p=="string")return o(p,m);var v=Object.prototype.toString.call(p).slice(8,-1);if(v==="Object"&&p.constructor&&(v=p.constructor.name),v==="Map"||v==="Set")return Array.from(p);if(v==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(v))return o(p,m)}}function o(p,m){(m==null||m>p.length)&&(m=p.length);for(var v=0,b=new Array(m);v<m;v++)b[v]=p[v];return b}function l(p,m){var v=p==null?null:typeof Symbol<"u"&&p[Symbol.iterator]||p["@@iterator"];if(v!=null){var b,y,w,S,E=[],k=!0,O=!1;try{if(w=(v=v.call(p)).next,m===0){if(Object(v)!==v)return;k=!1}else for(;!(k=(b=w.call(v)).done)&&(E.push(b.value),E.length!==m);k=!0);}catch(N){O=!0,y=N}finally{try{if(!k&&v.return!=null&&(S=v.return(),Object(S)!==S))return}finally{if(O)throw y}}return E}}function u(p){if(Array.isArray(p))return p}var d=function(m){return m<10?"0".concat(m):"".concat(m)};function h(){var p=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"utc",v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"local";if(typeof p=="string")return p;if(Array.isArray(p)&&p.length===3){var b=e(p,3),y=b[0],w=b[1],S=b[2];return"".concat(y).concat(d(w)).concat(d(S))}var E=new Date;if(Array.isArray(p)&&p.length>0&&p[0]){var k=e(p,6),O=k[0],N=k[1],z=k[2],F=k[3],U=F===void 0?0:F,j=k[4],V=j===void 0?0:j,Z=k[5],ie=Z===void 0?0:Z;v==="local"?E=new Date(O,N-1,z,U,V,ie):E=new Date(Date.UTC(O,N-1,z,U,V,ie))}else Array.isArray(p)||(E=new Date(p));return m==="local"?[E.getFullYear(),d(E.getMonth()+1),d(E.getDate()),"T",d(E.getHours()),d(E.getMinutes()),d(E.getSeconds())].join(""):[E.getUTCFullYear(),d(E.getUTCMonth()+1),d(E.getUTCDate()),"T",d(E.getUTCHours()),d(E.getUTCMinutes()),d(E.getUTCSeconds()),"Z"].join("")}}(ac)),ac}var lc={},Hg;function $T(){return Hg||(Hg=1,function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=e;function e(t){var i=t.lat,o=t.lon;return"".concat(i,";").concat(o)}}(lc)),lc}var uc={},cc={},Wg;function Td(){return Wg||(Wg=1,function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=e;function e(t){return'"'.concat(t.replaceAll('"','\\"'),'"')}}(cc)),cc}var qg;function LT(){return qg||(qg=1,function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=i;var e=t(Td());function t(o){return o&&o.__esModule?o:{default:o}}function i(o){var l=o.name,u=o.email,d=o.rsvp,h=o.dir,p=o.partstat,m=o.role,v=o.cutype,b=o.xNumGuests,y=[];d!==void 0&&y.push(d?"RSVP=TRUE":"RSVP=FALSE"),v&&y.push("CUTYPE=".concat((0,e.default)(v))),b!==void 0&&y.push("X-NUM-GUESTS=".concat(b)),m&&y.push("ROLE=".concat((0,e.default)(m))),p&&y.push("PARTSTAT=".concat((0,e.default)(p))),h&&y.push("DIR=".concat((0,e.default)(h))),y.push("CN=".concat((0,e.default)(l||"Unnamed attendee")));var w=y.join(";").concat(u?":mailto:".concat(u):"");return w}}(uc)),uc}var dc={},Vg;function UT(){return Vg||(Vg=1,function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=i;var e=t(Td());function t(o){return o&&o.__esModule?o:{default:o}}function i(o){var l=o.name,u=o.email,d=o.dir,h=o.sentBy,p="";return p+=d?"DIR=".concat((0,e.default)(d),";"):"",p+=h?"SENT-BY=".concat((0,e.default)("MAILTO:".concat(h)),";"):"",p+="CN=",p+=(0,e.default)(l||"Organizer"),p+=u?":MAILTO:".concat(u):"",p}}(dc)),dc}var hc={},fc={},pc={exports:{}},gc={exports:{}},Kg;function FT(){if(Kg)return gc.exports;Kg=1;var r;(function(y){y[y.HIGH_SURROGATE_START=55296]="HIGH_SURROGATE_START",y[y.HIGH_SURROGATE_END=56319]="HIGH_SURROGATE_END",y[y.LOW_SURROGATE_START=56320]="LOW_SURROGATE_START",y[y.REGIONAL_INDICATOR_START=127462]="REGIONAL_INDICATOR_START",y[y.REGIONAL_INDICATOR_END=127487]="REGIONAL_INDICATOR_END",y[y.FITZPATRICK_MODIFIER_START=127995]="FITZPATRICK_MODIFIER_START",y[y.FITZPATRICK_MODIFIER_END=127999]="FITZPATRICK_MODIFIER_END",y[y.VARIATION_MODIFIER_START=65024]="VARIATION_MODIFIER_START",y[y.VARIATION_MODIFIER_END=65039]="VARIATION_MODIFIER_END",y[y.DIACRITICAL_MARKS_START=8400]="DIACRITICAL_MARKS_START",y[y.DIACRITICAL_MARKS_END=8447]="DIACRITICAL_MARKS_END",y[y.SUBDIVISION_INDICATOR_START=127988]="SUBDIVISION_INDICATOR_START",y[y.TAGS_START=917504]="TAGS_START",y[y.TAGS_END=917631]="TAGS_END",y[y.ZWJ=8205]="ZWJ"})(r||(r={}));const e=Object.freeze([776,2359,2367,2984,3007,3021,3633,3635,3648,3657,4352,4449,4520]);var t;function i(y){if(typeof y!="string")throw new TypeError("string cannot be undefined or null");const w=[];let S=0,E=0;for(;S<y.length;)E+=o(S+E,y),h(y[S+E])&&E++,u(y[S+E])&&E++,d(y[S+E])&&E++,p(y[S+E])?E++:(w.push(y.substring(S,S+E)),S+=E,E=0);return w}function o(y,w){const S=w[y];if(!function(N){return N&&v(N[0].charCodeAt(0),55296,56319)}(S)||y===w.length-1)return 1;const E=S+w[y+1];let k=w.substring(y+2,y+5);return l(E)&&l(k)?4:function(N){return v(m(N),127988,127988)}(E)&&function(N){const z=N.codePointAt(0);return typeof N=="string"&&typeof z=="number"&&v(z,917504,917631)}(k)?w.slice(y).indexOf(String.fromCodePoint(917631))+2:function(N){return v(m(N),127995,127999)}(k)?4:2}function l(y){return v(m(y),127462,127487)}function u(y){return typeof y=="string"&&v(y.charCodeAt(0),65024,65039)}function d(y){return typeof y=="string"&&v(y.charCodeAt(0),8400,8447)}function h(y){return typeof y=="string"&&e.includes(y.charCodeAt(0))}function p(y){return typeof y=="string"&&y.charCodeAt(0)===8205}function m(y){return(y.charCodeAt(0)-55296<<10)+(y.charCodeAt(1)-56320)+65536}function v(y,w,S){return y>=w&&y<=S}function b(y,w,S){const E=i(y);if(w===void 0)return y;if(w>=E.length)return"";const k=E.length-w;let O=w+(S===void 0?k:S);return O>w+k&&(O=void 0),E.slice(w,O).join("")}return function(y){y[y.unit_1=1]="unit_1",y[y.unit_2=2]="unit_2",y[y.unit_4=4]="unit_4"}(t||(t={})),Object.defineProperty(i,"runes",{value:i}),Object.defineProperty(i,"default",{value:i}),Object.defineProperty(i,"__esModule",{value:!0}),Object.defineProperty(i,"substr",{value:b}),Object.defineProperty(i,"substring",{value:b}),Object.defineProperty(i,"EnumRunesCode",{value:r}),Object.defineProperty(i,"EnumCodeUnits",{value:t}),Object.defineProperty(i,"GRAPHEMES",{value:e}),gc.exports=i,gc.exports}var Gg;function zT(){return Gg||(Gg=1,pc.exports=FT()),pc.exports}var Yg;function zy(){return Yg||(Yg=1,function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=t;var e=zT();function t(i){for(var o=[],l=75;(0,e.runes)(i).length>l;)o.push((0,e.substring)(i,0,l)),i=(0,e.substring)(i,l),l=74;return o.push(i),o.join(`\r
	`)}}(fc)),fc}var mc={},Jg;function By(){return Jg||(Jg=1,function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=e;function e(t){return t.replace(/\r?\n/gm,"\\n")}}(mc)),mc}var Qg;function BT(){return Qg||(Qg=1,function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=h;var e=o(Fy()),t=o(zy()),i=o(By());function o(p){return p&&p.__esModule?p:{default:p}}function l(p){var m=p.weeks,v=p.days,b=p.hours,y=p.minutes,w=p.seconds,S="P";return S+=m?"".concat(m,"W"):"",S+=v?"".concat(v,"D"):"",S+="T",S+=b?"".concat(b,"H"):"",S+=y?"".concat(y,"M"):"",S+=w?"".concat(w,"S"):"",S}function u(p){var m="";if(Array.isArray(p)||typeof p=="number"||typeof p=="string")m="TRIGGER;VALUE=DATE-TIME:".concat((0,i.default)((0,e.default)(p)),`\r
`);else{var v=p.before?"-":"";m="TRIGGER:".concat((0,i.default)(v+l(p)),`\r
`)}return m}function d(p){return p.toUpperCase()}function h(){var p=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},m=p.action,v=p.repeat,b=p.description,y=p.duration,w=p.attach,S=p.attachType,E=p.trigger,k=p.summary,O=`BEGIN:VALARM\r
`;O+=(0,t.default)("ACTION:".concat((0,i.default)(d(m))))+`\r
`,O+=v?(0,t.default)("REPEAT:".concat(v))+`\r
`:"",O+=b?(0,t.default)("DESCRIPTION:".concat((0,i.default)(b)))+`\r
`:"",O+=y?(0,t.default)("DURATION:".concat(l(y)))+`\r
`:"";var N=S||"FMTTYPE=audio/basic";return O+=w?(0,t.default)((0,i.default)("ATTACH;".concat(N,":").concat(w)))+`\r
`:"",O+=E?u(E):"",O+=k?(0,t.default)("SUMMARY:".concat((0,i.default)(k)))+`\r
`:"",O+=`END:VALARM\r
`,O}}(hc)),hc}var yc={},vc={},Xg;function Od(){return Xg||(Xg=1,function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=e;function e(t){return t.replace(/\\/gm,"\\\\").replace(/\r?\n/gm,"\\n").replace(/;/gm,"\\;").replace(/,/gm,"\\,")}}(vc)),vc}var Zg;function HT(){return Zg||(Zg=1,function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=i;var e=t(Od());function t(o){return o&&o.__esModule?o:{default:o}}function i(o){return(0,e.default)(o)}}(yc)),yc}var wc={},em;function WT(){return em||(em=1,function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=i;var e=t(Od());function t(o){return o&&o.__esModule?o:{default:o}}function i(o){return(0,e.default)(o)}}(wc)),wc}var _c={},tm;function qT(){return tm||(tm=1,function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=e;function e(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=t.weeks,o=t.days,l=t.hours,u=t.minutes,d=t.seconds,h="P";return h+=i?"".concat(i,"W"):"",h+=o?"".concat(o,"D"):"",h+="T",h+=l?"".concat(l,"H"):"",h+=u?"".concat(u,"M"):"",h+=d?"".concat(d,"S"):"",h}}(_c)),_c}var Sc={},rm;function VT(){return rm||(rm=1,function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=i;var e=t(Od());function t(o){return o&&o.__esModule?o:{default:o}}function i(o){return(0,e.default)(o)}}(Sc)),Sc}var nm;function KT(){return nm||(nm=1,function(r){Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"encodeParamValue",{enumerable:!0,get:function(){return v.default}}),Object.defineProperty(r,"foldLine",{enumerable:!0,get:function(){return p.default}}),Object.defineProperty(r,"formatDate",{enumerable:!0,get:function(){return e.default}}),Object.defineProperty(r,"formatDuration",{enumerable:!0,get:function(){return h.default}}),Object.defineProperty(r,"setAlarm",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(r,"setContact",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(r,"setDescription",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(r,"setGeolocation",{enumerable:!0,get:function(){return t.default}}),Object.defineProperty(r,"setLocation",{enumerable:!0,get:function(){return m.default}}),Object.defineProperty(r,"setOrganizer",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(r,"setSummary",{enumerable:!0,get:function(){return d.default}});var e=b(Fy()),t=b($T()),i=b(LT()),o=b(UT()),l=b(BT()),u=b(HT()),d=b(WT()),h=b(qT()),p=b(zy()),m=b(VT()),v=b(Td());function b(y){return y&&y.__esModule?y:{default:y}}}(oc)),oc}var im;function GT(){if(im)return ii;im=1,Object.defineProperty(ii,"__esModule",{value:!0}),ii.formatEvent=l,ii.formatFooter=o,ii.formatHeader=i;var r=KT(),e=t(By());function t(u){return u&&u.__esModule?u:{default:u}}function i(){var u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},d=u.productId,h=u.method,p=u.calName,m="";return m+=`BEGIN:VCALENDAR\r
`,m+=`VERSION:2.0\r
`,m+=`CALSCALE:GREGORIAN\r
`,m+=(0,r.foldLine)("PRODID:".concat((0,e.default)(d)))+`\r
`,m+=(0,r.foldLine)("METHOD:".concat((0,e.default)(h)))+`\r
`,m+=p?(0,r.foldLine)("X-WR-CALNAME:".concat((0,e.default)(p)))+`\r
`:"",m+=`X-PUBLISHED-TTL:PT1H\r
`,m}function o(){return`END:VCALENDAR\r
`}function l(){var u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},d=u.title,h=u.uid,p=u.sequence,m=u.timestamp,v=u.start,b=u.startType,y=u.startInputType,w=u.startOutputType,S=u.duration,E=u.end,k=u.endInputType,O=u.endOutputType,N=u.description,z=u.url,F=u.geo,U=u.location,j=u.status,V=u.categories,Z=u.organizer,ie=u.attendees,D=u.alarms,q=u.recurrenceRule,ee=u.exclusionDates,re=u.busyStatus,C=u.transp,$=u.classification,K=u.created,W=u.lastModified,G=u.htmlContent,M="";return M+=`BEGIN:VEVENT\r
`,M+=(0,r.foldLine)("UID:".concat((0,e.default)(h)))+`\r
`,M+=d?(0,r.foldLine)("SUMMARY:".concat((0,e.default)((0,r.setSummary)(d))))+`\r
`:"",M+=(0,r.foldLine)("DTSTAMP:".concat((0,e.default)((0,r.formatDate)(m))))+`\r
`,M+=(0,r.foldLine)("DTSTART".concat(v&&v.length==3?";VALUE=DATE":"",":").concat((0,e.default)((0,r.formatDate)(v,w||b,y))))+`\r
`,(!E||E.length!==3||v.length!==E.length||v.some(function(R,Y){return R!==E[Y]}))&&E&&(M+=(0,r.foldLine)("DTEND".concat(E.length===3?";VALUE=DATE":"",":").concat((0,e.default)((0,r.formatDate)(E,O||w||b,k||y))))+`\r
`),M+=typeof p<"u"?"SEQUENCE:".concat(p,`\r
`):"",M+=N?(0,r.foldLine)("DESCRIPTION:".concat((0,e.default)((0,r.setDescription)(N))))+`\r
`:"",M+=z?(0,r.foldLine)("URL:".concat((0,e.default)(z)))+`\r
`:"",M+=F?(0,r.foldLine)("GEO:".concat((0,r.setGeolocation)(F)))+`\r
`:"",M+=U?(0,r.foldLine)("LOCATION:".concat((0,e.default)((0,r.setLocation)(U))))+`\r
`:"",M+=j?(0,r.foldLine)("STATUS:".concat((0,e.default)(j)))+`\r
`:"",M+=V?(0,r.foldLine)("CATEGORIES:".concat((0,e.default)(V.join(","))))+`\r
`:"",M+=Z?(0,r.foldLine)("ORGANIZER;".concat((0,r.setOrganizer)(Z)))+`\r
`:"",M+=re?(0,r.foldLine)("X-MICROSOFT-CDO-BUSYSTATUS:".concat((0,e.default)(re)))+`\r
`:"",M+=C?(0,r.foldLine)("TRANSP:".concat((0,e.default)(C)))+`\r
`:"",M+=$?(0,r.foldLine)("CLASS:".concat((0,e.default)($)))+`\r
`:"",M+=K?"CREATED:"+(0,e.default)((0,r.formatDate)(K))+`\r
`:"",M+=W?"LAST-MODIFIED:"+(0,e.default)((0,r.formatDate)(W))+`\r
`:"",M+=G?(0,r.foldLine)("X-ALT-DESC;FMTTYPE=text/html:".concat((0,e.default)(G)))+`\r
`:"",ie&&ie.forEach(function(R){M+=(0,r.foldLine)("ATTENDEE;".concat((0,e.default)((0,r.setContact)(R))))+`\r
`}),M+=q?(0,r.foldLine)("RRULE:".concat((0,e.default)(q)))+`\r
`:"",M+=ee?(0,r.foldLine)("EXDATE:".concat((0,e.default)(ee.map(function(R){return(0,r.formatDate)(R)}).join(","))))+`\r
`:"",M+=S?(0,r.foldLine)("DURATION:".concat((0,r.formatDuration)(S)))+`\r
`:"",D&&D.forEach(function(R){M+=(0,r.setAlarm)(R)}),M+=`END:VEVENT\r
`,M}return ii}var bc={},dn={},Ec,sm;function YT(){if(sm)return Ec;sm=1;function r(k){this._maxSize=k,this.clear()}r.prototype.clear=function(){this._size=0,this._values=Object.create(null)},r.prototype.get=function(k){return this._values[k]},r.prototype.set=function(k,O){return this._size>=this._maxSize&&this.clear(),k in this._values||this._size++,this._values[k]=O};var e=/[^.^\]^[]+|(?=\[\]|\.\.)/g,t=/^\d+$/,i=/^\d/,o=/[~`!#$%\^&*+=\-\[\]\\';,/{}|\\":<>\?]/g,l=/^\s*(['"]?)(.*?)(\1)\s*$/,u=512,d=new r(u),h=new r(u),p=new r(u);Ec={Cache:r,split:v,normalizePath:m,setter:function(k){var O=m(k);return h.get(k)||h.set(k,function(z,F){for(var U=0,j=O.length,V=z;U<j-1;){var Z=O[U];if(Z==="__proto__"||Z==="constructor"||Z==="prototype")return z;V=V[O[U++]]}V[O[U]]=F})},getter:function(k,O){var N=m(k);return p.get(k)||p.set(k,function(F){for(var U=0,j=N.length;U<j;)if(F!=null||!O)F=F[N[U++]];else return;return F})},join:function(k){return k.reduce(function(O,N){return O+(y(N)||t.test(N)?"["+N+"]":(O?".":"")+N)},"")},forEach:function(k,O,N){b(Array.isArray(k)?k:v(k),O,N)}};function m(k){return d.get(k)||d.set(k,v(k).map(function(O){return O.replace(l,"$2")}))}function v(k){return k.match(e)||[""]}function b(k,O,N){var z=k.length,F,U,j,V;for(U=0;U<z;U++)F=k[U],F&&(E(F)&&(F='"'+F+'"'),V=y(F),j=!V&&/^\d+$/.test(F),O.call(N,F,V,j,U,k))}function y(k){return typeof k=="string"&&k&&["'",'"'].indexOf(k.charAt(0))!==-1}function w(k){return k.match(i)&&!k.match(t)}function S(k){return o.test(k)}function E(k){return!y(k)&&(w(k)||S(k))}return Ec}var _n=YT(),kc,om;function JT(){if(om)return kc;om=1;const r=/[A-Z\xc0-\xd6\xd8-\xde]?[a-z\xdf-\xf6\xf8-\xff]+(?:['](?:d|ll|m|re|s|t|ve))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde]|$)|(?:[A-Z\xc0-\xd6\xd8-\xde]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['](?:D|LL|M|RE|S|T|VE))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde](?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])|$)|[A-Z\xc0-\xd6\xd8-\xde]?(?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['](?:d|ll|m|re|s|t|ve))?|[A-Z\xc0-\xd6\xd8-\xde]+(?:['](?:D|LL|M|RE|S|T|VE))?|\d*(?:1ST|2ND|3RD|(?![123])\dTH)(?=\b|[a-z_])|\d*(?:1st|2nd|3rd|(?![123])\dth)(?=\b|[A-Z_])|\d+|(?:[\u2700-\u27bf]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?(?:\u200d(?:[^\ud800-\udfff]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?)*/g,e=m=>m.match(r)||[],t=m=>m[0].toUpperCase()+m.slice(1),i=(m,v)=>e(m).join(v).toLowerCase(),o=m=>e(m).reduce((v,b)=>`${v}${v?b[0].toUpperCase()+b.slice(1).toLowerCase():b.toLowerCase()}`,"");return kc={words:e,upperFirst:t,camelCase:o,pascalCase:m=>t(o(m)),snakeCase:m=>i(m,"_"),kebabCase:m=>i(m,"-"),sentenceCase:m=>t(i(m," ")),titleCase:m=>e(m).map(t).join(" ")},kc}var xc=JT(),Go={exports:{}},am;function QT(){if(am)return Go.exports;am=1,Go.exports=function(o){return r(e(o),o)},Go.exports.array=r;function r(o,l){var u=o.length,d=new Array(u),h={},p=u,m=t(l),v=i(o);for(l.forEach(function(y){if(!v.has(y[0])||!v.has(y[1]))throw new Error("Unknown node. There is an unknown node in the supplied edges.")});p--;)h[p]||b(o[p],p,new Set);return d;function b(y,w,S){if(S.has(y)){var E;try{E=", node was:"+JSON.stringify(y)}catch{E=""}throw new Error("Cyclic dependency"+E)}if(!v.has(y))throw new Error("Found unknown node. Make sure to provided all involved nodes. Unknown node: "+JSON.stringify(y));if(!h[w]){h[w]=!0;var k=m.get(y)||new Set;if(k=Array.from(k),w=k.length){S.add(y);do{var O=k[--w];b(O,v.get(O),S)}while(w);S.delete(y)}d[--u]=y}}}function e(o){for(var l=new Set,u=0,d=o.length;u<d;u++){var h=o[u];l.add(h[0]),l.add(h[1])}return Array.from(l)}function t(o){for(var l=new Map,u=0,d=o.length;u<d;u++){var h=o[u];l.has(h[0])||l.set(h[0],new Set),l.has(h[1])||l.set(h[1],new Set),l.get(h[0]).add(h[1])}return l}function i(o){for(var l=new Map,u=0,d=o.length;u<d;u++)l.set(o[u],u);return l}return Go.exports}var XT=QT();const ZT=Ta(XT),eO=Object.prototype.toString,tO=Error.prototype.toString,rO=RegExp.prototype.toString,nO=typeof Symbol<"u"?Symbol.prototype.toString:()=>"",iO=/^Symbol\((.*)\)(.*)$/;function sO(r){return r!=+r?"NaN":r===0&&1/r<0?"-0":""+r}function lm(r,e=!1){if(r==null||r===!0||r===!1)return""+r;const t=typeof r;if(t==="number")return sO(r);if(t==="string")return e?`"${r}"`:r;if(t==="function")return"[Function "+(r.name||"anonymous")+"]";if(t==="symbol")return nO.call(r).replace(iO,"Symbol($1)");const i=eO.call(r).slice(8,-1);return i==="Date"?isNaN(r.getTime())?""+r:r.toISOString(r):i==="Error"||r instanceof Error?"["+tO.call(r)+"]":i==="RegExp"?rO.call(r):null}function Zt(r,e){let t=lm(r,e);return t!==null?t:JSON.stringify(r,function(i,o){let l=lm(this[i],e);return l!==null?l:o},2)}function Hy(r){return r==null?[]:[].concat(r)}let Wy,qy,Vy,oO=/\$\{\s*(\w+)\s*\}/g;Wy=Symbol.toStringTag;class um{constructor(e,t,i,o){this.name=void 0,this.message=void 0,this.value=void 0,this.path=void 0,this.type=void 0,this.params=void 0,this.errors=void 0,this.inner=void 0,this[Wy]="Error",this.name="ValidationError",this.value=t,this.path=i,this.type=o,this.errors=[],this.inner=[],Hy(e).forEach(l=>{if(rt.isError(l)){this.errors.push(...l.errors);const u=l.inner.length?l.inner:[l];this.inner.push(...u)}else this.errors.push(l)}),this.message=this.errors.length>1?`${this.errors.length} errors occurred`:this.errors[0]}}qy=Symbol.hasInstance;Vy=Symbol.toStringTag;class rt extends Error{static formatError(e,t){const i=t.label||t.path||"this";return t=Object.assign({},t,{path:i,originalPath:t.path}),typeof e=="string"?e.replace(oO,(o,l)=>Zt(t[l])):typeof e=="function"?e(t):e}static isError(e){return e&&e.name==="ValidationError"}constructor(e,t,i,o,l){const u=new um(e,t,i,o);if(l)return u;super(),this.value=void 0,this.path=void 0,this.type=void 0,this.params=void 0,this.errors=[],this.inner=[],this[Vy]="Error",this.name=u.name,this.message=u.message,this.type=u.type,this.value=u.value,this.path=u.path,this.errors=u.errors,this.inner=u.inner,Error.captureStackTrace&&Error.captureStackTrace(this,rt)}static[qy](e){return um[Symbol.hasInstance](e)||super[Symbol.hasInstance](e)}}let Xt={default:"${path} is invalid",required:"${path} is a required field",defined:"${path} must be defined",notNull:"${path} cannot be null",oneOf:"${path} must be one of the following values: ${values}",notOneOf:"${path} must not be one of the following values: ${values}",notType:({path:r,type:e,value:t,originalValue:i})=>{const o=i!=null&&i!==t?` (cast from the value \`${Zt(i,!0)}\`).`:".";return e!=="mixed"?`${r} must be a \`${e}\` type, but the final value was: \`${Zt(t,!0)}\``+o:`${r} must match the configured type. The validated value was: \`${Zt(t,!0)}\``+o}},mt={length:"${path} must be exactly ${length} characters",min:"${path} must be at least ${min} characters",max:"${path} must be at most ${max} characters",matches:'${path} must match the following: "${regex}"',email:"${path} must be a valid email",url:"${path} must be a valid URL",uuid:"${path} must be a valid UUID",datetime:"${path} must be a valid ISO date-time",datetime_precision:"${path} must be a valid ISO date-time with a sub-second precision of exactly ${precision} digits",datetime_offset:'${path} must be a valid ISO date-time with UTC "Z" timezone',trim:"${path} must be a trimmed string",lowercase:"${path} must be a lowercase string",uppercase:"${path} must be a upper case string"},$r={min:"${path} must be greater than or equal to ${min}",max:"${path} must be less than or equal to ${max}",lessThan:"${path} must be less than ${less}",moreThan:"${path} must be greater than ${more}",positive:"${path} must be a positive number",negative:"${path} must be a negative number",integer:"${path} must be an integer"},Jc={min:"${path} field must be later than ${min}",max:"${path} field must be at earlier than ${max}"},Qc={isValue:"${path} field must be ${value}"},sa={noUnknown:"${path} field has unspecified keys: ${unknown}",exact:"${path} object contains unknown properties: ${properties}"},oa={min:"${path} field must have at least ${min} items",max:"${path} field must have less than or equal to ${max} items",length:"${path} must have ${length} items"},Ky={notType:r=>{const{path:e,value:t,spec:i}=r,o=i.types.length;if(Array.isArray(t)){if(t.length<o)return`${e} tuple value has too few items, expected a length of ${o} but got ${t.length} for value: \`${Zt(t,!0)}\``;if(t.length>o)return`${e} tuple value has too many items, expected a length of ${o} but got ${t.length} for value: \`${Zt(t,!0)}\``}return rt.formatError(Xt.notType,r)}};var Gy=Object.assign(Object.create(null),{mixed:Xt,string:mt,number:$r,date:Jc,object:sa,array:oa,boolean:Qc,tuple:Ky});const En=r=>r&&r.__isYupSchema__;class Sa{static fromOptions(e,t){if(!t.then&&!t.otherwise)throw new TypeError("either `then:` or `otherwise:` is required for `when()` conditions");let{is:i,then:o,otherwise:l}=t,u=typeof i=="function"?i:(...d)=>d.every(h=>h===i);return new Sa(e,(d,h)=>{var p;let m=u(...d)?o:l;return(p=m==null?void 0:m(h))!=null?p:h})}constructor(e,t){this.fn=void 0,this.refs=e,this.refs=e,this.fn=t}resolve(e,t){let i=this.refs.map(l=>l.getValue(t==null?void 0:t.value,t==null?void 0:t.parent,t==null?void 0:t.context)),o=this.fn(i,e,t);if(o===void 0||o===e)return e;if(!En(o))throw new TypeError("conditions must return a schema object");return o.resolve(t)}}const Yo={context:"$",value:"."};function aO(r,e){return new Vr(r,e)}class Vr{constructor(e,t={}){if(this.key=void 0,this.isContext=void 0,this.isValue=void 0,this.isSibling=void 0,this.path=void 0,this.getter=void 0,this.map=void 0,typeof e!="string")throw new TypeError("ref must be a string, got: "+e);if(this.key=e.trim(),e==="")throw new TypeError("ref must be a non-empty string");this.isContext=this.key[0]===Yo.context,this.isValue=this.key[0]===Yo.value,this.isSibling=!this.isContext&&!this.isValue;let i=this.isContext?Yo.context:this.isValue?Yo.value:"";this.path=this.key.slice(i.length),this.getter=this.path&&_n.getter(this.path,!0),this.map=t.map}getValue(e,t,i){let o=this.isContext?i:this.isValue?e:t;return this.getter&&(o=this.getter(o||{})),this.map&&(o=this.map(o)),o}cast(e,t){return this.getValue(e,t==null?void 0:t.parent,t==null?void 0:t.context)}resolve(){return this}describe(){return{type:"ref",key:this.key}}toString(){return`Ref(${this.key})`}static isRef(e){return e&&e.__isYupRef}}Vr.prototype.__isYupRef=!0;const Vt=r=>r==null;function si(r){function e({value:t,path:i="",options:o,originalValue:l,schema:u},d,h){const{name:p,test:m,params:v,message:b,skipAbsent:y}=r;let{parent:w,context:S,abortEarly:E=u.spec.abortEarly,disableStackTrace:k=u.spec.disableStackTrace}=o;function O(D){return Vr.isRef(D)?D.getValue(t,w,S):D}function N(D={}){const q=Object.assign({value:t,originalValue:l,label:u.spec.label,path:D.path||i,spec:u.spec,disableStackTrace:D.disableStackTrace||k},v,D.params);for(const re of Object.keys(q))q[re]=O(q[re]);const ee=new rt(rt.formatError(D.message||b,q),t,q.path,D.type||p,q.disableStackTrace);return ee.params=q,ee}const z=E?d:h;let F={path:i,parent:w,type:p,from:o.from,createError:N,resolve:O,options:o,originalValue:l,schema:u};const U=D=>{rt.isError(D)?z(D):D?h(null):z(N())},j=D=>{rt.isError(D)?z(D):d(D)};if(y&&Vt(t))return U(!0);let Z;try{var ie;if(Z=m.call(F,t,F),typeof((ie=Z)==null?void 0:ie.then)=="function"){if(o.sync)throw new Error(`Validation test of type: "${F.type}" returned a Promise during a synchronous validate. This test will finish after the validate call has returned`);return Promise.resolve(Z).then(U,j)}}catch(D){j(D);return}U(Z)}return e.OPTIONS=r,e}function Cd(r,e,t,i=t){let o,l,u;return e?(_n.forEach(e,(d,h,p)=>{let m=h?d.slice(1,d.length-1):d;r=r.resolve({context:i,parent:o,value:t});let v=r.type==="tuple",b=p?parseInt(m,10):0;if(r.innerType||v){if(v&&!p)throw new Error(`Yup.reach cannot implicitly index into a tuple type. the path part "${u}" must contain an index to the tuple element, e.g. "${u}[0]"`);if(t&&b>=t.length)throw new Error(`Yup.reach cannot resolve an array item at index: ${d}, in the path: ${e}. because there is no value at that index. `);o=t,t=t&&t[b],r=v?r.spec.types[b]:r.innerType}if(!p){if(!r.fields||!r.fields[m])throw new Error(`The schema does not contain the path: ${e}. (failed at: ${u} which is a type: "${r.type}")`);o=t,t=t&&t[m],r=r.fields[m]}l=m,u=h?"["+d+"]":"."+d}),{schema:r,parent:o,parentPath:l}):{parent:o,parentPath:e,schema:r}}function lO(r,e,t,i){return Cd(r,e,t,i).schema}class ba extends Set{describe(){const e=[];for(const t of this.values())e.push(Vr.isRef(t)?t.describe():t);return e}resolveAll(e){let t=[];for(const i of this.values())t.push(e(i));return t}clone(){return new ba(this.values())}merge(e,t){const i=this.clone();return e.forEach(o=>i.add(o)),t.forEach(o=>i.delete(o)),i}}function di(r,e=new Map){if(En(r)||!r||typeof r!="object")return r;if(e.has(r))return e.get(r);let t;if(r instanceof Date)t=new Date(r.getTime()),e.set(r,t);else if(r instanceof RegExp)t=new RegExp(r),e.set(r,t);else if(Array.isArray(r)){t=new Array(r.length),e.set(r,t);for(let i=0;i<r.length;i++)t[i]=di(r[i],e)}else if(r instanceof Map){t=new Map,e.set(r,t);for(const[i,o]of r.entries())t.set(i,di(o,e))}else if(r instanceof Set){t=new Set,e.set(r,t);for(const i of r)t.add(di(i,e))}else if(r instanceof Object){t={},e.set(r,t);for(const[i,o]of Object.entries(r))t[i]=di(o,e)}else throw Error(`Unable to clone ${r}`);return t}class at{constructor(e){this.type=void 0,this.deps=[],this.tests=void 0,this.transforms=void 0,this.conditions=[],this._mutate=void 0,this.internalTests={},this._whitelist=new ba,this._blacklist=new ba,this.exclusiveTests=Object.create(null),this._typeCheck=void 0,this.spec=void 0,this.tests=[],this.transforms=[],this.withMutation(()=>{this.typeError(Xt.notType)}),this.type=e.type,this._typeCheck=e.check,this.spec=Object.assign({strip:!1,strict:!1,abortEarly:!0,recursive:!0,disableStackTrace:!1,nullable:!1,optional:!0,coerce:!0},e==null?void 0:e.spec),this.withMutation(t=>{t.nonNullable()})}get _type(){return this.type}clone(e){if(this._mutate)return e&&Object.assign(this.spec,e),this;const t=Object.create(Object.getPrototypeOf(this));return t.type=this.type,t._typeCheck=this._typeCheck,t._whitelist=this._whitelist.clone(),t._blacklist=this._blacklist.clone(),t.internalTests=Object.assign({},this.internalTests),t.exclusiveTests=Object.assign({},this.exclusiveTests),t.deps=[...this.deps],t.conditions=[...this.conditions],t.tests=[...this.tests],t.transforms=[...this.transforms],t.spec=di(Object.assign({},this.spec,e)),t}label(e){let t=this.clone();return t.spec.label=e,t}meta(...e){if(e.length===0)return this.spec.meta;let t=this.clone();return t.spec.meta=Object.assign(t.spec.meta||{},e[0]),t}withMutation(e){let t=this._mutate;this._mutate=!0;let i=e(this);return this._mutate=t,i}concat(e){if(!e||e===this)return this;if(e.type!==this.type&&this.type!=="mixed")throw new TypeError(`You cannot \`concat()\` schema's of different types: ${this.type} and ${e.type}`);let t=this,i=e.clone();const o=Object.assign({},t.spec,i.spec);return i.spec=o,i.internalTests=Object.assign({},t.internalTests,i.internalTests),i._whitelist=t._whitelist.merge(e._whitelist,e._blacklist),i._blacklist=t._blacklist.merge(e._blacklist,e._whitelist),i.tests=t.tests,i.exclusiveTests=t.exclusiveTests,i.withMutation(l=>{e.tests.forEach(u=>{l.test(u.OPTIONS)})}),i.transforms=[...t.transforms,...i.transforms],i}isType(e){return e==null?!!(this.spec.nullable&&e===null||this.spec.optional&&e===void 0):this._typeCheck(e)}resolve(e){let t=this;if(t.conditions.length){let i=t.conditions;t=t.clone(),t.conditions=[],t=i.reduce((o,l)=>l.resolve(o,e),t),t=t.resolve(e)}return t}resolveOptions(e){var t,i,o,l;return Object.assign({},e,{from:e.from||[],strict:(t=e.strict)!=null?t:this.spec.strict,abortEarly:(i=e.abortEarly)!=null?i:this.spec.abortEarly,recursive:(o=e.recursive)!=null?o:this.spec.recursive,disableStackTrace:(l=e.disableStackTrace)!=null?l:this.spec.disableStackTrace})}cast(e,t={}){let i=this.resolve(Object.assign({value:e},t)),o=t.assert==="ignore-optionality",l=i._cast(e,t);if(t.assert!==!1&&!i.isType(l)){if(o&&Vt(l))return l;let u=Zt(e),d=Zt(l);throw new TypeError(`The value of ${t.path||"field"} could not be cast to a value that satisfies the schema type: "${i.type}". 

attempted value: ${u} 
`+(d!==u?`result of cast: ${d}`:""))}return l}_cast(e,t){let i=e===void 0?e:this.transforms.reduce((o,l)=>l.call(this,o,e,this),e);return i===void 0&&(i=this.getDefault(t)),i}_validate(e,t={},i,o){let{path:l,originalValue:u=e,strict:d=this.spec.strict}=t,h=e;d||(h=this._cast(h,Object.assign({assert:!1},t)));let p=[];for(let m of Object.values(this.internalTests))m&&p.push(m);this.runTests({path:l,value:h,originalValue:u,options:t,tests:p},i,m=>{if(m.length)return o(m,h);this.runTests({path:l,value:h,originalValue:u,options:t,tests:this.tests},i,o)})}runTests(e,t,i){let o=!1,{tests:l,value:u,originalValue:d,path:h,options:p}=e,m=S=>{o||(o=!0,t(S,u))},v=S=>{o||(o=!0,i(S,u))},b=l.length,y=[];if(!b)return v([]);let w={value:u,originalValue:d,path:h,options:p,schema:this};for(let S=0;S<l.length;S++){const E=l[S];E(w,m,function(O){O&&(Array.isArray(O)?y.push(...O):y.push(O)),--b<=0&&v(y)})}}asNestedTest({key:e,index:t,parent:i,parentPath:o,originalParent:l,options:u}){const d=e??t;if(d==null)throw TypeError("Must include `key` or `index` for nested validations");const h=typeof d=="number";let p=i[d];const m=Object.assign({},u,{strict:!0,parent:i,value:p,originalValue:l[d],key:void 0,[h?"index":"key"]:d,path:h||d.includes(".")?`${o||""}[${h?d:`"${d}"`}]`:(o?`${o}.`:"")+e});return(v,b,y)=>this.resolve(m)._validate(p,m,b,y)}validate(e,t){var i;let o=this.resolve(Object.assign({},t,{value:e})),l=(i=t==null?void 0:t.disableStackTrace)!=null?i:o.spec.disableStackTrace;return new Promise((u,d)=>o._validate(e,t,(h,p)=>{rt.isError(h)&&(h.value=p),d(h)},(h,p)=>{h.length?d(new rt(h,p,void 0,void 0,l)):u(p)}))}validateSync(e,t){var i;let o=this.resolve(Object.assign({},t,{value:e})),l,u=(i=t==null?void 0:t.disableStackTrace)!=null?i:o.spec.disableStackTrace;return o._validate(e,Object.assign({},t,{sync:!0}),(d,h)=>{throw rt.isError(d)&&(d.value=h),d},(d,h)=>{if(d.length)throw new rt(d,e,void 0,void 0,u);l=h}),l}isValid(e,t){return this.validate(e,t).then(()=>!0,i=>{if(rt.isError(i))return!1;throw i})}isValidSync(e,t){try{return this.validateSync(e,t),!0}catch(i){if(rt.isError(i))return!1;throw i}}_getDefault(e){let t=this.spec.default;return t==null?t:typeof t=="function"?t.call(this,e):di(t)}getDefault(e){return this.resolve(e||{})._getDefault(e)}default(e){return arguments.length===0?this._getDefault():this.clone({default:e})}strict(e=!0){return this.clone({strict:e})}nullability(e,t){const i=this.clone({nullable:e});return i.internalTests.nullable=si({message:t,name:"nullable",test(o){return o===null?this.schema.spec.nullable:!0}}),i}optionality(e,t){const i=this.clone({optional:e});return i.internalTests.optionality=si({message:t,name:"optionality",test(o){return o===void 0?this.schema.spec.optional:!0}}),i}optional(){return this.optionality(!0)}defined(e=Xt.defined){return this.optionality(!1,e)}nullable(){return this.nullability(!0)}nonNullable(e=Xt.notNull){return this.nullability(!1,e)}required(e=Xt.required){return this.clone().withMutation(t=>t.nonNullable(e).defined(e))}notRequired(){return this.clone().withMutation(e=>e.nullable().optional())}transform(e){let t=this.clone();return t.transforms.push(e),t}test(...e){let t;if(e.length===1?typeof e[0]=="function"?t={test:e[0]}:t=e[0]:e.length===2?t={name:e[0],test:e[1]}:t={name:e[0],message:e[1],test:e[2]},t.message===void 0&&(t.message=Xt.default),typeof t.test!="function")throw new TypeError("`test` is a required parameters");let i=this.clone(),o=si(t),l=t.exclusive||t.name&&i.exclusiveTests[t.name]===!0;if(t.exclusive&&!t.name)throw new TypeError("Exclusive tests must provide a unique `name` identifying the test");return t.name&&(i.exclusiveTests[t.name]=!!t.exclusive),i.tests=i.tests.filter(u=>!(u.OPTIONS.name===t.name&&(l||u.OPTIONS.test===o.OPTIONS.test))),i.tests.push(o),i}when(e,t){!Array.isArray(e)&&typeof e!="string"&&(t=e,e=".");let i=this.clone(),o=Hy(e).map(l=>new Vr(l));return o.forEach(l=>{l.isSibling&&i.deps.push(l.key)}),i.conditions.push(typeof t=="function"?new Sa(o,t):Sa.fromOptions(o,t)),i}typeError(e){let t=this.clone();return t.internalTests.typeError=si({message:e,name:"typeError",skipAbsent:!0,test(i){return this.schema._typeCheck(i)?!0:this.createError({params:{type:this.schema.type}})}}),t}oneOf(e,t=Xt.oneOf){let i=this.clone();return e.forEach(o=>{i._whitelist.add(o),i._blacklist.delete(o)}),i.internalTests.whiteList=si({message:t,name:"oneOf",skipAbsent:!0,test(o){let l=this.schema._whitelist,u=l.resolveAll(this.resolve);return u.includes(o)?!0:this.createError({params:{values:Array.from(l).join(", "),resolved:u}})}}),i}notOneOf(e,t=Xt.notOneOf){let i=this.clone();return e.forEach(o=>{i._blacklist.add(o),i._whitelist.delete(o)}),i.internalTests.blacklist=si({message:t,name:"notOneOf",test(o){let l=this.schema._blacklist,u=l.resolveAll(this.resolve);return u.includes(o)?this.createError({params:{values:Array.from(l).join(", "),resolved:u}}):!0}}),i}strip(e=!0){let t=this.clone();return t.spec.strip=e,t}describe(e){const t=(e?this.resolve(e):this).clone(),{label:i,meta:o,optional:l,nullable:u}=t.spec;return{meta:o,label:i,optional:l,nullable:u,default:t.getDefault(e),type:t.type,oneOf:t._whitelist.describe(),notOneOf:t._blacklist.describe(),tests:t.tests.map(h=>({name:h.OPTIONS.name,params:h.OPTIONS.params})).filter((h,p,m)=>m.findIndex(v=>v.name===h.name)===p)}}}at.prototype.__isYupSchema__=!0;for(const r of["validate","validateSync"])at.prototype[`${r}At`]=function(e,t,i={}){const{parent:o,parentPath:l,schema:u}=Cd(this,e,t,i.context);return u[r](o&&o[l],Object.assign({},i,{parent:o,path:e}))};for(const r of["equals","is"])at.prototype[r]=at.prototype.oneOf;for(const r of["not","nope"])at.prototype[r]=at.prototype.notOneOf;const uO=()=>!0;function Yy(r){return new Pd(r)}class Pd extends at{constructor(e){super(typeof e=="function"?{type:"mixed",check:e}:Object.assign({type:"mixed",check:uO},e))}}Yy.prototype=Pd.prototype;function Xc(){return new Rd}class Rd extends at{constructor(){super({type:"boolean",check(e){return e instanceof Boolean&&(e=e.valueOf()),typeof e=="boolean"}}),this.withMutation(()=>{this.transform((e,t,i)=>{if(i.spec.coerce&&!i.isType(e)){if(/^(true|1)$/i.test(String(e)))return!0;if(/^(false|0)$/i.test(String(e)))return!1}return e})})}isTrue(e=Qc.isValue){return this.test({message:e,name:"is-value",exclusive:!0,params:{value:"true"},test(t){return Vt(t)||t===!0}})}isFalse(e=Qc.isValue){return this.test({message:e,name:"is-value",exclusive:!0,params:{value:"false"},test(t){return Vt(t)||t===!1}})}default(e){return super.default(e)}defined(e){return super.defined(e)}optional(){return super.optional()}required(e){return super.required(e)}notRequired(){return super.notRequired()}nullable(){return super.nullable()}nonNullable(e){return super.nonNullable(e)}strip(e){return super.strip(e)}}Xc.prototype=Rd.prototype;const cO=/^(\d{4}|[+-]\d{6})(?:-?(\d{2})(?:-?(\d{2}))?)?(?:[ T]?(\d{2}):?(\d{2})(?::?(\d{2})(?:[,.](\d{1,}))?)?(?:(Z)|([+-])(\d{2})(?::?(\d{2}))?)?)?$/;function dO(r){const e=Zc(r);if(!e)return Date.parse?Date.parse(r):Number.NaN;if(e.z===void 0&&e.plusMinus===void 0)return new Date(e.year,e.month,e.day,e.hour,e.minute,e.second,e.millisecond).valueOf();let t=0;return e.z!=="Z"&&e.plusMinus!==void 0&&(t=e.hourOffset*60+e.minuteOffset,e.plusMinus==="+"&&(t=0-t)),Date.UTC(e.year,e.month,e.day,e.hour,e.minute+t,e.second,e.millisecond)}function Zc(r){var e,t;const i=cO.exec(r);return i?{year:hr(i[1]),month:hr(i[2],1)-1,day:hr(i[3],1),hour:hr(i[4]),minute:hr(i[5]),second:hr(i[6]),millisecond:i[7]?hr(i[7].substring(0,3)):0,precision:(e=(t=i[7])==null?void 0:t.length)!=null?e:void 0,z:i[8]||void 0,plusMinus:i[9]||void 0,hourOffset:hr(i[10]),minuteOffset:hr(i[11])}:null}function hr(r,e=0){return Number(r)||e}let hO=/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,fO=/^((https?|ftp):)?\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i,pO=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,gO="^\\d{4}-\\d{2}-\\d{2}",mO="\\d{2}:\\d{2}:\\d{2}",yO="(([+-]\\d{2}(:?\\d{2})?)|Z)",vO=new RegExp(`${gO}T${mO}(\\.\\d+)?${yO}$`),wO=r=>Vt(r)||r===r.trim(),_O={}.toString();function Jy(){return new Dd}class Dd extends at{constructor(){super({type:"string",check(e){return e instanceof String&&(e=e.valueOf()),typeof e=="string"}}),this.withMutation(()=>{this.transform((e,t,i)=>{if(!i.spec.coerce||i.isType(e)||Array.isArray(e))return e;const o=e!=null&&e.toString?e.toString():e;return o===_O?e:o})})}required(e){return super.required(e).withMutation(t=>t.test({message:e||Xt.required,name:"required",skipAbsent:!0,test:i=>!!i.length}))}notRequired(){return super.notRequired().withMutation(e=>(e.tests=e.tests.filter(t=>t.OPTIONS.name!=="required"),e))}length(e,t=mt.length){return this.test({message:t,name:"length",exclusive:!0,params:{length:e},skipAbsent:!0,test(i){return i.length===this.resolve(e)}})}min(e,t=mt.min){return this.test({message:t,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(i){return i.length>=this.resolve(e)}})}max(e,t=mt.max){return this.test({name:"max",exclusive:!0,message:t,params:{max:e},skipAbsent:!0,test(i){return i.length<=this.resolve(e)}})}matches(e,t){let i=!1,o,l;return t&&(typeof t=="object"?{excludeEmptyString:i=!1,message:o,name:l}=t:o=t),this.test({name:l||"matches",message:o||mt.matches,params:{regex:e},skipAbsent:!0,test:u=>u===""&&i||u.search(e)!==-1})}email(e=mt.email){return this.matches(hO,{name:"email",message:e,excludeEmptyString:!0})}url(e=mt.url){return this.matches(fO,{name:"url",message:e,excludeEmptyString:!0})}uuid(e=mt.uuid){return this.matches(pO,{name:"uuid",message:e,excludeEmptyString:!1})}datetime(e){let t="",i,o;return e&&(typeof e=="object"?{message:t="",allowOffset:i=!1,precision:o=void 0}=e:t=e),this.matches(vO,{name:"datetime",message:t||mt.datetime,excludeEmptyString:!0}).test({name:"datetime_offset",message:t||mt.datetime_offset,params:{allowOffset:i},skipAbsent:!0,test:l=>{if(!l||i)return!0;const u=Zc(l);return u?!!u.z:!1}}).test({name:"datetime_precision",message:t||mt.datetime_precision,params:{precision:o},skipAbsent:!0,test:l=>{if(!l||o==null)return!0;const u=Zc(l);return u?u.precision===o:!1}})}ensure(){return this.default("").transform(e=>e===null?"":e)}trim(e=mt.trim){return this.transform(t=>t!=null?t.trim():t).test({message:e,name:"trim",test:wO})}lowercase(e=mt.lowercase){return this.transform(t=>Vt(t)?t:t.toLowerCase()).test({message:e,name:"string_case",exclusive:!0,skipAbsent:!0,test:t=>Vt(t)||t===t.toLowerCase()})}uppercase(e=mt.uppercase){return this.transform(t=>Vt(t)?t:t.toUpperCase()).test({message:e,name:"string_case",exclusive:!0,skipAbsent:!0,test:t=>Vt(t)||t===t.toUpperCase()})}}Jy.prototype=Dd.prototype;let SO=r=>r!=+r;function Qy(){return new Id}class Id extends at{constructor(){super({type:"number",check(e){return e instanceof Number&&(e=e.valueOf()),typeof e=="number"&&!SO(e)}}),this.withMutation(()=>{this.transform((e,t,i)=>{if(!i.spec.coerce)return e;let o=e;if(typeof o=="string"){if(o=o.replace(/\s/g,""),o==="")return NaN;o=+o}return i.isType(o)||o===null?o:parseFloat(o)})})}min(e,t=$r.min){return this.test({message:t,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(i){return i>=this.resolve(e)}})}max(e,t=$r.max){return this.test({message:t,name:"max",exclusive:!0,params:{max:e},skipAbsent:!0,test(i){return i<=this.resolve(e)}})}lessThan(e,t=$r.lessThan){return this.test({message:t,name:"max",exclusive:!0,params:{less:e},skipAbsent:!0,test(i){return i<this.resolve(e)}})}moreThan(e,t=$r.moreThan){return this.test({message:t,name:"min",exclusive:!0,params:{more:e},skipAbsent:!0,test(i){return i>this.resolve(e)}})}positive(e=$r.positive){return this.moreThan(0,e)}negative(e=$r.negative){return this.lessThan(0,e)}integer(e=$r.integer){return this.test({name:"integer",message:e,skipAbsent:!0,test:t=>Number.isInteger(t)})}truncate(){return this.transform(e=>Vt(e)?e:e|0)}round(e){var t;let i=["ceil","floor","round","trunc"];if(e=((t=e)==null?void 0:t.toLowerCase())||"round",e==="trunc")return this.truncate();if(i.indexOf(e.toLowerCase())===-1)throw new TypeError("Only valid options for round() are: "+i.join(", "));return this.transform(o=>Vt(o)?o:Math[e](o))}}Qy.prototype=Id.prototype;let Xy=new Date(""),bO=r=>Object.prototype.toString.call(r)==="[object Date]";function Ad(){return new vi}class vi extends at{constructor(){super({type:"date",check(e){return bO(e)&&!isNaN(e.getTime())}}),this.withMutation(()=>{this.transform((e,t,i)=>!i.spec.coerce||i.isType(e)||e===null?e:(e=dO(e),isNaN(e)?vi.INVALID_DATE:new Date(e)))})}prepareParam(e,t){let i;if(Vr.isRef(e))i=e;else{let o=this.cast(e);if(!this._typeCheck(o))throw new TypeError(`\`${t}\` must be a Date or a value that can be \`cast()\` to a Date`);i=o}return i}min(e,t=Jc.min){let i=this.prepareParam(e,"min");return this.test({message:t,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(o){return o>=this.resolve(i)}})}max(e,t=Jc.max){let i=this.prepareParam(e,"max");return this.test({message:t,name:"max",exclusive:!0,params:{max:e},skipAbsent:!0,test(o){return o<=this.resolve(i)}})}}vi.INVALID_DATE=Xy;Ad.prototype=vi.prototype;Ad.INVALID_DATE=Xy;function EO(r,e=[]){let t=[],i=new Set,o=new Set(e.map(([u,d])=>`${u}-${d}`));function l(u,d){let h=_n.split(u)[0];i.add(h),o.has(`${d}-${h}`)||t.push([d,h])}for(const u of Object.keys(r)){let d=r[u];i.add(u),Vr.isRef(d)&&d.isSibling?l(d.path,u):En(d)&&"deps"in d&&d.deps.forEach(h=>l(h,u))}return ZT.array(Array.from(i),t).reverse()}function cm(r,e){let t=1/0;return r.some((i,o)=>{var l;if((l=e.path)!=null&&l.includes(i))return t=o,!0}),t}function Zy(r){return(e,t)=>cm(r,e)-cm(r,t)}const ev=(r,e,t)=>{if(typeof r!="string")return r;let i=r;try{i=JSON.parse(r)}catch{}return t.isType(i)?i:r};function aa(r){if("fields"in r){const e={};for(const[t,i]of Object.entries(r.fields))e[t]=aa(i);return r.setFields(e)}if(r.type==="array"){const e=r.optional();return e.innerType&&(e.innerType=aa(e.innerType)),e}return r.type==="tuple"?r.optional().clone({types:r.spec.types.map(aa)}):"optional"in r?r.optional():r}const kO=(r,e)=>{const t=[..._n.normalizePath(e)];if(t.length===1)return t[0]in r;let i=t.pop(),o=_n.getter(_n.join(t),!0)(r);return!!(o&&i in o)};let dm=r=>Object.prototype.toString.call(r)==="[object Object]";function hm(r,e){let t=Object.keys(r.fields);return Object.keys(e).filter(i=>t.indexOf(i)===-1)}const xO=Zy([]);function tv(r){return new Nd(r)}class Nd extends at{constructor(e){super({type:"object",check(t){return dm(t)||typeof t=="function"}}),this.fields=Object.create(null),this._sortErrors=xO,this._nodes=[],this._excludedEdges=[],this.withMutation(()=>{e&&this.shape(e)})}_cast(e,t={}){var i;let o=super._cast(e,t);if(o===void 0)return this.getDefault(t);if(!this._typeCheck(o))return o;let l=this.fields,u=(i=t.stripUnknown)!=null?i:this.spec.noUnknown,d=[].concat(this._nodes,Object.keys(o).filter(v=>!this._nodes.includes(v))),h={},p=Object.assign({},t,{parent:h,__validating:t.__validating||!1}),m=!1;for(const v of d){let b=l[v],y=v in o;if(b){let w,S=o[v];p.path=(t.path?`${t.path}.`:"")+v,b=b.resolve({value:S,context:t.context,parent:h});let E=b instanceof at?b.spec:void 0,k=E==null?void 0:E.strict;if(E!=null&&E.strip){m=m||v in o;continue}w=!t.__validating||!k?b.cast(o[v],p):o[v],w!==void 0&&(h[v]=w)}else y&&!u&&(h[v]=o[v]);(y!==v in h||h[v]!==o[v])&&(m=!0)}return m?h:o}_validate(e,t={},i,o){let{from:l=[],originalValue:u=e,recursive:d=this.spec.recursive}=t;t.from=[{schema:this,value:u},...l],t.__validating=!0,t.originalValue=u,super._validate(e,t,i,(h,p)=>{if(!d||!dm(p)){o(h,p);return}u=u||p;let m=[];for(let v of this._nodes){let b=this.fields[v];!b||Vr.isRef(b)||m.push(b.asNestedTest({options:t,key:v,parent:p,parentPath:t.path,originalParent:u}))}this.runTests({tests:m,value:p,originalValue:u,options:t},i,v=>{o(v.sort(this._sortErrors).concat(h),p)})})}clone(e){const t=super.clone(e);return t.fields=Object.assign({},this.fields),t._nodes=this._nodes,t._excludedEdges=this._excludedEdges,t._sortErrors=this._sortErrors,t}concat(e){let t=super.concat(e),i=t.fields;for(let[o,l]of Object.entries(this.fields)){const u=i[o];i[o]=u===void 0?l:u}return t.withMutation(o=>o.setFields(i,[...this._excludedEdges,...e._excludedEdges]))}_getDefault(e){if("default"in this.spec)return super._getDefault(e);if(!this._nodes.length)return;let t={};return this._nodes.forEach(i=>{var o;const l=this.fields[i];let u=e;(o=u)!=null&&o.value&&(u=Object.assign({},u,{parent:u.value,value:u.value[i]})),t[i]=l&&"getDefault"in l?l.getDefault(u):void 0}),t}setFields(e,t){let i=this.clone();return i.fields=e,i._nodes=EO(e,t),i._sortErrors=Zy(Object.keys(e)),t&&(i._excludedEdges=t),i}shape(e,t=[]){return this.clone().withMutation(i=>{let o=i._excludedEdges;return t.length&&(Array.isArray(t[0])||(t=[t]),o=[...i._excludedEdges,...t]),i.setFields(Object.assign(i.fields,e),o)})}partial(){const e={};for(const[t,i]of Object.entries(this.fields))e[t]="optional"in i&&i.optional instanceof Function?i.optional():i;return this.setFields(e)}deepPartial(){return aa(this)}pick(e){const t={};for(const i of e)this.fields[i]&&(t[i]=this.fields[i]);return this.setFields(t,this._excludedEdges.filter(([i,o])=>e.includes(i)&&e.includes(o)))}omit(e){const t=[];for(const i of Object.keys(this.fields))e.includes(i)||t.push(i);return this.pick(t)}from(e,t,i){let o=_n.getter(e,!0);return this.transform(l=>{if(!l)return l;let u=l;return kO(l,e)&&(u=Object.assign({},l),i||delete u[e],u[t]=o(l)),u})}json(){return this.transform(ev)}exact(e){return this.test({name:"exact",exclusive:!0,message:e||sa.exact,test(t){if(t==null)return!0;const i=hm(this.schema,t);return i.length===0||this.createError({params:{properties:i.join(", ")}})}})}stripUnknown(){return this.clone({noUnknown:!0})}noUnknown(e=!0,t=sa.noUnknown){typeof e!="boolean"&&(t=e,e=!0);let i=this.test({name:"noUnknown",exclusive:!0,message:t,test(o){if(o==null)return!0;const l=hm(this.schema,o);return!e||l.length===0||this.createError({params:{unknown:l.join(", ")}})}});return i.spec.noUnknown=e,i}unknown(e=!0,t=sa.noUnknown){return this.noUnknown(!e,t)}transformKeys(e){return this.transform(t=>{if(!t)return t;const i={};for(const o of Object.keys(t))i[e(o)]=t[o];return i})}camelCase(){return this.transformKeys(xc.camelCase)}snakeCase(){return this.transformKeys(xc.snakeCase)}constantCase(){return this.transformKeys(e=>xc.snakeCase(e).toUpperCase())}describe(e){const t=(e?this.resolve(e):this).clone(),i=super.describe(e);i.fields={};for(const[l,u]of Object.entries(t.fields)){var o;let d=e;(o=d)!=null&&o.value&&(d=Object.assign({},d,{parent:d.value,value:d.value[l]})),i.fields[l]=u.describe(d)}return i}}tv.prototype=Nd.prototype;function rv(r){return new jd(r)}class jd extends at{constructor(e){super({type:"array",spec:{types:e},check(t){return Array.isArray(t)}}),this.innerType=void 0,this.innerType=e}_cast(e,t){const i=super._cast(e,t);if(!this._typeCheck(i)||!this.innerType)return i;let o=!1;const l=i.map((u,d)=>{const h=this.innerType.cast(u,Object.assign({},t,{path:`${t.path||""}[${d}]`}));return h!==u&&(o=!0),h});return o?l:i}_validate(e,t={},i,o){var l;let u=this.innerType,d=(l=t.recursive)!=null?l:this.spec.recursive;t.originalValue!=null&&t.originalValue,super._validate(e,t,i,(h,p)=>{var m;if(!d||!u||!this._typeCheck(p)){o(h,p);return}let v=new Array(p.length);for(let y=0;y<p.length;y++){var b;v[y]=u.asNestedTest({options:t,index:y,parent:p,parentPath:t.path,originalParent:(b=t.originalValue)!=null?b:e})}this.runTests({value:p,tests:v,originalValue:(m=t.originalValue)!=null?m:e,options:t},i,y=>o(y.concat(h),p))})}clone(e){const t=super.clone(e);return t.innerType=this.innerType,t}json(){return this.transform(ev)}concat(e){let t=super.concat(e);return t.innerType=this.innerType,e.innerType&&(t.innerType=t.innerType?t.innerType.concat(e.innerType):e.innerType),t}of(e){let t=this.clone();if(!En(e))throw new TypeError("`array.of()` sub-schema must be a valid yup schema not: "+Zt(e));return t.innerType=e,t.spec=Object.assign({},t.spec,{types:e}),t}length(e,t=oa.length){return this.test({message:t,name:"length",exclusive:!0,params:{length:e},skipAbsent:!0,test(i){return i.length===this.resolve(e)}})}min(e,t){return t=t||oa.min,this.test({message:t,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(i){return i.length>=this.resolve(e)}})}max(e,t){return t=t||oa.max,this.test({message:t,name:"max",exclusive:!0,params:{max:e},skipAbsent:!0,test(i){return i.length<=this.resolve(e)}})}ensure(){return this.default(()=>[]).transform((e,t)=>this._typeCheck(e)?e:t==null?[]:[].concat(t))}compact(e){let t=e?(i,o,l)=>!e(i,o,l):i=>!!i;return this.transform(i=>i!=null?i.filter(t):i)}describe(e){const t=(e?this.resolve(e):this).clone(),i=super.describe(e);if(t.innerType){var o;let l=e;(o=l)!=null&&o.value&&(l=Object.assign({},l,{parent:l.value,value:l.value[0]})),i.innerType=t.innerType.describe(l)}return i}}rv.prototype=jd.prototype;function nv(r){return new Md(r)}class Md extends at{constructor(e){super({type:"tuple",spec:{types:e},check(t){const i=this.spec.types;return Array.isArray(t)&&t.length===i.length}}),this.withMutation(()=>{this.typeError(Ky.notType)})}_cast(e,t){const{types:i}=this.spec,o=super._cast(e,t);if(!this._typeCheck(o))return o;let l=!1;const u=i.map((d,h)=>{const p=d.cast(o[h],Object.assign({},t,{path:`${t.path||""}[${h}]`}));return p!==o[h]&&(l=!0),p});return l?u:o}_validate(e,t={},i,o){let l=this.spec.types;super._validate(e,t,i,(u,d)=>{var h;if(!this._typeCheck(d)){o(u,d);return}let p=[];for(let[v,b]of l.entries()){var m;p[v]=b.asNestedTest({options:t,index:v,parent:d,parentPath:t.path,originalParent:(m=t.originalValue)!=null?m:e})}this.runTests({value:d,tests:p,originalValue:(h=t.originalValue)!=null?h:e,options:t},i,v=>o(v.concat(u),d))})}describe(e){const t=(e?this.resolve(e):this).clone(),i=super.describe(e);return i.innerType=t.spec.types.map((o,l)=>{var u;let d=e;return(u=d)!=null&&u.value&&(d=Object.assign({},d,{parent:d.value,value:d.value[l]})),o.describe(d)}),i}}nv.prototype=Md.prototype;function TO(r){return new Fa(r)}function fm(r){try{return r()}catch(e){if(rt.isError(e))return Promise.reject(e);throw e}}class Fa{constructor(e){this.type="lazy",this.__isYupSchema__=!0,this.spec=void 0,this._resolve=(t,i={})=>{let o=this.builder(t,i);if(!En(o))throw new TypeError("lazy() functions must return a valid schema");return this.spec.optional&&(o=o.optional()),o.resolve(i)},this.builder=e,this.spec={meta:void 0,optional:!1}}clone(e){const t=new Fa(this.builder);return t.spec=Object.assign({},this.spec,e),t}optionality(e){return this.clone({optional:e})}optional(){return this.optionality(!0)}resolve(e){return this._resolve(e.value,e)}cast(e,t){return this._resolve(e,t).cast(e,t)}asNestedTest(e){let{key:t,index:i,parent:o,options:l}=e,u=o[i??t];return this._resolve(u,Object.assign({},l,{value:u,parent:o})).asNestedTest(e)}validate(e,t){return fm(()=>this._resolve(e,t).validate(e,t))}validateSync(e,t){return this._resolve(e,t).validateSync(e,t)}validateAt(e,t,i){return fm(()=>this._resolve(t,i).validateAt(e,t,i))}validateSyncAt(e,t,i){return this._resolve(t,i).validateSyncAt(e,t,i)}isValid(e,t){try{return this._resolve(e,t).isValid(e,t)}catch(i){if(rt.isError(i))return Promise.resolve(!1);throw i}}isValidSync(e,t){return this._resolve(e,t).isValidSync(e,t)}describe(e){return e?this.resolve(e).describe(e):{type:"lazy",meta:this.spec.meta,label:void 0}}meta(...e){if(e.length===0)return this.spec.meta;let t=this.clone();return t.spec.meta=Object.assign(t.spec.meta||{},e[0]),t}}function OO(r){Object.keys(r).forEach(e=>{Object.keys(r[e]).forEach(t=>{Gy[e][t]=r[e][t]})})}function CO(r,e,t){if(!r||!En(r.prototype))throw new TypeError("You must provide a yup schema constructor function");if(typeof e!="string")throw new TypeError("A Method name must be provided");if(typeof t!="function")throw new TypeError("Method function must be provided");r.prototype[e]=t}const PO=Object.freeze(Object.defineProperty({__proto__:null,ArraySchema:jd,BooleanSchema:Rd,DateSchema:vi,LazySchema:Fa,MixedSchema:Pd,NumberSchema:Id,ObjectSchema:Nd,Schema:at,StringSchema:Dd,TupleSchema:Md,ValidationError:rt,addMethod:CO,array:rv,bool:Xc,boolean:Xc,date:Ad,defaultLocale:Gy,getIn:Cd,isSchema:En,lazy:TO,mixed:Yy,number:Qy,object:tv,printValue:Zt,reach:lO,ref:aO,setLocale:OO,string:Jy,tuple:nv},Symbol.toStringTag,{value:"Module"})),RO=Im(PO);var pm;function DO(){if(pm)return dn;pm=1,Object.defineProperty(dn,"__esModule",{value:!0}),dn.urlRegex=void 0,dn.validateHeader=N,dn.validateHeaderAndEvent=z;var r=t(RO);function e(F){if(typeof WeakMap!="function")return null;var U=new WeakMap,j=new WeakMap;return(e=function(Z){return Z?j:U})(F)}function t(F,U){if(F&&F.__esModule)return F;if(F===null||i(F)!=="object"&&typeof F!="function")return{default:F};var j=e(U);if(j&&j.has(F))return j.get(F);var V={},Z=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var ie in F)if(ie!=="default"&&Object.prototype.hasOwnProperty.call(F,ie)){var D=Z?Object.getOwnPropertyDescriptor(F,ie):null;D&&(D.get||D.set)?Object.defineProperty(V,ie,D):V[ie]=F[ie]}return V.default=F,j&&j.set(F,V),V}function i(F){"@babel/helpers - typeof";return i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(U){return typeof U}:function(U){return U&&typeof Symbol=="function"&&U.constructor===Symbol&&U!==Symbol.prototype?"symbol":typeof U},i(F)}function o(F,U){var j=Object.keys(F);if(Object.getOwnPropertySymbols){var V=Object.getOwnPropertySymbols(F);U&&(V=V.filter(function(Z){return Object.getOwnPropertyDescriptor(F,Z).enumerable})),j.push.apply(j,V)}return j}function l(F){for(var U=1;U<arguments.length;U++){var j=arguments[U]!=null?arguments[U]:{};U%2?o(Object(j),!0).forEach(function(V){u(F,V,j[V])}):Object.getOwnPropertyDescriptors?Object.defineProperties(F,Object.getOwnPropertyDescriptors(j)):o(Object(j)).forEach(function(V){Object.defineProperty(F,V,Object.getOwnPropertyDescriptor(j,V))})}return F}function u(F,U,j){return U=d(U),U in F?Object.defineProperty(F,U,{value:j,enumerable:!0,configurable:!0,writable:!0}):F[U]=j,F}function d(F){var U=h(F,"string");return i(U)==="symbol"?U:String(U)}function h(F,U){if(i(F)!=="object"||F===null)return F;var j=F[Symbol.toPrimitive];if(j!==void 0){var V=j.call(F,U||"default");if(i(V)!=="object")return V;throw new TypeError("@@toPrimitive must return a primitive value.")}return(U==="string"?String:Number)(F)}var p=dn.urlRegex=/^(?:([a-z0-9+.-]+):\/\/)(?:\S+(?::\S*)?@)?(?:(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)(?:\.(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)*\.?)(?::\d{2,5})?(?:[/?#]\S*)?$/,m=function(U){var j=U.required;return r.lazy(function(V){return typeof V=="number"?r.number().integer().min(0):typeof V=="string"?r.string().required():!j&&typeof V>"u"?r.mixed().oneOf([void 0]):r.array().required().min(3).max(7).of(r.lazy(function(Z,ie){var D=ie.parent.indexOf(ie.value);return[r.number().integer(),r.number().integer().min(1).max(12),r.number().integer().min(1).max(31),r.number().integer().min(0).max(23),r.number().integer().min(0).max(60),r.number().integer().min(0).max(60)][D]}))})},v=r.object().shape({before:r.boolean(),weeks:r.number(),days:r.number(),hours:r.number(),minutes:r.number(),seconds:r.number()}).noUnknown(),b=r.object().shape({name:r.string(),email:r.string().email(),rsvp:r.boolean(),dir:r.string().matches(p),partstat:r.string(),role:r.string(),cutype:r.string(),xNumGuests:r.number()}).noUnknown(),y=r.object().shape({name:r.string(),email:r.string().email(),dir:r.string(),sentBy:r.string()}).noUnknown(),w=r.object().shape({action:r.string().matches(/^(audio|display|email)$/).required(),trigger:r.mixed().required(),description:r.string(),duration:v,repeat:r.number(),attach:r.string(),attachType:r.string(),summary:r.string(),attendee:b,"x-prop":r.mixed(),"iana-prop":r.mixed()}).noUnknown(),S={productId:r.string(),method:r.string(),calName:r.string()},E=r.object().shape(S).noUnknown(),k={summary:r.string(),timestamp:m({required:!1}),title:r.string(),uid:r.string(),sequence:r.number().integer().max(2147483647),start:m({required:!0}),duration:v,startType:r.string().matches(/^(utc|local)$/),startInputType:r.string().matches(/^(utc|local)$/),startOutputType:r.string().matches(/^(utc|local)$/),end:m({required:!1}),endInputType:r.string().matches(/^(utc|local)$/),endOutputType:r.string().matches(/^(utc|local)$/),description:r.string(),url:r.string().matches(p),geo:r.object().shape({lat:r.number(),lon:r.number()}),location:r.string(),status:r.string().matches(/^(TENTATIVE|CANCELLED|CONFIRMED)$/i),categories:r.array().of(r.string()),organizer:y,attendees:r.array().of(b),alarms:r.array().of(w),recurrenceRule:r.string(),busyStatus:r.string().matches(/^(TENTATIVE|FREE|BUSY|OOF)$/i),transp:r.string().matches(/^(TRANSPARENT|OPAQUE)$/i),classification:r.string(),created:m({required:!1}),lastModified:m({required:!1}),exclusionDates:r.array().of(m({required:!0})),htmlContent:r.string()},O=r.object().shape(l(l({},S),k)).test("xor","object should have end or duration (but not both)",function(F){var U=!!F.end,j=!!F.duration;return U&&!j||!U&&j||!U&&!j}).noUnknown();function N(F){try{var U=E.validateSync(F,{abortEarly:!1,strict:!0});return{error:null,value:U}}catch(j){return{error:Object.assign({},j),value:void 0}}}function z(F){try{var U=O.validateSync(F,{abortEarly:!1,strict:!0});return{error:null,value:U}}catch(j){return{error:Object.assign({},j),value:void 0}}}return dn}var gm;function IO(){return gm||(gm=1,function(r){Object.defineProperty(r,"__esModule",{value:!0});var e=DO();Object.keys(e).forEach(function(t){t==="default"||t==="__esModule"||t in r&&r[t]===e[t]||Object.defineProperty(r,t,{enumerable:!0,get:function(){return e[t]}})})}(bc)),bc}var mm;function AO(){return mm||(mm=1,function(r){Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"buildEvent",{enumerable:!0,get:function(){return e.buildEvent}}),Object.defineProperty(r,"buildHeader",{enumerable:!0,get:function(){return e.buildHeader}}),Object.defineProperty(r,"formatEvent",{enumerable:!0,get:function(){return t.formatEvent}}),Object.defineProperty(r,"formatFooter",{enumerable:!0,get:function(){return t.formatFooter}}),Object.defineProperty(r,"formatHeader",{enumerable:!0,get:function(){return t.formatHeader}}),Object.defineProperty(r,"urlRegex",{enumerable:!0,get:function(){return i.urlRegex}}),Object.defineProperty(r,"validateHeader",{enumerable:!0,get:function(){return i.validateHeader}}),Object.defineProperty(r,"validateHeaderAndEvent",{enumerable:!0,get:function(){return i.validateHeaderAndEvent}});var e=MT(),t=GT(),i=IO()}(sc)),sc}var ym;function NO(){if(ym)return un;ym=1,Object.defineProperty(un,"__esModule",{value:!0}),un.convertTimestampToArray=p,un.createEvent=m,un.createEvents=v,un.isValidURL=b;var r=AO();function e(y){"@babel/helpers - typeof";return e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(w){return typeof w}:function(w){return w&&typeof Symbol=="function"&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":typeof w},e(y)}function t(y,w){var S=Object.keys(y);if(Object.getOwnPropertySymbols){var E=Object.getOwnPropertySymbols(y);w&&(E=E.filter(function(k){return Object.getOwnPropertyDescriptor(y,k).enumerable})),S.push.apply(S,E)}return S}function i(y){for(var w=1;w<arguments.length;w++){var S=arguments[w]!=null?arguments[w]:{};w%2?t(Object(S),!0).forEach(function(E){o(y,E,S[E])}):Object.getOwnPropertyDescriptors?Object.defineProperties(y,Object.getOwnPropertyDescriptors(S)):t(Object(S)).forEach(function(E){Object.defineProperty(y,E,Object.getOwnPropertyDescriptor(S,E))})}return y}function o(y,w,S){return w=l(w),w in y?Object.defineProperty(y,w,{value:S,enumerable:!0,configurable:!0,writable:!0}):y[w]=S,y}function l(y){var w=u(y,"string");return e(w)==="symbol"?w:String(w)}function u(y,w){if(e(y)!=="object"||y===null)return y;var S=y[Symbol.toPrimitive];if(S!==void 0){var E=S.call(y,w||"default");if(e(E)!=="object")return E;throw new TypeError("@@toPrimitive must return a primitive value.")}return(w==="string"?String:Number)(y)}function d(y){return(0,r.validateHeader)((0,r.buildHeader)(y))}function h(y){return(0,r.validateHeaderAndEvent)(i(i({},(0,r.buildHeader)(y)),(0,r.buildEvent)(y)))}function p(y){var w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"local",S=[],E=new Date(y);return S.push(w==="local"?E.getFullYear():E.getUTCFullYear()),S.push((w==="local"?E.getMonth():E.getUTCMonth())+1),S.push(w==="local"?E.getDate():E.getUTCDate()),S.push(w==="local"?E.getHours():E.getUTCHours()),S.push(w==="local"?E.getMinutes():E.getUTCMinutes()),S}function m(y,w){return v([y],w)}function v(y,w,S){var E=e(w)==="object"?w:{},k=arguments.length===3?S:typeof w=="function"?w:null,O=function(){if(!y)return{error:new Error("one argument is required"),value:null};var F=y.length===0?d(E):h(i(i({},y[0]),E)),U=F.error,j=F.value;if(U)return{error:U,value:null};var V="";V+=(0,r.formatHeader)(j);for(var Z=0;Z<y.length;Z++){var ie=h(y[Z]),D=ie.error,q=ie.value;if(D)return{error:D,value:null};V+=(0,r.formatEvent)(q)}return V+=(0,r.formatFooter)(),{error:null,value:V}},N;try{N=O()}catch(z){N={error:z,value:null}}return k?k(N.error,N.value):N}function b(y){return r.urlRegex.test(y)}return un}var jO=NO();function Jo(r){return[r.getFullYear(),1+r.getMonth(),r.getDate()]}function MO(r,e){const t=new Array;let i=null,o=r.dateGrid.weeks;for(let d=0;d<o.length;d++){const h=o[d],p=wd(h,e);d===o.length-1?i="Final Training Week!":i=`Training Week ${1+d}`,p[0]>0&&(i+=" Distance: "+Fr(p,e,e)),t.push({title:i,description:i,start:Jo(h.days[0].date),end:Jo(pi(h.days[6].date,1))});for(var l=0;l<h.days.length;l++){const m=h.days[l];if(m.event){let[v,b]=Ma(m.event,r.sourceUnits,e);b=b.replace(/(\r\n|\n|\r)/gm,`
`),b.replace(/\s/g,"")===""&&(b=v),t.push({title:v,description:b,start:Jo(m.date),end:Jo(pi(m.date,1))})}}}let u=jO.createEvents(t);if(u.error){console.log("Error creating iCal events: "+u.error);return}return u.value}function $O(r,e,t){const i=ny(t),o=["Week","Distance"];for(const p of i)o.push(p);const l=[o];let u=r.dateGrid.weeks;for(let p=0;p<u.length;p++){const m=[],v=u[p],b=wd(v,e);p===u.length-1?m.push("Final Training Week!"):m.push(`Training Week ${1+p}`),b[0]>0?m.push(Fr(b,e,e)):m.push("");for(var d=0;d<v.days.length;d++){const y=v.days[d];let w=pa(y.date,"yyyy-MM-dd");if(y.event){let[S,E]=Ma(y.event,r.sourceUnits,e),k=w+": "+S;E=E.replace(/(\r\n|\n|\r)/gm,`
`),E.replace(/\s/g,"")!==""&&(k+=" "+E),k=k.replace(/(\")/gm,'""'),m.push('"'+k+'"')}else m.push('"'+w+'"')}l.push(m)}return l.map(p=>p.join(",")).join(`
`)}function vm(r,e,t){if(!r)return!1;t=typeof t<"u"?t:".ics",e=typeof e<"u"?e:"calendar";var i=new Blob([r],{type:"text/x-vCalendar;charset=utf8;"});LO(i,`${e}.${t}`)}function LO(r,e){const t=URL.createObjectURL(r),i=document.createElement("a");i.href=t,i.download=e||"download";const o=()=>{setTimeout(()=>{URL.revokeObjectURL(t)},150)};return i.addEventListener("click",o,!1),i.click(),i}const UO=({availablePlans:r,selectedPlan:e,planChangeHandler:t})=>{const[i,o]=A.useState({}),[l,u]=A.useState({}),d=A.useRef({}),h=A.useRef({}),p=w=>{switch(w){case"Base":return 0;case"5K":return 5;case"10K":return 10;case"15K/10M":return 15;case"Half Marathon":return 21.1;case"Marathon":return 42.2;case"Multiple Distances":return 50;default:return 100}},m=w=>{const S=w.toLowerCase();if(S.includes("more than 85"))return 100;if(S.includes("up to 55"))return 55;const E=w.match(/(\d+)\s*(?:to\s*(\d+))?\s*miles?/i);return E?parseInt(E[2]||E[1]):S.includes("novice")||S.includes("beginner")||S.includes("couch")?10:S.includes("intermediate")?30:S.includes("advanced")?50:20};A.useEffect(()=>{const w=S=>{const E=S.target;let k=!1;Object.values(d.current).forEach(O=>{O&&O.contains(E)&&(k=!0)}),k||o({})};return document.addEventListener("mousedown",w),()=>document.removeEventListener("mousedown",w)},[]);const v=(w,S)=>{t(w),o({...i,[S]:!1})},b=w=>{if(!!i[w])o({});else{const E=h.current[w];if(E){const k=E.getBoundingClientRect();u({[w]:{top:k.bottom+window.scrollY,left:k.left+window.scrollX}})}o({[w]:!0})}},y=[{label:"5K/10K Plans",types:["5K","10K","15K/10M","Base","Multiple Distances"]},{label:"Half Marathon Plans",types:["Half Marathon"]},{label:"Marathon Plans",types:["Marathon"]}];return x.jsx("div",{className:"plan-picker-container",children:y.map(w=>{var z,F;const S=r.filter(U=>w.types.includes(U.type)).filter(U=>U.id!=="none"),E=S.reduce((U,j)=>{const V=j.subcategory?`${j.coach} - ${j.subcategory}`:j.coach;return U[V]||(U[V]=[]),U[V].push(j),U},{}),k=i[w.label]||!1,O=S.find(U=>U.id===e.id),N=O?O.name:w.label;return x.jsxs("div",{className:"custom-dropdown",ref:U=>{U&&(d.current[w.label]=U)},children:[x.jsxs("button",{ref:U=>{U&&(h.current[w.label]=U)},className:"dropdown-trigger",onClick:()=>b(w.label),"aria-expanded":k,children:[x.jsx("span",{className:"dropdown-text",children:N}),x.jsx("span",{className:`dropdown-arrow ${k?"open":""}`,children:""})]}),k&&x.jsx("div",{className:"dropdown-menu",style:{top:((z=l[w.label])==null?void 0:z.top)||0,left:((F=l[w.label])==null?void 0:F.left)||0},children:Object.keys(E).sort((U,j)=>{const V=Math.min(...E[U].map(ie=>p(ie.type))),Z=Math.min(...E[j].map(ie=>p(ie.type)));return V-Z}).map(U=>x.jsxs("div",{className:"dropdown-group",children:[x.jsx("div",{className:"group-header",children:U}),E[U].sort((j,V)=>{const Z=m(j.name),ie=m(V.name);if(Z!==ie)return Z-ie;const D=p(j.type),q=p(V.type);return D!==q?D-q:j.name.localeCompare(V.name)}).map(j=>x.jsx("button",{className:`dropdown-option ${e.id===j.id?"selected":""}`,onClick:()=>v(j,w.label),children:j.name},j.id))]},U))})]},w.label)})})},FO=({selectedPlan:r,selectedPlanChangeHandler:e,availablePlans:t,planEndDate:i,onPlanEndDateChange:o})=>x.jsxs("div",{className:"plan-and-date",children:[x.jsx(UO,{availablePlans:t,selectedPlan:r,planChangeHandler:e}),x.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[x.jsx("h3",{style:{margin:0,whiteSpace:"nowrap"},children:"Race date:"}),x.jsx("input",{type:"date",value:i.toISOString().split("T")[0],onChange:l=>{const[u,d,h]=l.target.value.split("-").map(Number),p=new Date(u,d-1,h);o(p)},style:{padding:"0.4rem 0.6rem",fontSize:"inherit",fontFamily:"inherit",border:"1px solid var(--secondary-color)",borderRadius:"0.25rem",backgroundColor:"var(--card-color)",color:"var(--text-color)"}})]})]}),zO=({undoHandler:r,disabled:e})=>{const t=()=>{r()};return x.jsx("button",{className:"app-button",onClick:t,disabled:e,children:" Undo "})},BO=({className:r="",selectedUser:e,onUserChange:t})=>{const[i,o]=A.useState(null),[l,u]=A.useState(null),[d,h]=A.useState(!1),[p,m]=A.useState(null),[v,b]=A.useState(!1);A.useEffect(()=>{y(e)},[e]);const y=async w=>{h(!0),m(null);try{const S=new Date().getTime(),E=await fetch(`/Running_Calendar-dev/data/${w}_paces.json?v=${S}`);if(!E.ok)throw new Error(`Failed to load paces for ${w}`);const k=await E.json();if(k.length>0){const O=k[k.length-1];o(O.paces),u(O.date)}else o(null),u(null)}catch(S){m(S instanceof Error?S.message:"Failed to load paces"),o(null),u(null)}finally{h(!1)}};return v?x.jsxs("div",{className:`paces-panel ${r}`,style:{backgroundColor:"var(--card-color)",border:"3px solid var(--secondary-color)",borderRadius:"0.5rem",padding:"0.5em 1em",margin:"1em 0",position:"sticky",top:"0",zIndex:100,display:"flex",alignItems:"center",justifyContent:"space-between",gap:"0.75rem"},children:[x.jsx("h3",{style:{margin:0,fontSize:"1.1rem"},children:"Training Paces"}),x.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[x.jsx("button",{onClick:()=>t("aaron"),style:{padding:"0.4rem 0.8rem",fontSize:"0.9rem",fontWeight:e==="aaron"?"bold":"normal",backgroundColor:e==="aaron"?"var(--secondary-color)":"transparent",color:"var(--text-color)",border:"2px solid var(--secondary-color)",borderRadius:"0.25rem",cursor:"pointer",transition:"all 0.2s"},children:"Aaron"}),x.jsx("button",{onClick:()=>t("kristin"),style:{padding:"0.4rem 0.8rem",fontSize:"0.9rem",fontWeight:e==="kristin"?"bold":"normal",backgroundColor:e==="kristin"?"var(--secondary-color)":"transparent",color:"var(--text-color)",border:"2px solid var(--secondary-color)",borderRadius:"0.25rem",cursor:"pointer",transition:"all 0.2s"},children:"Kristin"})]}),x.jsx("button",{onClick:()=>b(!1),style:{padding:"0.4rem 0.8rem",fontSize:"0.9rem",backgroundColor:"transparent",color:"var(--text-color)",border:"2px solid var(--secondary-color)",borderRadius:"0.25rem",cursor:"pointer",transition:"all 0.2s"},children:"Show"})]}):x.jsxs("div",{className:`paces-panel ${r}`,style:{backgroundColor:"var(--card-color)",border:"3px solid var(--secondary-color)",borderRadius:"0.5rem",padding:"1em",margin:"1em 0",position:"sticky",top:"0",zIndex:100},children:[x.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"0.5rem"},children:[x.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem"},children:[x.jsx("h3",{style:{margin:0,fontSize:"1.1rem"},children:"Training Paces"}),x.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[x.jsx("button",{onClick:()=>t("aaron"),style:{padding:"0.4rem 0.8rem",fontSize:"0.9rem",fontWeight:e==="aaron"?"bold":"normal",backgroundColor:e==="aaron"?"var(--secondary-color)":"transparent",color:"var(--text-color)",border:"2px solid var(--secondary-color)",borderRadius:"0.25rem",cursor:"pointer",transition:"all 0.2s"},children:"Aaron"}),x.jsx("button",{onClick:()=>t("kristin"),style:{padding:"0.4rem 0.8rem",fontSize:"0.9rem",fontWeight:e==="kristin"?"bold":"normal",backgroundColor:e==="kristin"?"var(--secondary-color)":"transparent",color:"var(--text-color)",border:"2px solid var(--secondary-color)",borderRadius:"0.25rem",cursor:"pointer",transition:"all 0.2s"},children:"Kristin"})]})]}),x.jsx("button",{onClick:()=>b(!0),style:{padding:"0.4rem 0.8rem",fontSize:"0.9rem",backgroundColor:"transparent",color:"var(--text-color)",border:"2px solid var(--secondary-color)",borderRadius:"0.25rem",cursor:"pointer",transition:"all 0.2s",marginLeft:"auto"},children:"Hide"})]}),l&&x.jsxs("div",{style:{fontSize:"0.8rem",color:"var(--text-color)",opacity:.7,marginBottom:"0.5rem"},children:["updated: ",(()=>{const w=l.endsWith("Z")?l:l+"Z",S=new Date(w),k=new Date().getTime()-S.getTime(),O=Math.floor(k/(1e3*60*60)),N=Math.floor(k%(1e3*60*60)/(1e3*60));if(O<1)return`${N} min${N!==1?"s":""} ago`;if(O<24)return`${O} hour${O!==1?"s":""} ago`;{const z=Math.floor(O/24);return`${z} day${z!==1?"s":""} ago`}})()]}),x.jsx("div",{style:{fontSize:"0.85rem",color:"var(--text-color)",opacity:.8,fontStyle:"italic",marginBottom:"0.5rem"},children:"*Paces are added to the current week"}),d&&x.jsx("div",{style:{textAlign:"center",padding:"2rem"},children:x.jsx("p",{children:"Loading paces..."})}),p&&x.jsx("div",{style:{backgroundColor:"#fee",border:"1px solid #fcc",borderRadius:"0.25rem",padding:"1rem",marginBottom:"1rem"},children:x.jsxs("p",{style:{color:"#c33",margin:0},children:[" ",p]})}),i&&!d&&x.jsxs(x.Fragment,{children:[x.jsx("div",{className:"paces-table-horizontal",style:{background:"var(--secondary-color)",borderRadius:"0.5rem",fontFamily:"'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue', sans-serif",fontSize:"1em",margin:0},children:[{label:"Recovery",synonyms:["recovery"]},{label:"Gen-aerobic",synonyms:["gen-aerobic","general aerobic","aerobic"]},{label:"Long/Medium",synonyms:["long/medium","long/medium long","long run","medium long"]},{label:"Marathon",synonyms:["marathon"]},{label:"LT",synonyms:["lt","lactate threshold","threshold"]},{label:"VO2max",synonyms:["vo2max","vo2 max"]}].map((w,S)=>{let E=Object.keys(i).find(O=>w.synonyms.some(N=>O.toLowerCase().includes(N))),k=E?i[E].pace_range:"-";return x.jsxs("div",{className:"pace-zone",children:[x.jsx("span",{className:"pace-zone-label",children:w.label}),x.jsx("span",{className:"pace-zone-value",children:k||"-"})]},S)})}),x.jsx("div",{className:"paces-table-vertical",style:{background:"var(--secondary-color)",borderRadius:"0.5rem",padding:"1em",fontFamily:"'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue', sans-serif",fontSize:"1em",overflowX:"auto",margin:0},children:x.jsx("table",{style:{width:"100%",borderCollapse:"separate",borderSpacing:0},children:x.jsx("tbody",{children:[{label:"Recovery",synonyms:["recovery"]},{label:"Gen-aerobic",synonyms:["gen-aerobic","general aerobic","aerobic"]},{label:"Long/Medium",synonyms:["long/medium","long/medium long","long run","medium long"]},{label:"Marathon",synonyms:["marathon"]},{label:"LT",synonyms:["lt","lactate threshold","threshold"]},{label:"VO2max",synonyms:["vo2max","vo2 max"]}].map((w,S)=>{let E=Object.keys(i).find(O=>w.synonyms.some(N=>O.toLowerCase().includes(N))),k=E?i[E].pace_range:"-";return x.jsxs("tr",{children:[x.jsx("td",{className:"pace-label",style:{paddingRight:"1em",fontWeight:500,textAlign:"right",borderRight:"2px solid #b3b3b3",minWidth:"7em",verticalAlign:"middle",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"10em"},children:w.label}),x.jsx("td",{className:"pace-value",style:{paddingLeft:"1em",paddingRight:"0.5em",textAlign:"left",fontVariantNumeric:"tabular-nums",fontWeight:600,minWidth:"12em",verticalAlign:"middle",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"16em"},children:k||"-"})]},S)})})})})]}),!i&&!d&&!p&&x.jsx("div",{style:{textAlign:"center",padding:"2rem",color:"var(--disabled-fg-color)"},children:x.jsxs("p",{children:["No pace data available for ",e]})})]})};function Ea(){return Ea=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)({}).hasOwnProperty.call(t,i)&&(r[i]=t[i])}return r},Ea.apply(null,arguments)}var hi;(function(r){r.Pop="POP",r.Push="PUSH",r.Replace="REPLACE"})(hi||(hi={}));var wm=function(r){return r},_m="beforeunload",HO="popstate";function WO(r){r===void 0&&(r={});var e=r,t=e.window,i=t===void 0?document.defaultView:t,o=i.history;function l(){var j=i.location,V=j.pathname,Z=j.search,ie=j.hash,D=o.state||{};return[D.idx,wm({pathname:V,search:Z,hash:ie,state:D.usr||null,key:D.key||"default"})]}var u=null;function d(){if(u)y.call(u),u=null;else{var j=hi.Pop,V=l(),Z=V[0],ie=V[1];if(y.length){if(Z!=null){var D=m-Z;D&&(u={action:j,location:ie,retry:function(){F(D*-1)}},F(D))}}else O(j)}}i.addEventListener(HO,d);var h=hi.Pop,p=l(),m=p[0],v=p[1],b=bm(),y=bm();m==null&&(m=0,o.replaceState(Ea({},o.state,{idx:m}),""));function w(j){return typeof j=="string"?j:VO(j)}function S(j,V){return V===void 0&&(V=null),wm(Ea({pathname:v.pathname,hash:"",search:""},typeof j=="string"?KO(j):j,{state:V,key:qO()}))}function E(j,V){return[{usr:j.state,key:j.key,idx:V},w(j)]}function k(j,V,Z){return!y.length||(y.call({action:j,location:V,retry:Z}),!1)}function O(j){h=j;var V=l();m=V[0],v=V[1],b.call({action:h,location:v})}function N(j,V){var Z=hi.Push,ie=S(j,V);function D(){N(j,V)}if(k(Z,ie,D)){var q=E(ie,m+1),ee=q[0],re=q[1];try{o.pushState(ee,"",re)}catch{i.location.assign(re)}O(Z)}}function z(j,V){var Z=hi.Replace,ie=S(j,V);function D(){z(j,V)}if(k(Z,ie,D)){var q=E(ie,m),ee=q[0],re=q[1];o.replaceState(ee,"",re),O(Z)}}function F(j){o.go(j)}var U={get action(){return h},get location(){return v},createHref:w,push:N,replace:z,go:F,back:function(){F(-1)},forward:function(){F(1)},listen:function(V){return b.push(V)},block:function(V){var Z=y.push(V);return y.length===1&&i.addEventListener(_m,Sm),function(){Z(),y.length||i.removeEventListener(_m,Sm)}}};return U}function Sm(r){r.preventDefault(),r.returnValue=""}function bm(){var r=[];return{get length(){return r.length},push:function(t){return r.push(t),function(){r=r.filter(function(i){return i!==t})}},call:function(t){r.forEach(function(i){return i&&i(t)})}}}function qO(){return Math.random().toString(36).substr(2,8)}function VO(r){var e=r.pathname,t=e===void 0?"/":e,i=r.search,o=i===void 0?"":i,l=r.hash,u=l===void 0?"":l;return o&&o!=="?"&&(t+=o.charAt(0)==="?"?o:"?"+o),u&&u!=="#"&&(t+=u.charAt(0)==="#"?u:"#"+u),t}function KO(r){var e={};if(r){var t=r.indexOf("#");t>=0&&(e.hash=r.substr(t),r=r.substr(0,t));var i=r.indexOf("?");i>=0&&(e.search=r.substr(i),r=r.substr(0,i)),r&&(e.pathname=r)}return e}const GO=WO();function $d(r,e){if(r==null)return r;if(r.length===0&&(!e||e&&r!==""))return null;const t=r instanceof Array?r[0]:r;return t==null?t:!e&&t===""?null:t}function YO(r){if(r==null)return r;const e=r.getFullYear(),t=r.getMonth()+1,i=r.getDate();return`${e}-${t<10?`0${t}`:t}-${i<10?`0${i}`:i}`}function JO(r){const e=$d(r);if(e==null)return e;const t=e.split("-");t[1]!=null?t[1]-=1:(t[1]=0,t[2]=1);const i=new Date(...t);return isNaN(i.getTime())?null:i}function QO(r){return r==null?r:String(r)}function XO(r){const e=$d(r);return e==null?e:e===""?null:+e}function ZO(r){return r==null?r:String(r)}function eC(r){const e=$d(r,!0);return e==null?e:String(e)}const ka={encode:ZO,decode:eC},tC={encode:QO,decode:XO},rC={encode:YO,decode:JO,equals:(r,e)=>r===e?!0:r==null||e==null?r===e:r.getFullYear()===e.getFullYear()&&r.getMonth()===e.getMonth()&&r.getDate()===e.getDate()};function nC(r){const e=new URLSearchParams,t=Object.entries(r);for(const[i,o]of t)if(o!==void 0&&o!==null)if(Array.isArray(o))for(const l of o)e.append(i,l??"");else e.append(i,o);return e.toString()}'{}[],":'.split("").map(r=>[r,encodeURIComponent(r)]);function iC(r,e){const t={},i=Object.keys(e);for(const o of i){const l=e[o];r[o]?t[o]=r[o].encode(e[o]):t[o]=l==null?l:String(l)}return t}function sC(r){const e=new URLSearchParams(r),t={};for(let[i,o]of e)Object.prototype.hasOwnProperty.call(t,i)?Array.isArray(t[i])?t[i].push(o):t[i]=[t[i],o]:t[i]=o;return t}class oC{constructor(){this.paramsMap=new Map,this.registeredParams=new Map}set(e,t,i,o){this.paramsMap.set(e,{stringified:t,decoded:i,decode:o})}has(e,t,i){if(!this.paramsMap.has(e))return!1;const o=this.paramsMap.get(e);return o?o.stringified===t&&(i==null||o.decode===i):!1}get(e){var t;if(this.paramsMap.has(e))return(t=this.paramsMap.get(e))==null?void 0:t.decoded}registerParams(e){for(const t of e){const i=this.registeredParams.get(t)||0;this.registeredParams.set(t,i+1)}}unregisterParams(e){for(const t of e){const i=(this.registeredParams.get(t)||0)-1;i<=0?(this.registeredParams.delete(t),this.paramsMap.has(t)&&this.paramsMap.delete(t)):this.registeredParams.set(t,i)}}clear(){this.paramsMap.clear(),this.registeredParams.clear()}}const la=new oC;function aC(r,e){var t,i,o;const l={};let u=!1;const d=Object.keys(r);let h=d;if(e.includeKnownParams||e.includeKnownParams!==!1&&d.length===0){const m=Object.keys((t=e.params)!=null?t:{});h.push(...m)}for(const m of h){const v=r[m];if(v!=null&&typeof v=="object"){l[m]=v;continue}u=!0,l[m]=(o=(i=e.params)==null?void 0:i[m])!=null?o:ka}return u?l:r}function iv(r,e,t,i){var o;if(!t||!e.length)return r;let l={...r},u=!1;for(const d of e)Object.prototype.hasOwnProperty.call(l,d)||(l[d]=(o=t[d])!=null?o:i,u=!0);return u?l:r}const lC=Object.prototype.hasOwnProperty;function Em(r,e){return r===e?r!==0||e!==0||1/r===1/e:r!==r&&e!==e}function sv(r,e,t){var i,o;if(Em(r,e))return!0;if(typeof r!="object"||r===null||typeof e!="object"||e===null)return!1;const l=Object.keys(r),u=Object.keys(e);if(l.length!==u.length)return!1;for(let d=0;d<l.length;d++){const h=(o=(i=void 0)==null?void 0:i.equals)!=null?o:Em;if(!lC.call(e,l[d])||!h(r[l[d]],e[l[d]]))return!1}return!0}function ov(r,e,t){const i={},o=Object.keys(e);for(const l of o){const u=e[l],d=r[l];let h;if(t.has(l,d,u.decode))h=t.get(l);else{if(h=u.decode(d),u.equals&&t.has(l,d)){const p=t.get(l);u.equals(h,p)&&(h=p)}h!==void 0&&t.set(l,d,h,u.decode)}h===void 0&&u.default!==void 0&&(h=u.default),i[l]=h}return i}function uC(){let r;function e(t,i,o){const l=ov(t,i,o);return r!=null&&sv(r,l)?r:(r=l,l)}return e}function cC(r){let e;for(const t in r)if(r[t].urlName){const o=`${r[t].urlName}\0${t}`;e?e.push(o):e=[o]}return e?e.join(`
`):void 0}function dC(r){if(r)return Object.fromEntries(r.split(`
`).map(e=>e.split("\0")))}function hC(r,e){var t;let i={};for(const o in r)((t=e[o])==null?void 0:t.urlName)!=null?i[e[o].urlName]=r[o]:i[o]=r[o];return i}let km,xm,Tm,Tc={};const av=(r,e,t)=>{if(km===e&&Tm===r&&xm===t)return Tc;km=e,Tm=r;const i=r(e??"");xm=t;const o=dC(t);for(let[l,u]of Object.entries(i)){o!=null&&o[l]&&(delete i[l],l=o[l],i[l]=u);const d=Tc[l];sv(u,d)&&(i[l]=d)}return Tc=i,i},fC={searchStringToObject:sC,objectToSearchString:nC,updateType:"pushIn",includeKnownParams:void 0,includeAllParams:!1,removeDefaultsFromUrl:!1,enableBatching:!1,skipUpdateWhenNoChange:!0};function lv(r,e){e==null&&(e={});const t={...r,...e};return e.params&&r.params&&(t.params={...r.params,...e.params}),t}const uv={adapter:{},options:fC},ed=A.createContext(uv);function pC(){const r=A.useContext(ed);if(r===void 0||r===uv)throw new Error("useQueryParams must be used within a QueryParamProvider");return r}function Om({children:r,adapter:e,options:t}){const{adapter:i,options:o}=A.useContext(ed),l=A.useMemo(()=>({adapter:e??i,options:lv(o,t)}),[e,t,i,o]);return A.createElement(ed.Provider,{value:l},r)}function gC({children:r,adapter:e,options:t}){const i=e;return i?A.createElement(i,null,o=>A.createElement(Om,{adapter:o,options:t},r)):A.createElement(Om,{options:t},r)}function mC(r,e){var t;for(const i in r)((t=e[i])==null?void 0:t.default)!==void 0&&r[i]!==void 0&&e[i].encode(e[i].default)===r[i]&&(r[i]=void 0)}function yC({changes:r,updateType:e,currentSearchString:t,paramConfigMap:i,options:o}){const{searchStringToObject:l,objectToSearchString:u}=o;e==null&&(e=o.updateType);let d;const h=av(l,t),p=iv(i,Object.keys(r),o.params);let m;if(typeof r=="function"){const b=ov(h,p,la);m=r(b)}else m=r;d=iC(p,m),o.removeDefaultsFromUrl&&mC(d,p),d=hC(d,p);let v;return e==="push"||e==="replace"?v=u(d):v=u({...h,...d}),v!=null&&v.length&&v[0]!=="?"&&(v=`?${v}`),v??""}function vC({searchString:r,adapter:e,navigate:t,updateType:i}){const l={...e.location,search:r};t&&(typeof i=="string"&&i.startsWith("replace")?e.replace(l):e.push(l))}const wC=r=>r(),_C=r=>setTimeout(()=>r(),0),Qo=[];function SC(r,{immediate:e}={}){Qo.push(r);let t=e?wC:_C;Qo.length===1&&t(()=>{const i=Qo.slice();Qo.length=0;const o=i[0].currentSearchString;let l;for(let u=0;u<i.length;++u){const d=u===0?i[u]:{...i[u],currentSearchString:l};l=yC(d)}r.options.skipUpdateWhenNoChange&&l===o||vC({searchString:l??"",adapter:i[i.length-1].adapter,navigate:!0,updateType:i[i.length-1].updateType})})}function bC(r,e){const{adapter:t,options:i}=pC(),[o]=A.useState(uC),{paramConfigMap:l,options:u}=EC(r,e),d=A.useMemo(()=>lv(i,u),[i,u]);let h=aC(l,d);const p=av(d.searchStringToObject,t.location.search,cC(h));d.includeAllParams&&(h=iv(h,Object.keys(p),d.params,ka));const m=o(p,h,la),v=Object.keys(h).join("\0");A.useEffect(()=>{const S=v.split("\0");return la.registerParams(S),()=>{la.unregisterParams(S)}},[v]);const b={adapter:t,paramConfigMap:h,options:d},y=A.useRef(b);y.current==null&&(y.current=b),A.useEffect(()=>{y.current.adapter=t,y.current.paramConfigMap=h,y.current.options=d},[t,h,d]);const[w]=A.useState(()=>(E,k)=>{const{adapter:O,paramConfigMap:N,options:z}=y.current;k==null&&(k=z.updateType),SC({changes:E,updateType:k,currentSearchString:O.location.search,paramConfigMap:N,options:z,adapter:O},{immediate:!z.enableBatching})});return[m,w]}function EC(r,e){let t,i;return r===void 0?(t={},i=e):Array.isArray(r)?(t=Object.fromEntries(r.map(o=>[o,"inherit"])),i=e):(t=r,i=e),{paramConfigMap:t,options:i}}const kC=({racePlan:r})=>x.jsx("div",{className:"plan-details",children:x.jsxs("div",{className:"plan-details-content",children:[x.jsx("p",{children:r==null?void 0:r.description}),x.jsx("p",{children:x.jsx("a",{href:r==null?void 0:r.sourceUrl,children:"Source"})})]})}),xC=r=>A.useEffect(r,[]),cv="rc_plan_selection",Oc=(r,e,t)=>{try{localStorage.setItem(cv,JSON.stringify({planId:r.id,date:e.toISOString(),units:t}))}catch{}},TC=()=>{try{const r=localStorage.getItem(cv);if(!r)return;const e=JSON.parse(r),t=e.planId?hn.find(e.planId):void 0,i=e.date?new Date(e.date):void 0,o=e.units==="mi"||e.units==="km"?e.units:void 0;if(t&&i&&o)return{plan:t,date:i,units:o}}catch{}},OC=()=>{const[{u:r,p:e,d:t},i]=bC({u:ka,p:ka,d:rC,s:tC}),[o,l]=A.useState(r==="mi"||r==="km"?r:N1());var[u,d]=A.useState(hn.find(e||"")),[h,p]=A.useState(void 0),[m,v]=A.useState([]);const b=ga.Monday;var[y,w]=A.useState(t&&Ac(t,new Date)?t:Zm(Ra(new Date,{weekStartsOn:b}),20)),[S,E]=A.useState("aaron");const[k,O]=A.useState(!1),N=!xd&&typeof window<"u"&&(window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1");xC(()=>{const C=TC(),K=(e?hn.find(e):void 0)||(C==null?void 0:C.plan)||u,G=(t&&Ac(t,new Date)?t:void 0)||(C==null?void 0:C.date)||y,R=(r==="mi"||r==="km"?r:void 0)||(C==null?void 0:C.units)||o;K&&(d(K),w(G),l(R),U(K,G,R,b))});const[,z]=Lp.useReducer(C=>C+1,0);Lp.useEffect(()=>{GO.listen(()=>{z()})},[]);const F=(C,$,K,W)=>({u:C,p:$.id,d:K,s:W}),U=async(C,$,K,W)=>{const G=Bu(await hn.fetch(C),$,W);p(G),v([...m,G]),i(F(K,C,$,W))},j=async C=>{const $=Bu(await hn.fetch(C),y,b);d(C),p($),v([$]),i(F(o,C,y,b)),Oc(C,y,o)},V=async C=>{const $=Bu(await hn.fetch(u),C,b);w(C),p($),v([$]),i(F(o,u,C,b)),Oc(u,C,o)},Z=C=>{l(C),i(F(C,u,y,b)),Oc(u,y,C)};function ie(C,$){if(h){const K=Ab(h,C,$);p(K),v([...m,K])}}function D(C,$){if(h){const K=Nb(h,C,$);p(K),v([...m,K])}}function q(){if(h){const C=MO(h,o);C&&vm(C,"plan","ics")}}function ee(){if(h){const C=$O(h,o,b);C&&vm(C,"plan","csv")}}function re(){(m==null?void 0:m.length)>=0&&m.pop(),p(m[m.length-1])}return x.jsxs(x.Fragment,{children:[N&&x.jsx("div",{style:{background:"#fff3cd",color:"#664d03",border:"1px solid #ffeeba",padding:"0.75rem 1rem",margin:"0.5rem",borderRadius:"6px",fontSize:"0.9rem"},children:"Supabase is not configured. Set VITE_SUPABASE_URL and VITE_SUPABASE_ANON_KEY in your env (e.g., .env.local) and restart the dev server."}),x.jsx(BO,{selectedUser:S,onUserChange:E}),x.jsx(FO,{availablePlans:hn.available,selectedPlan:u,selectedPlanChangeHandler:j,planEndDate:y,onPlanEndDateChange:V}),x.jsx("button",{onClick:()=>O(!k),style:{margin:"0.5rem",padding:"0.5rem 1rem",backgroundColor:k?"var(--secondary-color)":"transparent",color:"var(--text-color)",border:"2px solid var(--secondary-color)",borderRadius:"0.25rem",cursor:"pointer",fontSize:"0.9rem",fontWeight:"bold",transition:"all 0.2s"},children:k?"Hide Advanced":"Show Advanced"}),k&&x.jsxs(x.Fragment,{children:[x.jsx("div",{className:"controls-row",children:x.jsxs("div",{style:{display:"flex",gap:"0.5rem",alignItems:"center"},children:[x.jsx("h3",{style:{margin:0,whiteSpace:"nowrap"},children:"Units:"}),x.jsx("button",{onClick:()=>Z("mi"),style:{padding:"0.4rem 0.8rem",backgroundColor:o==="mi"?"var(--secondary-color)":"transparent",color:"var(--text-color)",border:"2px solid var(--secondary-color)",borderRadius:"0.25rem",cursor:"pointer",fontWeight:o==="mi"?"bold":"normal",transition:"all 0.2s"},children:"mi"}),x.jsx("button",{onClick:()=>Z("km"),style:{padding:"0.4rem 0.8rem",backgroundColor:o==="km"?"var(--secondary-color)":"transparent",color:"var(--text-color)",border:"2px solid var(--secondary-color)",borderRadius:"0.25rem",cursor:"pointer",fontWeight:o==="km"?"bold":"normal",transition:"all 0.2s"},children:"km"})]})}),x.jsx(kC,{racePlan:h}),x.jsxs("div",{className:"second-toolbar",children:[x.jsx("button",{className:"app-button",onClick:q,children:"Download iCal"}),x.jsx("button",{className:"app-button",onClick:ee,children:"Download CSV"}),x.jsx(zO,{disabled:m.length<=1,undoHandler:re})]})]}),x.jsx("div",{className:"main-ui",children:h&&x.jsx(PT,{racePlan:h,units:o,weekStartsOn:b,swapDates:ie,swapDow:D,selectedUser:S})})]})};var dv=r=>{throw TypeError(r)},hv=(r,e,t)=>e.has(r)||dv("Cannot "+t),ye=(r,e,t)=>(hv(r,e,"read from private field"),t?t.call(r):e.get(r)),At=(r,e,t)=>e.has(r)?dv("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(r):e.set(r,t),gn=(r,e,t,i)=>(hv(r,e,"write to private field"),e.set(r,t),t),Lr,CC=class{constructor(){At(this,Lr),this.register=r=>{ye(this,Lr).push(r)},this.unregister=r=>{for(;ye(this,Lr).indexOf(r)!==-1;)ye(this,Lr).splice(ye(this,Lr).indexOf(r),1)},this.backendChanged=r=>{for(let e of ye(this,Lr))e.backendChanged(r)},gn(this,Lr,[])}};Lr=new WeakMap;var bt,hs,Et,fr,mn,td,rd,nd,ua,ca,fs,fv=class da{constructor(e,t,i){if(At(this,bt),At(this,hs),At(this,Et),At(this,fr),At(this,mn),At(this,td,(o,l,u)=>{if(!u.backend)throw new Error(`You must specify a 'backend' property in your Backend entry: ${JSON.stringify(u)}`);let d=u.backend(o,l,u.options),h=u.id,p=!u.id&&d&&d.constructor;if(p&&(h=d.constructor.name),!h)throw new Error(`You must specify an 'id' property in your Backend entry: ${JSON.stringify(u)}
        see this guide: https://github.com/louisbrunner/dnd-multi-backend/tree/master/packages/react-dnd-multi-backend#migrating-from-5xx`);if(p&&console.warn(`Deprecation notice: You are using a pipeline which doesn't include backends' 'id'.
        This might be unsupported in the future, please specify 'id' explicitely for every backend.`),ye(this,Et)[h])throw new Error(`You must specify a unique 'id' property in your Backend entry:
        ${JSON.stringify(u)} (conflicts with: ${JSON.stringify(ye(this,Et)[h])})`);return{id:h,instance:d,preview:u.preview??!1,transition:u.transition,skipDispatchOnTransition:u.skipDispatchOnTransition??!1}}),this.setup=()=>{if(!(typeof window>"u")){if(da.isSetUp)throw new Error("Cannot have two MultiBackends at the same time.");da.isSetUp=!0,ye(this,rd).call(this,window),ye(this,Et)[ye(this,bt)].instance.setup()}},this.teardown=()=>{typeof window>"u"||(da.isSetUp=!1,ye(this,nd).call(this,window),ye(this,Et)[ye(this,bt)].instance.teardown())},this.connectDragSource=(o,l,u)=>ye(this,fs).call(this,"connectDragSource",o,l,u),this.connectDragPreview=(o,l,u)=>ye(this,fs).call(this,"connectDragPreview",o,l,u),this.connectDropTarget=(o,l,u)=>ye(this,fs).call(this,"connectDropTarget",o,l,u),this.profile=()=>ye(this,Et)[ye(this,bt)].instance.profile(),this.previewEnabled=()=>ye(this,Et)[ye(this,bt)].preview,this.previewsList=()=>ye(this,hs),this.backendsList=()=>ye(this,fr),At(this,rd,o=>{for(let l of ye(this,fr))l.transition&&o.addEventListener(l.transition.event,ye(this,ua))}),At(this,nd,o=>{for(let l of ye(this,fr))l.transition&&o.removeEventListener(l.transition.event,ye(this,ua))}),At(this,ua,o=>{var u;let l=ye(this,bt);if(ye(this,fr).some(d=>d.id!==ye(this,bt)&&d.transition&&d.transition.check(o)?(gn(this,bt,d.id),!0):!1),ye(this,bt)!==l){ye(this,Et)[l].instance.teardown();for(let[m,v]of Object.entries(ye(this,mn)))v.unsubscribe(),v.unsubscribe=ye(this,ca).call(this,v.func,...v.args);ye(this,hs).backendChanged(this);let d=ye(this,Et)[ye(this,bt)];if(d.instance.setup(),d.skipDispatchOnTransition)return;let h=o.constructor,p=new h(o.type,o);(u=o.target)==null||u.dispatchEvent(p)}}),At(this,ca,(o,l,u,d)=>ye(this,Et)[ye(this,bt)].instance[o](l,u,d)),At(this,fs,(o,l,u,d)=>{let h=`${o}_${l}`,p=ye(this,ca).call(this,o,l,u,d);return ye(this,mn)[h]={func:o,args:[l,u,d],unsubscribe:p},()=>{ye(this,mn)[h].unsubscribe(),delete ye(this,mn)[h]}}),!i||!i.backends||i.backends.length<1)throw new Error(`You must specify at least one Backend, if you are coming from 2.x.x (or don't understand this error)
        see this guide: https://github.com/louisbrunner/dnd-multi-backend/tree/master/packages/react-dnd-multi-backend#migrating-from-2xx`);gn(this,hs,new CC),gn(this,Et,{}),gn(this,fr,[]);for(let o of i.backends){let l=ye(this,td).call(this,e,t,o);ye(this,Et)[l.id]=l,ye(this,fr).push(l)}gn(this,bt,ye(this,fr)[0].id),gn(this,mn,{})}};bt=new WeakMap,hs=new WeakMap,Et=new WeakMap,fr=new WeakMap,mn=new WeakMap,td=new WeakMap,rd=new WeakMap,nd=new WeakMap,ua=new WeakMap,ca=new WeakMap,fs=new WeakMap,fv.isSetUp=!1;var PC=fv,RC=(r,e,t)=>new PC(r,e,t);Am();var DC=A.createContext(null),IC=({portal:r,...e})=>{let[t,i]=A.useState(null);return x.jsxs(DC.Provider,{value:r??t,children:[x.jsx(QE,{backend:RC,...e}),r?null:x.jsx("div",{ref:i})]})};function pv(r){let e=null;return()=>(e==null&&(e=r()),e)}function AC(r,e){return r.filter(t=>t!==e)}function NC(r,e){const t=new Set,i=l=>t.add(l);r.forEach(i),e.forEach(i);const o=[];return t.forEach(l=>o.push(l)),o}class jC{enter(e){const t=this.entered.length,i=o=>this.isNodeInDocument(o)&&(!o.contains||o.contains(e));return this.entered=NC(this.entered.filter(i),[e]),t===0&&this.entered.length>0}leave(e){const t=this.entered.length;return this.entered=AC(this.entered.filter(this.isNodeInDocument),e),t>0&&this.entered.length===0}reset(){this.entered=[]}constructor(e){this.entered=[],this.isNodeInDocument=e}}const MC=pv(()=>/firefox/i.test(navigator.userAgent)),gv=pv(()=>!!window.safari);class Cm{interpolate(e){const{xs:t,ys:i,c1s:o,c2s:l,c3s:u}=this;let d=t.length-1;if(e===t[d])return i[d];let h=0,p=u.length-1,m;for(;h<=p;){m=Math.floor(.5*(h+p));const y=t[m];if(y<e)h=m+1;else if(y>e)p=m-1;else return i[m]}d=Math.max(0,p);const v=e-t[d],b=v*v;return i[d]+o[d]*v+l[d]*b+u[d]*v*b}constructor(e,t){const{length:i}=e,o=[];for(let y=0;y<i;y++)o.push(y);o.sort((y,w)=>e[y]<e[w]?-1:1);const l=[],u=[];let d,h;for(let y=0;y<i-1;y++)d=e[y+1]-e[y],h=t[y+1]-t[y],l.push(d),u.push(h/d);const p=[u[0]];for(let y=0;y<l.length-1;y++){const w=u[y],S=u[y+1];if(w*S<=0)p.push(0);else{d=l[y];const E=l[y+1],k=d+E;p.push(3*k/((k+E)/w+(k+d)/S))}}p.push(u[u.length-1]);const m=[],v=[];let b;for(let y=0;y<p.length-1;y++){b=u[y];const w=p[y],S=1/l[y],E=w+p[y+1]-b-b;m.push((b-w-E)*S),v.push(E*S*S)}this.xs=e,this.ys=t,this.c1s=p,this.c2s=m,this.c3s=v}}const $C=1;function mv(r){const e=r.nodeType===$C?r:r.parentElement;if(!e)return null;const{top:t,left:i}=e.getBoundingClientRect();return{x:i,y:t}}function Xo(r){return{x:r.clientX,y:r.clientY}}function LC(r){var e;return r.nodeName==="IMG"&&(MC()||!(!((e=document.documentElement)===null||e===void 0)&&e.contains(r)))}function UC(r,e,t,i){let o=r?e.width:t,l=r?e.height:i;return gv()&&r&&(l/=window.devicePixelRatio,o/=window.devicePixelRatio),{dragPreviewWidth:o,dragPreviewHeight:l}}function FC(r,e,t,i,o){const l=LC(e),d=mv(l?r:e),h={x:t.x-d.x,y:t.y-d.y},{offsetWidth:p,offsetHeight:m}=r,{anchorX:v,anchorY:b}=i,{dragPreviewWidth:y,dragPreviewHeight:w}=UC(l,e,p,m),S=()=>{let U=new Cm([0,.5,1],[h.y,h.y/m*w,h.y+w-m]).interpolate(b);return gv()&&l&&(U+=(window.devicePixelRatio-1)*w),U},E=()=>new Cm([0,.5,1],[h.x,h.x/p*y,h.x+y-p]).interpolate(v),{offsetX:k,offsetY:O}=o,N=k===0||k,z=O===0||O;return{x:N?k:E(),y:z?O:S()}}const yv="__NATIVE_FILE__",vv="__NATIVE_URL__",wv="__NATIVE_TEXT__",_v="__NATIVE_HTML__",Pm=Object.freeze(Object.defineProperty({__proto__:null,FILE:yv,HTML:_v,TEXT:wv,URL:vv},Symbol.toStringTag,{value:"Module"}));function Cc(r,e,t){const i=e.reduce((o,l)=>o||r.getData(l),"");return i??t}const id={[yv]:{exposeProperties:{files:r=>Array.prototype.slice.call(r.files),items:r=>r.items,dataTransfer:r=>r},matchesTypes:["Files"]},[_v]:{exposeProperties:{html:(r,e)=>Cc(r,e,""),dataTransfer:r=>r},matchesTypes:["Html","text/html"]},[vv]:{exposeProperties:{urls:(r,e)=>Cc(r,e,"").split(`
`),dataTransfer:r=>r},matchesTypes:["Url","text/uri-list"]},[wv]:{exposeProperties:{text:(r,e)=>Cc(r,e,""),dataTransfer:r=>r},matchesTypes:["Text","text/plain"]}};class zC{initializeExposedProperties(){Object.keys(this.config.exposeProperties).forEach(e=>{Object.defineProperty(this.item,e,{configurable:!0,enumerable:!0,get(){return console.warn(`Browser doesn't allow reading "${e}" until the drop event.`),null}})})}loadDataTransfer(e){if(e){const t={};Object.keys(this.config.exposeProperties).forEach(i=>{const o=this.config.exposeProperties[i];o!=null&&(t[i]={value:o(e,this.config.matchesTypes),configurable:!0,enumerable:!0})}),Object.defineProperties(this.item,t)}}canDrag(){return!0}beginDrag(){return this.item}isDragging(e,t){return t===e.getSourceId()}endDrag(){}constructor(e){this.config=e,this.item={},this.initializeExposedProperties()}}function BC(r,e){const t=id[r];if(!t)throw new Error(`native type ${r} has no configuration`);const i=new zC(t);return i.loadDataTransfer(e),i}function Pc(r){if(!r)return null;const e=Array.prototype.slice.call(r.types||[]);return Object.keys(id).filter(t=>{const i=id[t];return i!=null&&i.matchesTypes?i.matchesTypes.some(o=>e.indexOf(o)>-1):!1})[0]||null}let HC=class{get window(){if(this.globalContext)return this.globalContext;if(typeof window<"u")return window}get document(){var e;return!((e=this.globalContext)===null||e===void 0)&&e.document?this.globalContext.document:this.window?this.window.document:void 0}get rootElement(){var e;return((e=this.optionsArgs)===null||e===void 0?void 0:e.rootElement)||this.window}constructor(e,t){this.ownerDocument=null,this.globalContext=e,this.optionsArgs=t}};function WC(r,e,t){return e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function Rm(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{},i=Object.keys(t);typeof Object.getOwnPropertySymbols=="function"&&(i=i.concat(Object.getOwnPropertySymbols(t).filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable}))),i.forEach(function(o){WC(r,o,t[o])})}return r}class qC{profile(){var e,t;return{sourcePreviewNodes:this.sourcePreviewNodes.size,sourcePreviewNodeOptions:this.sourcePreviewNodeOptions.size,sourceNodeOptions:this.sourceNodeOptions.size,sourceNodes:this.sourceNodes.size,dragStartSourceIds:((e=this.dragStartSourceIds)===null||e===void 0?void 0:e.length)||0,dropTargetIds:this.dropTargetIds.length,dragEnterTargetIds:this.dragEnterTargetIds.length,dragOverTargetIds:((t=this.dragOverTargetIds)===null||t===void 0?void 0:t.length)||0}}get window(){return this.options.window}get document(){return this.options.document}get rootElement(){return this.options.rootElement}setup(){const e=this.rootElement;if(e!==void 0){if(e.__isReactDndBackendSetUp)throw new Error("Cannot have two HTML5 backends at the same time.");e.__isReactDndBackendSetUp=!0,this.addEventListeners(e)}}teardown(){const e=this.rootElement;if(e!==void 0&&(e.__isReactDndBackendSetUp=!1,this.removeEventListeners(this.rootElement),this.clearCurrentDragSourceNode(),this.asyncEndDragFrameId)){var t;(t=this.window)===null||t===void 0||t.cancelAnimationFrame(this.asyncEndDragFrameId)}}connectDragPreview(e,t,i){return this.sourcePreviewNodeOptions.set(e,i),this.sourcePreviewNodes.set(e,t),()=>{this.sourcePreviewNodes.delete(e),this.sourcePreviewNodeOptions.delete(e)}}connectDragSource(e,t,i){this.sourceNodes.set(e,t),this.sourceNodeOptions.set(e,i);const o=u=>this.handleDragStart(u,e),l=u=>this.handleSelectStart(u);return t.setAttribute("draggable","true"),t.addEventListener("dragstart",o),t.addEventListener("selectstart",l),()=>{this.sourceNodes.delete(e),this.sourceNodeOptions.delete(e),t.removeEventListener("dragstart",o),t.removeEventListener("selectstart",l),t.setAttribute("draggable","false")}}connectDropTarget(e,t){const i=u=>this.handleDragEnter(u,e),o=u=>this.handleDragOver(u,e),l=u=>this.handleDrop(u,e);return t.addEventListener("dragenter",i),t.addEventListener("dragover",o),t.addEventListener("drop",l),()=>{t.removeEventListener("dragenter",i),t.removeEventListener("dragover",o),t.removeEventListener("drop",l)}}addEventListeners(e){e.addEventListener&&(e.addEventListener("dragstart",this.handleTopDragStart),e.addEventListener("dragstart",this.handleTopDragStartCapture,!0),e.addEventListener("dragend",this.handleTopDragEndCapture,!0),e.addEventListener("dragenter",this.handleTopDragEnter),e.addEventListener("dragenter",this.handleTopDragEnterCapture,!0),e.addEventListener("dragleave",this.handleTopDragLeaveCapture,!0),e.addEventListener("dragover",this.handleTopDragOver),e.addEventListener("dragover",this.handleTopDragOverCapture,!0),e.addEventListener("drop",this.handleTopDrop),e.addEventListener("drop",this.handleTopDropCapture,!0))}removeEventListeners(e){e.removeEventListener&&(e.removeEventListener("dragstart",this.handleTopDragStart),e.removeEventListener("dragstart",this.handleTopDragStartCapture,!0),e.removeEventListener("dragend",this.handleTopDragEndCapture,!0),e.removeEventListener("dragenter",this.handleTopDragEnter),e.removeEventListener("dragenter",this.handleTopDragEnterCapture,!0),e.removeEventListener("dragleave",this.handleTopDragLeaveCapture,!0),e.removeEventListener("dragover",this.handleTopDragOver),e.removeEventListener("dragover",this.handleTopDragOverCapture,!0),e.removeEventListener("drop",this.handleTopDrop),e.removeEventListener("drop",this.handleTopDropCapture,!0))}getCurrentSourceNodeOptions(){const e=this.monitor.getSourceId(),t=this.sourceNodeOptions.get(e);return Rm({dropEffect:this.altKeyPressed?"copy":"move"},t||{})}getCurrentDropEffect(){return this.isDraggingNativeItem()?"copy":this.getCurrentSourceNodeOptions().dropEffect}getCurrentSourcePreviewNodeOptions(){const e=this.monitor.getSourceId(),t=this.sourcePreviewNodeOptions.get(e);return Rm({anchorX:.5,anchorY:.5,captureDraggingState:!1},t||{})}isDraggingNativeItem(){const e=this.monitor.getItemType();return Object.keys(Pm).some(t=>Pm[t]===e)}beginDragNativeItem(e,t){this.clearCurrentDragSourceNode(),this.currentNativeSource=BC(e,t),this.currentNativeHandle=this.registry.addSource(e,this.currentNativeSource),this.actions.beginDrag([this.currentNativeHandle])}setCurrentDragSourceNode(e){this.clearCurrentDragSourceNode(),this.currentDragSourceNode=e;const t=1e3;this.mouseMoveTimeoutTimer=setTimeout(()=>{var i;return(i=this.rootElement)===null||i===void 0?void 0:i.addEventListener("mousemove",this.endDragIfSourceWasRemovedFromDOM,!0)},t)}clearCurrentDragSourceNode(){if(this.currentDragSourceNode){if(this.currentDragSourceNode=null,this.rootElement){var e;(e=this.window)===null||e===void 0||e.clearTimeout(this.mouseMoveTimeoutTimer||void 0),this.rootElement.removeEventListener("mousemove",this.endDragIfSourceWasRemovedFromDOM,!0)}return this.mouseMoveTimeoutTimer=null,!0}return!1}handleDragStart(e,t){e.defaultPrevented||(this.dragStartSourceIds||(this.dragStartSourceIds=[]),this.dragStartSourceIds.unshift(t))}handleDragEnter(e,t){this.dragEnterTargetIds.unshift(t)}handleDragOver(e,t){this.dragOverTargetIds===null&&(this.dragOverTargetIds=[]),this.dragOverTargetIds.unshift(t)}handleDrop(e,t){this.dropTargetIds.unshift(t)}constructor(e,t,i){this.sourcePreviewNodes=new Map,this.sourcePreviewNodeOptions=new Map,this.sourceNodes=new Map,this.sourceNodeOptions=new Map,this.dragStartSourceIds=null,this.dropTargetIds=[],this.dragEnterTargetIds=[],this.currentNativeSource=null,this.currentNativeHandle=null,this.currentDragSourceNode=null,this.altKeyPressed=!1,this.mouseMoveTimeoutTimer=null,this.asyncEndDragFrameId=null,this.dragOverTargetIds=null,this.lastClientOffset=null,this.hoverRafId=null,this.getSourceClientOffset=o=>{const l=this.sourceNodes.get(o);return l&&mv(l)||null},this.endDragNativeItem=()=>{this.isDraggingNativeItem()&&(this.actions.endDrag(),this.currentNativeHandle&&this.registry.removeSource(this.currentNativeHandle),this.currentNativeHandle=null,this.currentNativeSource=null)},this.isNodeInDocument=o=>!!(o&&this.document&&this.document.body&&this.document.body.contains(o)),this.endDragIfSourceWasRemovedFromDOM=()=>{const o=this.currentDragSourceNode;o==null||this.isNodeInDocument(o)||this.clearCurrentDragSourceNode()&&this.monitor.isDragging()&&this.actions.endDrag()},this.handleTopDragStartCapture=()=>{this.clearCurrentDragSourceNode(),this.dragStartSourceIds=[]},this.handleTopDragStart=o=>{if(o.defaultPrevented)return;const{dragStartSourceIds:l}=this;this.dragStartSourceIds=null;const u=Xo(o);this.monitor.isDragging()&&this.actions.endDrag(),this.actions.beginDrag(l||[],{publishSource:!1,getSourceClientOffset:this.getSourceClientOffset,clientOffset:u});const{dataTransfer:d}=o,h=Pc(d);if(this.monitor.isDragging()){if(d&&typeof d.setDragImage=="function"){const m=this.monitor.getSourceId(),v=this.sourceNodes.get(m),b=this.sourcePreviewNodes.get(m)||v;if(b){const{anchorX:y,anchorY:w,offsetX:S,offsetY:E}=this.getCurrentSourcePreviewNodeOptions(),N=FC(v,b,u,{anchorX:y,anchorY:w},{offsetX:S,offsetY:E});d.setDragImage(b,N.x,N.y)}}try{d==null||d.setData("application/json",{})}catch{}this.setCurrentDragSourceNode(o.target);const{captureDraggingState:p}=this.getCurrentSourcePreviewNodeOptions();p?this.actions.publishDragSource():setTimeout(()=>this.actions.publishDragSource(),0)}else if(h)this.beginDragNativeItem(h);else{if(d&&!d.types&&(o.target&&!o.target.hasAttribute||!o.target.hasAttribute("draggable")))return;o.preventDefault()}},this.handleTopDragEndCapture=()=>{this.clearCurrentDragSourceNode()&&this.monitor.isDragging()&&this.actions.endDrag()},this.handleTopDragEnterCapture=o=>{if(this.dragEnterTargetIds=[],this.isDraggingNativeItem()){var l;(l=this.currentNativeSource)===null||l===void 0||l.loadDataTransfer(o.dataTransfer)}if(!this.enterLeaveCounter.enter(o.target)||this.monitor.isDragging())return;const{dataTransfer:d}=o,h=Pc(d);h&&this.beginDragNativeItem(h,d)},this.handleTopDragEnter=o=>{const{dragEnterTargetIds:l}=this;if(this.dragEnterTargetIds=[],!this.monitor.isDragging())return;this.altKeyPressed=o.altKey,l.length>0&&this.actions.hover(l,{clientOffset:Xo(o)}),l.some(d=>this.monitor.canDropOnTarget(d))&&(o.preventDefault(),o.dataTransfer&&(o.dataTransfer.dropEffect=this.getCurrentDropEffect()))},this.handleTopDragOverCapture=o=>{if(this.dragOverTargetIds=[],this.isDraggingNativeItem()){var l;(l=this.currentNativeSource)===null||l===void 0||l.loadDataTransfer(o.dataTransfer)}},this.handleTopDragOver=o=>{const{dragOverTargetIds:l}=this;if(this.dragOverTargetIds=[],!this.monitor.isDragging()){o.preventDefault(),o.dataTransfer&&(o.dataTransfer.dropEffect="none");return}this.altKeyPressed=o.altKey,this.lastClientOffset=Xo(o),this.hoverRafId===null&&typeof requestAnimationFrame<"u"&&(this.hoverRafId=requestAnimationFrame(()=>{this.monitor.isDragging()&&this.actions.hover(l||[],{clientOffset:this.lastClientOffset}),this.hoverRafId=null})),(l||[]).some(d=>this.monitor.canDropOnTarget(d))?(o.preventDefault(),o.dataTransfer&&(o.dataTransfer.dropEffect=this.getCurrentDropEffect())):this.isDraggingNativeItem()?o.preventDefault():(o.preventDefault(),o.dataTransfer&&(o.dataTransfer.dropEffect="none"))},this.handleTopDragLeaveCapture=o=>{this.isDraggingNativeItem()&&o.preventDefault(),this.enterLeaveCounter.leave(o.target)&&this.isDraggingNativeItem()&&setTimeout(()=>this.endDragNativeItem(),0)},this.handleTopDropCapture=o=>{if(this.dropTargetIds=[],this.isDraggingNativeItem()){var l;o.preventDefault(),(l=this.currentNativeSource)===null||l===void 0||l.loadDataTransfer(o.dataTransfer)}else Pc(o.dataTransfer)&&o.preventDefault();this.enterLeaveCounter.reset()},this.handleTopDrop=o=>{const{dropTargetIds:l}=this;this.dropTargetIds=[],this.actions.hover(l,{clientOffset:Xo(o)}),this.actions.drop({dropEffect:this.getCurrentDropEffect()}),this.isDraggingNativeItem()?this.endDragNativeItem():this.monitor.isDragging()&&this.actions.endDrag()},this.handleSelectStart=o=>{const l=o.target;typeof l.dragDrop=="function"&&(l.tagName==="INPUT"||l.tagName==="SELECT"||l.tagName==="TEXTAREA"||l.isContentEditable||(o.preventDefault(),l.dragDrop()))},this.options=new HC(t,i),this.actions=e.getActions(),this.monitor=e.getMonitor(),this.registry=e.getRegistry(),this.enterLeaveCounter=new jC(this.isNodeInDocument)}}const VC=function(e,t,i){return new qC(e,t,i)};function KC(r,e,...t){if(!r){let i;{let o=0;i=new Error(e.replace(/%s/g,function(){return t[o++]})),i.name="Invariant Violation"}throw i.framesToPop=1,i}}var Br;(function(r){r.mouse="mouse",r.touch="touch",r.keyboard="keyboard"})(Br||(Br={}));const GC={Left:1,Right:2,Center:4},YC={Left:0,Center:1,Right:2};function Rc(r){return r.button===void 0||r.button===YC.Left}function JC(r){return r.buttons===void 0||(r.buttons&GC.Left)===0}function Sv(r){return!!r.targetTouches}const QC=1;function XC(r){const e=r.nodeType===QC?r:r.parentElement;if(!e)return;const{top:t,left:i}=e.getBoundingClientRect();return{x:i,y:t}}function ZC(r,e){if(r.targetTouches.length===1)return xa(r.targetTouches[0]);if(e&&r.touches.length===1&&r.touches[0].target===e.target)return xa(r.touches[0])}function xa(r,e){return Sv(r)?ZC(r,e):{x:r.clientX,y:r.clientY}}function eP(r,e,t,i){return Math.sqrt(Math.pow(Math.abs(t-r),2)+Math.pow(Math.abs(i-e),2))}function tP(r,e,t,i,o){if(!o)return!1;const l=Math.atan2(i-e,t-r)*180/Math.PI+180;for(let u=0;u<o.length;++u){const d=o[u];if(d&&(d.start==null||l>=d.start)&&(d.end==null||l<=d.end))return!0}return!1}const Dm=(()=>{let r=!1;try{addEventListener("test",()=>{},Object.defineProperty({},"passive",{get(){return r=!0,!0}}))}catch{}return r})();class rP{get delay(){var e;return(e=this.args.delay)!==null&&e!==void 0?e:0}get scrollAngleRanges(){return this.args.scrollAngleRanges}get getDropTargetElementsAtPoint(){return this.args.getDropTargetElementsAtPoint}get ignoreContextMenu(){var e;return(e=this.args.ignoreContextMenu)!==null&&e!==void 0?e:!1}get enableHoverOutsideTarget(){var e;return(e=this.args.enableHoverOutsideTarget)!==null&&e!==void 0?e:!1}get enableKeyboardEvents(){var e;return(e=this.args.enableKeyboardEvents)!==null&&e!==void 0?e:!1}get enableMouseEvents(){var e;return(e=this.args.enableMouseEvents)!==null&&e!==void 0?e:!1}get enableTouchEvents(){var e;return(e=this.args.enableTouchEvents)!==null&&e!==void 0?e:!0}get touchSlop(){return this.args.touchSlop||0}get delayTouchStart(){var e,t,i,o;return(o=(i=(e=this.args)===null||e===void 0?void 0:e.delayTouchStart)!==null&&i!==void 0?i:(t=this.args)===null||t===void 0?void 0:t.delay)!==null&&o!==void 0?o:0}get delayMouseStart(){var e,t,i,o;return(o=(i=(e=this.args)===null||e===void 0?void 0:e.delayMouseStart)!==null&&i!==void 0?i:(t=this.args)===null||t===void 0?void 0:t.delay)!==null&&o!==void 0?o:0}get window(){if(this.context&&this.context.window)return this.context.window;if(typeof window<"u")return window}get document(){var e;if(!((e=this.context)===null||e===void 0)&&e.document)return this.context.document;if(this.window)return this.window.document}get rootElement(){var e;return((e=this.args)===null||e===void 0?void 0:e.rootElement)||this.document}constructor(e,t){this.args=e,this.context=t}}const cs={[Br.mouse]:{start:"mousedown",move:"mousemove",end:"mouseup",contextmenu:"contextmenu"},[Br.touch]:{start:"touchstart",move:"touchmove",end:"touchend"},[Br.keyboard]:{keydown:"keydown"}};class ys{profile(){var e;return{sourceNodes:this.sourceNodes.size,sourcePreviewNodes:this.sourcePreviewNodes.size,sourcePreviewNodeOptions:this.sourcePreviewNodeOptions.size,targetNodes:this.targetNodes.size,dragOverTargetIds:((e=this.dragOverTargetIds)===null||e===void 0?void 0:e.length)||0}}get document(){return this.options.document}setup(){const e=this.options.rootElement;e&&(KC(!ys.isSetUp,"Cannot have two Touch backends at the same time."),ys.isSetUp=!0,this.addEventListener(e,"start",this.getTopMoveStartHandler()),this.addEventListener(e,"start",this.handleTopMoveStartCapture,!0),this.addEventListener(e,"move",this.handleTopMove),this.addEventListener(e,"move",this.handleTopMoveCapture,!0),this.addEventListener(e,"end",this.handleTopMoveEndCapture,!0),this.options.enableMouseEvents&&!this.options.ignoreContextMenu&&this.addEventListener(e,"contextmenu",this.handleTopMoveEndCapture),this.options.enableKeyboardEvents&&this.addEventListener(e,"keydown",this.handleCancelOnEscape,!0))}teardown(){const e=this.options.rootElement;e&&(ys.isSetUp=!1,this._mouseClientOffset={},this.removeEventListener(e,"start",this.handleTopMoveStartCapture,!0),this.removeEventListener(e,"start",this.handleTopMoveStart),this.removeEventListener(e,"move",this.handleTopMoveCapture,!0),this.removeEventListener(e,"move",this.handleTopMove),this.removeEventListener(e,"end",this.handleTopMoveEndCapture,!0),this.options.enableMouseEvents&&!this.options.ignoreContextMenu&&this.removeEventListener(e,"contextmenu",this.handleTopMoveEndCapture),this.options.enableKeyboardEvents&&this.removeEventListener(e,"keydown",this.handleCancelOnEscape,!0),this.uninstallSourceNodeRemovalObserver())}addEventListener(e,t,i,o=!1){const l=Dm?{capture:o,passive:!1}:o;this.listenerTypes.forEach(function(u){const d=cs[u][t];d&&e.addEventListener(d,i,l)})}removeEventListener(e,t,i,o=!1){const l=Dm?{capture:o,passive:!1}:o;this.listenerTypes.forEach(function(u){const d=cs[u][t];d&&e.removeEventListener(d,i,l)})}connectDragSource(e,t){const i=this.handleMoveStart.bind(this,e);return this.sourceNodes.set(e,t),this.addEventListener(t,"start",i),()=>{this.sourceNodes.delete(e),this.removeEventListener(t,"start",i)}}connectDragPreview(e,t,i){return this.sourcePreviewNodeOptions.set(e,i),this.sourcePreviewNodes.set(e,t),()=>{this.sourcePreviewNodes.delete(e),this.sourcePreviewNodeOptions.delete(e)}}connectDropTarget(e,t){const i=this.options.rootElement;if(!this.document||!i)return()=>{};const o=l=>{if(!this.document||!i||!this.monitor.isDragging())return;let u;switch(l.type){case cs.mouse.move:u={x:l.clientX,y:l.clientY};break;case cs.touch.move:var d,h;u={x:((d=l.touches[0])===null||d===void 0?void 0:d.clientX)||0,y:((h=l.touches[0])===null||h===void 0?void 0:h.clientY)||0};break}const p=u!=null?this.document.elementFromPoint(u.x,u.y):void 0,m=p&&t.contains(p);if(p===t||m)return this.handleMove(l,e)};return this.addEventListener(this.document.body,"move",o),this.targetNodes.set(e,t),()=>{this.document&&(this.targetNodes.delete(e),this.removeEventListener(this.document.body,"move",o))}}getTopMoveStartHandler(){return!this.options.delayTouchStart&&!this.options.delayMouseStart?this.handleTopMoveStart:this.handleTopMoveStartDelay}installSourceNodeRemovalObserver(e){this.uninstallSourceNodeRemovalObserver(),this.draggedSourceNode=e,this.draggedSourceNodeRemovalObserver=new MutationObserver(()=>{e&&!e.parentElement&&(this.resurrectSourceNode(),this.uninstallSourceNodeRemovalObserver())}),!(!e||!e.parentElement)&&this.draggedSourceNodeRemovalObserver.observe(e.parentElement,{childList:!0})}resurrectSourceNode(){this.document&&this.draggedSourceNode&&(this.draggedSourceNode.style.display="none",this.draggedSourceNode.removeAttribute("data-reactid"),this.document.body.appendChild(this.draggedSourceNode))}uninstallSourceNodeRemovalObserver(){this.draggedSourceNodeRemovalObserver&&this.draggedSourceNodeRemovalObserver.disconnect(),this.draggedSourceNodeRemovalObserver=void 0,this.draggedSourceNode=void 0}constructor(e,t,i){this.getSourceClientOffset=o=>{const l=this.sourceNodes.get(o);return l&&XC(l)},this.handleTopMoveStartCapture=o=>{Rc(o)&&(this.moveStartSourceIds=[])},this.handleMoveStart=o=>{Array.isArray(this.moveStartSourceIds)&&this.moveStartSourceIds.unshift(o)},this.handleTopMoveStart=o=>{if(!Rc(o))return;const l=xa(o);l&&(Sv(o)&&(this.lastTargetTouchFallback=o.targetTouches[0]),this._mouseClientOffset=l),this.waitingForDelay=!1},this.handleTopMoveStartDelay=o=>{if(!Rc(o))return;const l=o.type===cs.touch.start?this.options.delayTouchStart:this.options.delayMouseStart;this.timeout=setTimeout(this.handleTopMoveStart.bind(this,o),l),this.waitingForDelay=!0},this.handleTopMoveCapture=()=>{this.dragOverTargetIds=[]},this.handleMove=(o,l)=>{this.dragOverTargetIds&&this.dragOverTargetIds.unshift(l)},this.handleTopMove=o=>{if(this.timeout&&clearTimeout(this.timeout),!this.document||this.waitingForDelay)return;const{moveStartSourceIds:l,dragOverTargetIds:u}=this,d=this.options.enableHoverOutsideTarget,h=xa(o,this.lastTargetTouchFallback);if(!h)return;if(this._isScrolling||!this.monitor.isDragging()&&tP(this._mouseClientOffset.x||0,this._mouseClientOffset.y||0,h.x,h.y,this.options.scrollAngleRanges)){this._isScrolling=!0;return}if(!this.monitor.isDragging()&&this._mouseClientOffset.hasOwnProperty("x")&&l&&eP(this._mouseClientOffset.x||0,this._mouseClientOffset.y||0,h.x,h.y)>(this.options.touchSlop?this.options.touchSlop:0)&&(this.moveStartSourceIds=void 0,this.actions.beginDrag(l,{clientOffset:this._mouseClientOffset,getSourceClientOffset:this.getSourceClientOffset,publishSource:!1})),!this.monitor.isDragging())return;const p=this.sourceNodes.get(this.monitor.getSourceId());this.installSourceNodeRemovalObserver(p),this.actions.publishDragSource(),o.cancelable&&o.preventDefault();const m=(u||[]).map(w=>this.targetNodes.get(w)).filter(w=>!!w),v=this.options.getDropTargetElementsAtPoint?this.options.getDropTargetElementsAtPoint(h.x,h.y,m):this.document.elementsFromPoint(h.x,h.y),b=[];for(const w in v){if(!v.hasOwnProperty(w))continue;let S=v[w];for(S!=null&&b.push(S);S;)S=S.parentElement,S&&b.indexOf(S)===-1&&b.push(S)}const y=b.filter(w=>m.indexOf(w)>-1).map(w=>this._getDropTargetId(w)).filter(w=>!!w).filter((w,S,E)=>E.indexOf(w)===S);if(d)for(const w in this.targetNodes){const S=this.targetNodes.get(w);if(p&&S&&S.contains(p)&&y.indexOf(w)===-1){y.unshift(w);break}}y.reverse(),this.actions.hover(y,{clientOffset:h})},this._getDropTargetId=o=>{const l=this.targetNodes.keys();let u=l.next();for(;u.done===!1;){const d=u.value;if(o===this.targetNodes.get(d))return d;u=l.next()}},this.handleTopMoveEndCapture=o=>{if(this._isScrolling=!1,this.lastTargetTouchFallback=void 0,!!JC(o)){if(!this.monitor.isDragging()||this.monitor.didDrop()){this.moveStartSourceIds=void 0;return}o.cancelable&&o.preventDefault(),this._mouseClientOffset={},this.uninstallSourceNodeRemovalObserver(),this.actions.drop(),this.actions.endDrag()}},this.handleCancelOnEscape=o=>{o.key==="Escape"&&this.monitor.isDragging()&&(this._mouseClientOffset={},this.uninstallSourceNodeRemovalObserver(),this.actions.endDrag())},this.options=new rP(i,t),this.actions=e.getActions(),this.monitor=e.getMonitor(),this.sourceNodes=new Map,this.sourcePreviewNodes=new Map,this.sourcePreviewNodeOptions=new Map,this.targetNodes=new Map,this.listenerTypes=[],this._mouseClientOffset={},this._isScrolling=!1,this.options.enableMouseEvents&&this.listenerTypes.push(Br.mouse),this.options.enableTouchEvents&&this.listenerTypes.push(Br.touch),this.options.enableKeyboardEvents&&this.listenerTypes.push(Br.keyboard)}}const nP=function(e,t={},i={}){return new ys(e,t,i)},bv=(r,e)=>({event:r,check:e}),iP=bv("touchstart",r=>{const e=r;return e.touches!==null&&e.touches!==void 0}),sP=bv("pointerdown",r=>r.pointerType=="mouse"),oP={backends:[{id:"html5",backend:VC,transition:sP},{id:"touch",backend:nP,options:{enableMouseEvents:!0},preview:!0,transition:iP}]};function aP(){return{replace(e){window.history.replaceState(e.state,"",e.search||"?")},push(e){window.history.pushState(e.state,"",e.search||"?")},get location(){return window.location}}}const lP=({children:r})=>{const[e]=A.useState(aP);return r(e)},uP=()=>x.jsx(x.Fragment,{children:x.jsxs("div",{className:"about-container",children:[x.jsx("h3",{className:"title",children:"About"}),x.jsx("hr",{}),x.jsx("p",{children:"Often, the biggest challenge in running a race is finding the time to train. Having a good training plan is key, but understanding how your running life intersects your non-running life is even more important. After all, youre not likely to kill that Sunday long run if it follows that Saturday night Phish show. Your training needs to work despite travel you do, work deadlines you face, kid schedules, doctors appointments, election days, Maker Faire, visits from out-of-town friends, baseball games, dates, gran fondos, colonoscopies, court appearanceswhatever life throws at you is easier to manage when its on a calendar."}),x.jsx("p",{children:"Each time I gear up for a race, I search Google for a way to marry a training plan to my calendar and Im surprised when nothing comes up. Instead, I do what you probably do: I enter each training run by hand. Its a collosal waste of time and an easy way add or remove a few miles with a careless fat finger."}),x.jsx("p",{children:"So to save myself this mundane ritual as I lock in a training schedule for the 2016 Boston Marathon (and many evenings and weekends since), I hacked together a web application that lets me:"}),x.jsxs("ol",{children:[x.jsx("li",{children:"Choose the date of my goal race"}),x.jsx("li",{children:"Choose a training plan"}),x.jsx("li",{children:"Specify miles or km (Hello non-Americans!)"}),x.jsx("li",{children:"Download an iCalendar (.ics) file with the right training runs on it"})]}),x.jsxs("p",{children:[" If youre not familiar with ",x.jsx("a",{href:"https://en.wikipedia.org/wiki/ICalendar",target:"_blank",children:"iCalendar"})," files, what you need to know is that you can import them into Google Calendar, the OSX Calendar app, and any other calendar app worth using."]}),x.jsx("p",{children:"(If you do use Google Calendar, I recommend creating a new calendar to import into so your training schedule gets its own color and so you can show/hide it as needed.)"}),x.jsx("p",{children:"The app knows about some training plans:"}),x.jsxs("ul",{children:[x.jsxs("li",{children:["Several plans by Pete Pfitzinger and Scott Douglas from their popular ",x.jsx("a",{href:"http://www.amazon.com/Advanced-Marathoning-Edition-Pete-Pfitzinger/dp/0736074600",target:"_blank",children:"Advanced Marathoning (3rd edition)"})," book"]}),x.jsxs("li",{children:["Several plans by Pete Pfitzinger and Scott Douglas from their popular ",x.jsx("a",{href:"https://www.amazon.com/dp/1718237472",target:"_blank",children:"Advanced Marathoning (4th edition)"})," book"]}),x.jsxs("li",{children:["Several plans by Pete Pfitzinger and Philip Latter from their popular ",x.jsx("a",{href:"https://www.amazon.com/Faster-Road-Racing-Half-Marathon/dp/1450470459",target:"_blank",children:" Faster Road Racing: 5K to Half Marathon"})," book"]}),x.jsxs("li",{children:["Beginner and Advanced Marathon plans by Keith and Kevin Hanson from their popular ",x.jsx("a",{href:"https://www.amazon.com/Hansons-Marathon-Method-Your-Fastest/dp/1937715485",target:"_blank",children:"Hansons Marathon Method"})," book"]}),x.jsxs("li",{children:["Several plans by Hal Higdon from his popular ",x.jsx("a",{href:"http://www.amazon.com/Marathon-Ultimate-Training-Programs-Marathons/dp/1609612248",target:"_blank",children:"Marathon: The Ultimate Training Guide"})," book"]}),x.jsx("li",{children:"A few popular Couch to 5K plans for new runners"})]}),x.jsx("p",{children:"Ive read these books and have trained with programs from them in the past. The plans will make little sense if you dont take the time to read the books they came from. So, seriously, understand what youre getting yourself into so you get the most out of your training and dont hurt yourself."}),x.jsx("p",{children:"The scope of this app is intentionally narrowit helps get a stock training plan onto your calendar with as little friction as possible. Once its on your calendar, by all means adjust the scheduled runs as necessary so your running life doesnt wreck your non-running life and vice-versa."}),x.jsx("p",{children:"That being said, you can make some minor changes to the plan before you download it:"}),x.jsxs("ol",{children:[x.jsx("li",{children:"Swap any two workouts easily using drag-and-drop: just grab the workout you want to move and drag it where you want it to go."}),x.jsx("li",{children:"Swap all workouts that fall on a given day of the week with workouts on another day of the week: just grab the day of week heading (e.g. Sunday) and drop it onto the day you would like to swap with (e.g. Saturday)."}),x.jsx("li",{children:"An undo button will appear near the top of the screen if you need it."})]}),x.jsx("p",{children:"Note: These features work best on bigger screens; day-of-week swapping is not currently available on devices with smallest screens."}),x.jsx("p",{children:"Thanks for reading this far. If you find any bugs, have any questions or feedback feel free to get in touch (contact details appear below)."})]})});Ow.createRoot(document.getElementById("root")).render(x.jsx(A.StrictMode,{children:x.jsx(IC,{options:oP,children:x.jsx(gC,{adapter:lP,children:x.jsx("div",{className:"app",children:x.jsx(q_,{basename:"/Running_Calendar-dev/",children:x.jsx(S_,{children:x.jsxs(Zo,{path:"/",element:x.jsx(nS,{}),children:[x.jsx(Zo,{index:!0,path:"/",element:x.jsx(OC,{})}),x.jsx(Zo,{path:"about",element:x.jsx(uP,{})})]})})})})})})}));
