var ww=Object.defineProperty;var _w=(r,e,t)=>e in r?ww(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t;var Wt=(r,e,t)=>_w(r,typeof e!="symbol"?e+"":e,t);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const u of l.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&i(u)}).observe(document,{childList:!0,subtree:!0});function t(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(o){if(o.ep)return;o.ep=!0;const l=t(o);fetch(o.href,l)}})();var jp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ca(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}function Am(r){if(r.__esModule)return r;var e=r.default;if(typeof e=="function"){var t=function i(){return this instanceof i?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(r).forEach(function(i){var o=Object.getOwnPropertyDescriptor(r,i);Object.defineProperty(t,i,o.get?o:{enumerable:!0,get:function(){return r[i]}})}),t}var Mu={exports:{}},ss={},$u={exports:{}},Se={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mp;function Sw(){if(Mp)return Se;Mp=1;var r=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),u=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),v=Symbol.iterator;function _(R){return R===null||typeof R!="object"?null:(R=v&&R[v]||R["@@iterator"],typeof R=="function"?R:null)}var y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,b={};function E(R,G,oe){this.props=R,this.context=G,this.refs=b,this.updater=oe||y}E.prototype.isReactComponent={},E.prototype.setState=function(R,G){if(typeof R!="object"&&typeof R!="function"&&R!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,R,G,"setState")},E.prototype.forceUpdate=function(R){this.updater.enqueueForceUpdate(this,R,"forceUpdate")};function k(){}k.prototype=E.prototype;function O(R,G,oe){this.props=R,this.context=G,this.refs=b,this.updater=oe||y}var j=O.prototype=new k;j.constructor=O,w(j,E.prototype),j.isPureReactComponent=!0;var H=Array.isArray,B=Object.prototype.hasOwnProperty,U={current:null},$={key:!0,ref:!0,__self:!0,__source:!0};function Y(R,G,oe){var de,we={},ve=null,ke=null;if(G!=null)for(de in G.ref!==void 0&&(ke=G.ref),G.key!==void 0&&(ve=""+G.key),G)B.call(G,de)&&!$.hasOwnProperty(de)&&(we[de]=G[de]);var be=arguments.length-2;if(be===1)we.children=oe;else if(1<be){for(var Te=Array(be),Ke=0;Ke<be;Ke++)Te[Ke]=arguments[Ke+2];we.children=Te}if(R&&R.defaultProps)for(de in be=R.defaultProps,be)we[de]===void 0&&(we[de]=be[de]);return{$$typeof:r,type:R,key:ve,ref:ke,props:we,_owner:U.current}}function te(R,G){return{$$typeof:r,type:R.type,key:G,ref:R.ref,props:R.props,_owner:R._owner}}function ne(R){return typeof R=="object"&&R!==null&&R.$$typeof===r}function I(R){var G={"=":"=0",":":"=2"};return"$"+R.replace(/[=:]/g,function(oe){return G[oe]})}var q=/\/+/g;function J(R,G){return typeof R=="object"&&R!==null&&R.key!=null?I(""+R.key):G.toString(36)}function ee(R,G,oe,de,we){var ve=typeof R;(ve==="undefined"||ve==="boolean")&&(R=null);var ke=!1;if(R===null)ke=!0;else switch(ve){case"string":case"number":ke=!0;break;case"object":switch(R.$$typeof){case r:case e:ke=!0}}if(ke)return ke=R,we=we(ke),R=de===""?"."+J(ke,0):de,H(we)?(oe="",R!=null&&(oe=R.replace(q,"$&/")+"/"),ee(we,G,oe,"",function(Ke){return Ke})):we!=null&&(ne(we)&&(we=te(we,oe+(!we.key||ke&&ke.key===we.key?"":(""+we.key).replace(q,"$&/")+"/")+R)),G.push(we)),1;if(ke=0,de=de===""?".":de+":",H(R))for(var be=0;be<R.length;be++){ve=R[be];var Te=de+J(ve,be);ke+=ee(ve,G,oe,Te,we)}else if(Te=_(R),typeof Te=="function")for(R=Te.call(R),be=0;!(ve=R.next()).done;)ve=ve.value,Te=de+J(ve,be++),ke+=ee(ve,G,oe,Te,we);else if(ve==="object")throw G=String(R),Error("Objects are not valid as a React child (found: "+(G==="[object Object]"?"object with keys {"+Object.keys(R).join(", ")+"}":G)+"). If you meant to render a collection of children, use an array instead.");return ke}function D(R,G,oe){if(R==null)return R;var de=[],we=0;return ee(R,de,"","",function(ve){return G.call(oe,ve,we++)}),de}function C(R){if(R._status===-1){var G=R._result;G=G(),G.then(function(oe){(R._status===0||R._status===-1)&&(R._status=1,R._result=oe)},function(oe){(R._status===0||R._status===-1)&&(R._status=2,R._result=oe)}),R._status===-1&&(R._status=0,R._result=G)}if(R._status===1)return R._result.default;throw R._result}var V={current:null},z={transition:null},K={ReactCurrentDispatcher:V,ReactCurrentBatchConfig:z,ReactCurrentOwner:U};function M(){throw Error("act(...) is not supported in production builds of React.")}return Se.Children={map:D,forEach:function(R,G,oe){D(R,function(){G.apply(this,arguments)},oe)},count:function(R){var G=0;return D(R,function(){G++}),G},toArray:function(R){return D(R,function(G){return G})||[]},only:function(R){if(!ne(R))throw Error("React.Children.only expected to receive a single React element child.");return R}},Se.Component=E,Se.Fragment=t,Se.Profiler=o,Se.PureComponent=O,Se.StrictMode=i,Se.Suspense=h,Se.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=K,Se.act=M,Se.cloneElement=function(R,G,oe){if(R==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+R+".");var de=w({},R.props),we=R.key,ve=R.ref,ke=R._owner;if(G!=null){if(G.ref!==void 0&&(ve=G.ref,ke=U.current),G.key!==void 0&&(we=""+G.key),R.type&&R.type.defaultProps)var be=R.type.defaultProps;for(Te in G)B.call(G,Te)&&!$.hasOwnProperty(Te)&&(de[Te]=G[Te]===void 0&&be!==void 0?be[Te]:G[Te])}var Te=arguments.length-2;if(Te===1)de.children=oe;else if(1<Te){be=Array(Te);for(var Ke=0;Ke<Te;Ke++)be[Ke]=arguments[Ke+2];de.children=be}return{$$typeof:r,type:R.type,key:we,ref:ve,props:de,_owner:ke}},Se.createContext=function(R){return R={$$typeof:u,_currentValue:R,_currentValue2:R,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},R.Provider={$$typeof:l,_context:R},R.Consumer=R},Se.createElement=Y,Se.createFactory=function(R){var G=Y.bind(null,R);return G.type=R,G},Se.createRef=function(){return{current:null}},Se.forwardRef=function(R){return{$$typeof:d,render:R}},Se.isValidElement=ne,Se.lazy=function(R){return{$$typeof:m,_payload:{_status:-1,_result:R},_init:C}},Se.memo=function(R,G){return{$$typeof:p,type:R,compare:G===void 0?null:G}},Se.startTransition=function(R){var G=z.transition;z.transition={};try{R()}finally{z.transition=G}},Se.unstable_act=M,Se.useCallback=function(R,G){return V.current.useCallback(R,G)},Se.useContext=function(R){return V.current.useContext(R)},Se.useDebugValue=function(){},Se.useDeferredValue=function(R){return V.current.useDeferredValue(R)},Se.useEffect=function(R,G){return V.current.useEffect(R,G)},Se.useId=function(){return V.current.useId()},Se.useImperativeHandle=function(R,G,oe){return V.current.useImperativeHandle(R,G,oe)},Se.useInsertionEffect=function(R,G){return V.current.useInsertionEffect(R,G)},Se.useLayoutEffect=function(R,G){return V.current.useLayoutEffect(R,G)},Se.useMemo=function(R,G){return V.current.useMemo(R,G)},Se.useReducer=function(R,G,oe){return V.current.useReducer(R,G,oe)},Se.useRef=function(R){return V.current.useRef(R)},Se.useState=function(R){return V.current.useState(R)},Se.useSyncExternalStore=function(R,G,oe){return V.current.useSyncExternalStore(R,G,oe)},Se.useTransition=function(){return V.current.useTransition()},Se.version="18.3.1",Se}var $p;function ad(){return $p||($p=1,$u.exports=Sw()),$u.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lp;function bw(){if(Lp)return ss;Lp=1;var r=ad(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,o=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function u(d,h,p){var m,v={},_=null,y=null;p!==void 0&&(_=""+p),h.key!==void 0&&(_=""+h.key),h.ref!==void 0&&(y=h.ref);for(m in h)i.call(h,m)&&!l.hasOwnProperty(m)&&(v[m]=h[m]);if(d&&d.defaultProps)for(m in h=d.defaultProps,h)v[m]===void 0&&(v[m]=h[m]);return{$$typeof:e,type:d,key:_,ref:y,props:v,_owner:o.current}}return ss.Fragment=t,ss.jsx=u,ss.jsxs=u,ss}var Up;function Ew(){return Up||(Up=1,Mu.exports=bw()),Mu.exports}var x=Ew(),N=ad();const Lu=Ca(N);var Bo={},Uu={exports:{}},gt={},Fu={exports:{}},zu={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fp;function kw(){return Fp||(Fp=1,function(r){function e(z,K){var M=z.length;z.push(K);e:for(;0<M;){var R=M-1>>>1,G=z[R];if(0<o(G,K))z[R]=K,z[M]=G,M=R;else break e}}function t(z){return z.length===0?null:z[0]}function i(z){if(z.length===0)return null;var K=z[0],M=z.pop();if(M!==K){z[0]=M;e:for(var R=0,G=z.length,oe=G>>>1;R<oe;){var de=2*(R+1)-1,we=z[de],ve=de+1,ke=z[ve];if(0>o(we,M))ve<G&&0>o(ke,we)?(z[R]=ke,z[ve]=M,R=ve):(z[R]=we,z[de]=M,R=de);else if(ve<G&&0>o(ke,M))z[R]=ke,z[ve]=M,R=ve;else break e}}return K}function o(z,K){var M=z.sortIndex-K.sortIndex;return M!==0?M:z.id-K.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;r.unstable_now=function(){return l.now()}}else{var u=Date,d=u.now();r.unstable_now=function(){return u.now()-d}}var h=[],p=[],m=1,v=null,_=3,y=!1,w=!1,b=!1,E=typeof setTimeout=="function"?setTimeout:null,k=typeof clearTimeout=="function"?clearTimeout:null,O=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function j(z){for(var K=t(p);K!==null;){if(K.callback===null)i(p);else if(K.startTime<=z)i(p),K.sortIndex=K.expirationTime,e(h,K);else break;K=t(p)}}function H(z){if(b=!1,j(z),!w)if(t(h)!==null)w=!0,C(B);else{var K=t(p);K!==null&&V(H,K.startTime-z)}}function B(z,K){w=!1,b&&(b=!1,k(Y),Y=-1),y=!0;var M=_;try{for(j(K),v=t(h);v!==null&&(!(v.expirationTime>K)||z&&!I());){var R=v.callback;if(typeof R=="function"){v.callback=null,_=v.priorityLevel;var G=R(v.expirationTime<=K);K=r.unstable_now(),typeof G=="function"?v.callback=G:v===t(h)&&i(h),j(K)}else i(h);v=t(h)}if(v!==null)var oe=!0;else{var de=t(p);de!==null&&V(H,de.startTime-K),oe=!1}return oe}finally{v=null,_=M,y=!1}}var U=!1,$=null,Y=-1,te=5,ne=-1;function I(){return!(r.unstable_now()-ne<te)}function q(){if($!==null){var z=r.unstable_now();ne=z;var K=!0;try{K=$(!0,z)}finally{K?J():(U=!1,$=null)}}else U=!1}var J;if(typeof O=="function")J=function(){O(q)};else if(typeof MessageChannel<"u"){var ee=new MessageChannel,D=ee.port2;ee.port1.onmessage=q,J=function(){D.postMessage(null)}}else J=function(){E(q,0)};function C(z){$=z,U||(U=!0,J())}function V(z,K){Y=E(function(){z(r.unstable_now())},K)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(z){z.callback=null},r.unstable_continueExecution=function(){w||y||(w=!0,C(B))},r.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):te=0<z?Math.floor(1e3/z):5},r.unstable_getCurrentPriorityLevel=function(){return _},r.unstable_getFirstCallbackNode=function(){return t(h)},r.unstable_next=function(z){switch(_){case 1:case 2:case 3:var K=3;break;default:K=_}var M=_;_=K;try{return z()}finally{_=M}},r.unstable_pauseExecution=function(){},r.unstable_requestPaint=function(){},r.unstable_runWithPriority=function(z,K){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var M=_;_=z;try{return K()}finally{_=M}},r.unstable_scheduleCallback=function(z,K,M){var R=r.unstable_now();switch(typeof M=="object"&&M!==null?(M=M.delay,M=typeof M=="number"&&0<M?R+M:R):M=R,z){case 1:var G=-1;break;case 2:G=250;break;case 5:G=1073741823;break;case 4:G=1e4;break;default:G=5e3}return G=M+G,z={id:m++,callback:K,priorityLevel:z,startTime:M,expirationTime:G,sortIndex:-1},M>R?(z.sortIndex=M,e(p,z),t(h)===null&&z===t(p)&&(b?(k(Y),Y=-1):b=!0,V(H,M-R))):(z.sortIndex=G,e(h,z),w||y||(w=!0,C(B))),z},r.unstable_shouldYield=I,r.unstable_wrapCallback=function(z){var K=_;return function(){var M=_;_=K;try{return z.apply(this,arguments)}finally{_=M}}}}(zu)),zu}var zp;function xw(){return zp||(zp=1,Fu.exports=kw()),Fu.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bp;function Tw(){if(Bp)return gt;Bp=1;var r=ad(),e=xw();function t(n){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+n,a=1;a<arguments.length;a++)s+="&args[]="+encodeURIComponent(arguments[a]);return"Minified React error #"+n+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,o={};function l(n,s){u(n,s),u(n+"Capture",s)}function u(n,s){for(o[n]=s,n=0;n<s.length;n++)i.add(s[n])}var d=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),h=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,m={},v={};function _(n){return h.call(v,n)?!0:h.call(m,n)?!1:p.test(n)?v[n]=!0:(m[n]=!0,!1)}function y(n,s,a,c){if(a!==null&&a.type===0)return!1;switch(typeof s){case"function":case"symbol":return!0;case"boolean":return c?!1:a!==null?!a.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function w(n,s,a,c){if(s===null||typeof s>"u"||y(n,s,a,c))return!0;if(c)return!1;if(a!==null)switch(a.type){case 3:return!s;case 4:return s===!1;case 5:return isNaN(s);case 6:return isNaN(s)||1>s}return!1}function b(n,s,a,c,f,g,S){this.acceptsBooleans=s===2||s===3||s===4,this.attributeName=c,this.attributeNamespace=f,this.mustUseProperty=a,this.propertyName=n,this.type=s,this.sanitizeURL=g,this.removeEmptyString=S}var E={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){E[n]=new b(n,0,!1,n,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var s=n[0];E[s]=new b(s,1,!1,n[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(n){E[n]=new b(n,2,!1,n.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){E[n]=new b(n,2,!1,n,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){E[n]=new b(n,3,!1,n.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(n){E[n]=new b(n,3,!0,n,null,!1,!1)}),["capture","download"].forEach(function(n){E[n]=new b(n,4,!1,n,null,!1,!1)}),["cols","rows","size","span"].forEach(function(n){E[n]=new b(n,6,!1,n,null,!1,!1)}),["rowSpan","start"].forEach(function(n){E[n]=new b(n,5,!1,n.toLowerCase(),null,!1,!1)});var k=/[\-:]([a-z])/g;function O(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var s=n.replace(k,O);E[s]=new b(s,1,!1,n,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var s=n.replace(k,O);E[s]=new b(s,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(n){var s=n.replace(k,O);E[s]=new b(s,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(n){E[n]=new b(n,1,!1,n.toLowerCase(),null,!1,!1)}),E.xlinkHref=new b("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(n){E[n]=new b(n,1,!1,n.toLowerCase(),null,!0,!0)});function j(n,s,a,c){var f=E.hasOwnProperty(s)?E[s]:null;(f!==null?f.type!==0:c||!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(w(s,a,f,c)&&(a=null),c||f===null?_(s)&&(a===null?n.removeAttribute(s):n.setAttribute(s,""+a)):f.mustUseProperty?n[f.propertyName]=a===null?f.type===3?!1:"":a:(s=f.attributeName,c=f.attributeNamespace,a===null?n.removeAttribute(s):(f=f.type,a=f===3||f===4&&a===!0?"":""+a,c?n.setAttributeNS(c,s,a):n.setAttribute(s,a))))}var H=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,B=Symbol.for("react.element"),U=Symbol.for("react.portal"),$=Symbol.for("react.fragment"),Y=Symbol.for("react.strict_mode"),te=Symbol.for("react.profiler"),ne=Symbol.for("react.provider"),I=Symbol.for("react.context"),q=Symbol.for("react.forward_ref"),J=Symbol.for("react.suspense"),ee=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),C=Symbol.for("react.lazy"),V=Symbol.for("react.offscreen"),z=Symbol.iterator;function K(n){return n===null||typeof n!="object"?null:(n=z&&n[z]||n["@@iterator"],typeof n=="function"?n:null)}var M=Object.assign,R;function G(n){if(R===void 0)try{throw Error()}catch(a){var s=a.stack.trim().match(/\n( *(at )?)/);R=s&&s[1]||""}return`
`+R+n}var oe=!1;function de(n,s){if(!n||oe)return"";oe=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch(W){var c=W}Reflect.construct(n,[],s)}else{try{s.call()}catch(W){c=W}n.call(s.prototype)}else{try{throw Error()}catch(W){c=W}n()}}catch(W){if(W&&c&&typeof W.stack=="string"){for(var f=W.stack.split(`
`),g=c.stack.split(`
`),S=f.length-1,T=g.length-1;1<=S&&0<=T&&f[S]!==g[T];)T--;for(;1<=S&&0<=T;S--,T--)if(f[S]!==g[T]){if(S!==1||T!==1)do if(S--,T--,0>T||f[S]!==g[T]){var P=`
`+f[S].replace(" at new "," at ");return n.displayName&&P.includes("<anonymous>")&&(P=P.replace("<anonymous>",n.displayName)),P}while(1<=S&&0<=T);break}}}finally{oe=!1,Error.prepareStackTrace=a}return(n=n?n.displayName||n.name:"")?G(n):""}function we(n){switch(n.tag){case 5:return G(n.type);case 16:return G("Lazy");case 13:return G("Suspense");case 19:return G("SuspenseList");case 0:case 2:case 15:return n=de(n.type,!1),n;case 11:return n=de(n.type.render,!1),n;case 1:return n=de(n.type,!0),n;default:return""}}function ve(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case $:return"Fragment";case U:return"Portal";case te:return"Profiler";case Y:return"StrictMode";case J:return"Suspense";case ee:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case I:return(n.displayName||"Context")+".Consumer";case ne:return(n._context.displayName||"Context")+".Provider";case q:var s=n.render;return n=n.displayName,n||(n=s.displayName||s.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case D:return s=n.displayName||null,s!==null?s:ve(n.type)||"Memo";case C:s=n._payload,n=n._init;try{return ve(n(s))}catch{}}return null}function ke(n){var s=n.type;switch(n.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=s.render,n=n.displayName||n.name||"",s.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ve(s);case 8:return s===Y?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function be(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function Te(n){var s=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Ke(n){var s=Te(n)?"checked":"value",a=Object.getOwnPropertyDescriptor(n.constructor.prototype,s),c=""+n[s];if(!n.hasOwnProperty(s)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var f=a.get,g=a.set;return Object.defineProperty(n,s,{configurable:!0,get:function(){return f.call(this)},set:function(S){c=""+S,g.call(this,S)}}),Object.defineProperty(n,s,{enumerable:a.enumerable}),{getValue:function(){return c},setValue:function(S){c=""+S},stopTracking:function(){n._valueTracker=null,delete n[s]}}}}function xn(n){n._valueTracker||(n._valueTracker=Ke(n))}function Fd(n){if(!n)return!1;var s=n._valueTracker;if(!s)return!0;var a=s.getValue(),c="";return n&&(c=Te(n)?n.checked?"true":"false":n.value),n=c,n!==a?(s.setValue(n),!0):!1}function Is(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function Wa(n,s){var a=s.checked;return M({},s,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:a??n._wrapperState.initialChecked})}function zd(n,s){var a=s.defaultValue==null?"":s.defaultValue,c=s.checked!=null?s.checked:s.defaultChecked;a=be(s.value!=null?s.value:a),n._wrapperState={initialChecked:c,initialValue:a,controlled:s.type==="checkbox"||s.type==="radio"?s.checked!=null:s.value!=null}}function Bd(n,s){s=s.checked,s!=null&&j(n,"checked",s,!1)}function Ha(n,s){Bd(n,s);var a=be(s.value),c=s.type;if(a!=null)c==="number"?(a===0&&n.value===""||n.value!=a)&&(n.value=""+a):n.value!==""+a&&(n.value=""+a);else if(c==="submit"||c==="reset"){n.removeAttribute("value");return}s.hasOwnProperty("value")?qa(n,s.type,a):s.hasOwnProperty("defaultValue")&&qa(n,s.type,be(s.defaultValue)),s.checked==null&&s.defaultChecked!=null&&(n.defaultChecked=!!s.defaultChecked)}function Wd(n,s,a){if(s.hasOwnProperty("value")||s.hasOwnProperty("defaultValue")){var c=s.type;if(!(c!=="submit"&&c!=="reset"||s.value!==void 0&&s.value!==null))return;s=""+n._wrapperState.initialValue,a||s===n.value||(n.value=s),n.defaultValue=s}a=n.name,a!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,a!==""&&(n.name=a)}function qa(n,s,a){(s!=="number"||Is(n.ownerDocument)!==n)&&(a==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+a&&(n.defaultValue=""+a))}var _i=Array.isArray;function Tn(n,s,a,c){if(n=n.options,s){s={};for(var f=0;f<a.length;f++)s["$"+a[f]]=!0;for(a=0;a<n.length;a++)f=s.hasOwnProperty("$"+n[a].value),n[a].selected!==f&&(n[a].selected=f),f&&c&&(n[a].defaultSelected=!0)}else{for(a=""+be(a),s=null,f=0;f<n.length;f++){if(n[f].value===a){n[f].selected=!0,c&&(n[f].defaultSelected=!0);return}s!==null||n[f].disabled||(s=n[f])}s!==null&&(s.selected=!0)}}function Va(n,s){if(s.dangerouslySetInnerHTML!=null)throw Error(t(91));return M({},s,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function Hd(n,s){var a=s.value;if(a==null){if(a=s.children,s=s.defaultValue,a!=null){if(s!=null)throw Error(t(92));if(_i(a)){if(1<a.length)throw Error(t(93));a=a[0]}s=a}s==null&&(s=""),a=s}n._wrapperState={initialValue:be(a)}}function qd(n,s){var a=be(s.value),c=be(s.defaultValue);a!=null&&(a=""+a,a!==n.value&&(n.value=a),s.defaultValue==null&&n.defaultValue!==a&&(n.defaultValue=a)),c!=null&&(n.defaultValue=""+c)}function Vd(n){var s=n.textContent;s===n._wrapperState.initialValue&&s!==""&&s!==null&&(n.value=s)}function Gd(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ga(n,s){return n==null||n==="http://www.w3.org/1999/xhtml"?Gd(s):n==="http://www.w3.org/2000/svg"&&s==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var As,Kd=function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(s,a,c,f){MSApp.execUnsafeLocalFunction(function(){return n(s,a,c,f)})}:n}(function(n,s){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=s;else{for(As=As||document.createElement("div"),As.innerHTML="<svg>"+s.valueOf().toString()+"</svg>",s=As.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;s.firstChild;)n.appendChild(s.firstChild)}});function Si(n,s){if(s){var a=n.firstChild;if(a&&a===n.lastChild&&a.nodeType===3){a.nodeValue=s;return}}n.textContent=s}var bi={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},kv=["Webkit","ms","Moz","O"];Object.keys(bi).forEach(function(n){kv.forEach(function(s){s=s+n.charAt(0).toUpperCase()+n.substring(1),bi[s]=bi[n]})});function Yd(n,s,a){return s==null||typeof s=="boolean"||s===""?"":a||typeof s!="number"||s===0||bi.hasOwnProperty(n)&&bi[n]?(""+s).trim():s+"px"}function Jd(n,s){n=n.style;for(var a in s)if(s.hasOwnProperty(a)){var c=a.indexOf("--")===0,f=Yd(a,s[a],c);a==="float"&&(a="cssFloat"),c?n.setProperty(a,f):n[a]=f}}var xv=M({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ka(n,s){if(s){if(xv[n]&&(s.children!=null||s.dangerouslySetInnerHTML!=null))throw Error(t(137,n));if(s.dangerouslySetInnerHTML!=null){if(s.children!=null)throw Error(t(60));if(typeof s.dangerouslySetInnerHTML!="object"||!("__html"in s.dangerouslySetInnerHTML))throw Error(t(61))}if(s.style!=null&&typeof s.style!="object")throw Error(t(62))}}function Ya(n,s){if(n.indexOf("-")===-1)return typeof s.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ja=null;function Qa(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var Xa=null,On=null,Cn=null;function Qd(n){if(n=Hi(n)){if(typeof Xa!="function")throw Error(t(280));var s=n.stateNode;s&&(s=ro(s),Xa(n.stateNode,n.type,s))}}function Xd(n){On?Cn?Cn.push(n):Cn=[n]:On=n}function Zd(){if(On){var n=On,s=Cn;if(Cn=On=null,Qd(n),s)for(n=0;n<s.length;n++)Qd(s[n])}}function eh(n,s){return n(s)}function th(){}var Za=!1;function rh(n,s,a){if(Za)return n(s,a);Za=!0;try{return eh(n,s,a)}finally{Za=!1,(On!==null||Cn!==null)&&(th(),Zd())}}function Ei(n,s){var a=n.stateNode;if(a===null)return null;var c=ro(a);if(c===null)return null;a=c[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(n=n.type,c=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!c;break e;default:n=!1}if(n)return null;if(a&&typeof a!="function")throw Error(t(231,s,typeof a));return a}var el=!1;if(d)try{var ki={};Object.defineProperty(ki,"passive",{get:function(){el=!0}}),window.addEventListener("test",ki,ki),window.removeEventListener("test",ki,ki)}catch{el=!1}function Tv(n,s,a,c,f,g,S,T,P){var W=Array.prototype.slice.call(arguments,3);try{s.apply(a,W)}catch(X){this.onError(X)}}var xi=!1,Ns=null,js=!1,tl=null,Ov={onError:function(n){xi=!0,Ns=n}};function Cv(n,s,a,c,f,g,S,T,P){xi=!1,Ns=null,Tv.apply(Ov,arguments)}function Pv(n,s,a,c,f,g,S,T,P){if(Cv.apply(this,arguments),xi){if(xi){var W=Ns;xi=!1,Ns=null}else throw Error(t(198));js||(js=!0,tl=W)}}function Yr(n){var s=n,a=n;if(n.alternate)for(;s.return;)s=s.return;else{n=s;do s=n,s.flags&4098&&(a=s.return),n=s.return;while(n)}return s.tag===3?a:null}function nh(n){if(n.tag===13){var s=n.memoizedState;if(s===null&&(n=n.alternate,n!==null&&(s=n.memoizedState)),s!==null)return s.dehydrated}return null}function ih(n){if(Yr(n)!==n)throw Error(t(188))}function Rv(n){var s=n.alternate;if(!s){if(s=Yr(n),s===null)throw Error(t(188));return s!==n?null:n}for(var a=n,c=s;;){var f=a.return;if(f===null)break;var g=f.alternate;if(g===null){if(c=f.return,c!==null){a=c;continue}break}if(f.child===g.child){for(g=f.child;g;){if(g===a)return ih(f),n;if(g===c)return ih(f),s;g=g.sibling}throw Error(t(188))}if(a.return!==c.return)a=f,c=g;else{for(var S=!1,T=f.child;T;){if(T===a){S=!0,a=f,c=g;break}if(T===c){S=!0,c=f,a=g;break}T=T.sibling}if(!S){for(T=g.child;T;){if(T===a){S=!0,a=g,c=f;break}if(T===c){S=!0,c=g,a=f;break}T=T.sibling}if(!S)throw Error(t(189))}}if(a.alternate!==c)throw Error(t(190))}if(a.tag!==3)throw Error(t(188));return a.stateNode.current===a?n:s}function sh(n){return n=Rv(n),n!==null?oh(n):null}function oh(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var s=oh(n);if(s!==null)return s;n=n.sibling}return null}var ah=e.unstable_scheduleCallback,lh=e.unstable_cancelCallback,Dv=e.unstable_shouldYield,Iv=e.unstable_requestPaint,ze=e.unstable_now,Av=e.unstable_getCurrentPriorityLevel,rl=e.unstable_ImmediatePriority,uh=e.unstable_UserBlockingPriority,Ms=e.unstable_NormalPriority,Nv=e.unstable_LowPriority,ch=e.unstable_IdlePriority,$s=null,Kt=null;function jv(n){if(Kt&&typeof Kt.onCommitFiberRoot=="function")try{Kt.onCommitFiberRoot($s,n,void 0,(n.current.flags&128)===128)}catch{}}var Mt=Math.clz32?Math.clz32:Lv,Mv=Math.log,$v=Math.LN2;function Lv(n){return n>>>=0,n===0?32:31-(Mv(n)/$v|0)|0}var Ls=64,Us=4194304;function Ti(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function Fs(n,s){var a=n.pendingLanes;if(a===0)return 0;var c=0,f=n.suspendedLanes,g=n.pingedLanes,S=a&268435455;if(S!==0){var T=S&~f;T!==0?c=Ti(T):(g&=S,g!==0&&(c=Ti(g)))}else S=a&~f,S!==0?c=Ti(S):g!==0&&(c=Ti(g));if(c===0)return 0;if(s!==0&&s!==c&&!(s&f)&&(f=c&-c,g=s&-s,f>=g||f===16&&(g&4194240)!==0))return s;if(c&4&&(c|=a&16),s=n.entangledLanes,s!==0)for(n=n.entanglements,s&=c;0<s;)a=31-Mt(s),f=1<<a,c|=n[a],s&=~f;return c}function Uv(n,s){switch(n){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Fv(n,s){for(var a=n.suspendedLanes,c=n.pingedLanes,f=n.expirationTimes,g=n.pendingLanes;0<g;){var S=31-Mt(g),T=1<<S,P=f[S];P===-1?(!(T&a)||T&c)&&(f[S]=Uv(T,s)):P<=s&&(n.expiredLanes|=T),g&=~T}}function nl(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function dh(){var n=Ls;return Ls<<=1,!(Ls&4194240)&&(Ls=64),n}function il(n){for(var s=[],a=0;31>a;a++)s.push(n);return s}function Oi(n,s,a){n.pendingLanes|=s,s!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,s=31-Mt(s),n[s]=a}function zv(n,s){var a=n.pendingLanes&~s;n.pendingLanes=s,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=s,n.mutableReadLanes&=s,n.entangledLanes&=s,s=n.entanglements;var c=n.eventTimes;for(n=n.expirationTimes;0<a;){var f=31-Mt(a),g=1<<f;s[f]=0,c[f]=-1,n[f]=-1,a&=~g}}function sl(n,s){var a=n.entangledLanes|=s;for(n=n.entanglements;a;){var c=31-Mt(a),f=1<<c;f&s|n[c]&s&&(n[c]|=s),a&=~f}}var Oe=0;function hh(n){return n&=-n,1<n?4<n?n&268435455?16:536870912:4:1}var fh,ol,ph,gh,mh,al=!1,zs=[],vr=null,wr=null,_r=null,Ci=new Map,Pi=new Map,Sr=[],Bv="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function yh(n,s){switch(n){case"focusin":case"focusout":vr=null;break;case"dragenter":case"dragleave":wr=null;break;case"mouseover":case"mouseout":_r=null;break;case"pointerover":case"pointerout":Ci.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pi.delete(s.pointerId)}}function Ri(n,s,a,c,f,g){return n===null||n.nativeEvent!==g?(n={blockedOn:s,domEventName:a,eventSystemFlags:c,nativeEvent:g,targetContainers:[f]},s!==null&&(s=Hi(s),s!==null&&ol(s)),n):(n.eventSystemFlags|=c,s=n.targetContainers,f!==null&&s.indexOf(f)===-1&&s.push(f),n)}function Wv(n,s,a,c,f){switch(s){case"focusin":return vr=Ri(vr,n,s,a,c,f),!0;case"dragenter":return wr=Ri(wr,n,s,a,c,f),!0;case"mouseover":return _r=Ri(_r,n,s,a,c,f),!0;case"pointerover":var g=f.pointerId;return Ci.set(g,Ri(Ci.get(g)||null,n,s,a,c,f)),!0;case"gotpointercapture":return g=f.pointerId,Pi.set(g,Ri(Pi.get(g)||null,n,s,a,c,f)),!0}return!1}function vh(n){var s=Jr(n.target);if(s!==null){var a=Yr(s);if(a!==null){if(s=a.tag,s===13){if(s=nh(a),s!==null){n.blockedOn=s,mh(n.priority,function(){ph(a)});return}}else if(s===3&&a.stateNode.current.memoizedState.isDehydrated){n.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}n.blockedOn=null}function Bs(n){if(n.blockedOn!==null)return!1;for(var s=n.targetContainers;0<s.length;){var a=ul(n.domEventName,n.eventSystemFlags,s[0],n.nativeEvent);if(a===null){a=n.nativeEvent;var c=new a.constructor(a.type,a);Ja=c,a.target.dispatchEvent(c),Ja=null}else return s=Hi(a),s!==null&&ol(s),n.blockedOn=a,!1;s.shift()}return!0}function wh(n,s,a){Bs(n)&&a.delete(s)}function Hv(){al=!1,vr!==null&&Bs(vr)&&(vr=null),wr!==null&&Bs(wr)&&(wr=null),_r!==null&&Bs(_r)&&(_r=null),Ci.forEach(wh),Pi.forEach(wh)}function Di(n,s){n.blockedOn===s&&(n.blockedOn=null,al||(al=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Hv)))}function Ii(n){function s(f){return Di(f,n)}if(0<zs.length){Di(zs[0],n);for(var a=1;a<zs.length;a++){var c=zs[a];c.blockedOn===n&&(c.blockedOn=null)}}for(vr!==null&&Di(vr,n),wr!==null&&Di(wr,n),_r!==null&&Di(_r,n),Ci.forEach(s),Pi.forEach(s),a=0;a<Sr.length;a++)c=Sr[a],c.blockedOn===n&&(c.blockedOn=null);for(;0<Sr.length&&(a=Sr[0],a.blockedOn===null);)vh(a),a.blockedOn===null&&Sr.shift()}var Pn=H.ReactCurrentBatchConfig,Ws=!0;function qv(n,s,a,c){var f=Oe,g=Pn.transition;Pn.transition=null;try{Oe=1,ll(n,s,a,c)}finally{Oe=f,Pn.transition=g}}function Vv(n,s,a,c){var f=Oe,g=Pn.transition;Pn.transition=null;try{Oe=4,ll(n,s,a,c)}finally{Oe=f,Pn.transition=g}}function ll(n,s,a,c){if(Ws){var f=ul(n,s,a,c);if(f===null)Tl(n,s,c,Hs,a),yh(n,c);else if(Wv(f,n,s,a,c))c.stopPropagation();else if(yh(n,c),s&4&&-1<Bv.indexOf(n)){for(;f!==null;){var g=Hi(f);if(g!==null&&fh(g),g=ul(n,s,a,c),g===null&&Tl(n,s,c,Hs,a),g===f)break;f=g}f!==null&&c.stopPropagation()}else Tl(n,s,c,null,a)}}var Hs=null;function ul(n,s,a,c){if(Hs=null,n=Qa(c),n=Jr(n),n!==null)if(s=Yr(n),s===null)n=null;else if(a=s.tag,a===13){if(n=nh(s),n!==null)return n;n=null}else if(a===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;n=null}else s!==n&&(n=null);return Hs=n,null}function _h(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Av()){case rl:return 1;case uh:return 4;case Ms:case Nv:return 16;case ch:return 536870912;default:return 16}default:return 16}}var br=null,cl=null,qs=null;function Sh(){if(qs)return qs;var n,s=cl,a=s.length,c,f="value"in br?br.value:br.textContent,g=f.length;for(n=0;n<a&&s[n]===f[n];n++);var S=a-n;for(c=1;c<=S&&s[a-c]===f[g-c];c++);return qs=f.slice(n,1<c?1-c:void 0)}function Vs(n){var s=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&s===13&&(n=13)):n=s,n===10&&(n=13),32<=n||n===13?n:0}function Gs(){return!0}function bh(){return!1}function yt(n){function s(a,c,f,g,S){this._reactName=a,this._targetInst=f,this.type=c,this.nativeEvent=g,this.target=S,this.currentTarget=null;for(var T in n)n.hasOwnProperty(T)&&(a=n[T],this[T]=a?a(g):g[T]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?Gs:bh,this.isPropagationStopped=bh,this}return M(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Gs)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Gs)},persist:function(){},isPersistent:Gs}),s}var Rn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},dl=yt(Rn),Ai=M({},Rn,{view:0,detail:0}),Gv=yt(Ai),hl,fl,Ni,Ks=M({},Ai,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:gl,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Ni&&(Ni&&n.type==="mousemove"?(hl=n.screenX-Ni.screenX,fl=n.screenY-Ni.screenY):fl=hl=0,Ni=n),hl)},movementY:function(n){return"movementY"in n?n.movementY:fl}}),Eh=yt(Ks),Kv=M({},Ks,{dataTransfer:0}),Yv=yt(Kv),Jv=M({},Ai,{relatedTarget:0}),pl=yt(Jv),Qv=M({},Rn,{animationName:0,elapsedTime:0,pseudoElement:0}),Xv=yt(Qv),Zv=M({},Rn,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),e0=yt(Zv),t0=M({},Rn,{data:0}),kh=yt(t0),r0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},n0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},i0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function s0(n){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(n):(n=i0[n])?!!s[n]:!1}function gl(){return s0}var o0=M({},Ai,{key:function(n){if(n.key){var s=r0[n.key]||n.key;if(s!=="Unidentified")return s}return n.type==="keypress"?(n=Vs(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?n0[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:gl,charCode:function(n){return n.type==="keypress"?Vs(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?Vs(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),a0=yt(o0),l0=M({},Ks,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),xh=yt(l0),u0=M({},Ai,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:gl}),c0=yt(u0),d0=M({},Rn,{propertyName:0,elapsedTime:0,pseudoElement:0}),h0=yt(d0),f0=M({},Ks,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),p0=yt(f0),g0=[9,13,27,32],ml=d&&"CompositionEvent"in window,ji=null;d&&"documentMode"in document&&(ji=document.documentMode);var m0=d&&"TextEvent"in window&&!ji,Th=d&&(!ml||ji&&8<ji&&11>=ji),Oh=" ",Ch=!1;function Ph(n,s){switch(n){case"keyup":return g0.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Rh(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Dn=!1;function y0(n,s){switch(n){case"compositionend":return Rh(s);case"keypress":return s.which!==32?null:(Ch=!0,Oh);case"textInput":return n=s.data,n===Oh&&Ch?null:n;default:return null}}function v0(n,s){if(Dn)return n==="compositionend"||!ml&&Ph(n,s)?(n=Sh(),qs=cl=br=null,Dn=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Th&&s.locale!=="ko"?null:s.data;default:return null}}var w0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Dh(n){var s=n&&n.nodeName&&n.nodeName.toLowerCase();return s==="input"?!!w0[n.type]:s==="textarea"}function Ih(n,s,a,c){Xd(c),s=Zs(s,"onChange"),0<s.length&&(a=new dl("onChange","change",null,a,c),n.push({event:a,listeners:s}))}var Mi=null,$i=null;function _0(n){Jh(n,0)}function Ys(n){var s=Mn(n);if(Fd(s))return n}function S0(n,s){if(n==="change")return s}var Ah=!1;if(d){var yl;if(d){var vl="oninput"in document;if(!vl){var Nh=document.createElement("div");Nh.setAttribute("oninput","return;"),vl=typeof Nh.oninput=="function"}yl=vl}else yl=!1;Ah=yl&&(!document.documentMode||9<document.documentMode)}function jh(){Mi&&(Mi.detachEvent("onpropertychange",Mh),$i=Mi=null)}function Mh(n){if(n.propertyName==="value"&&Ys($i)){var s=[];Ih(s,$i,n,Qa(n)),rh(_0,s)}}function b0(n,s,a){n==="focusin"?(jh(),Mi=s,$i=a,Mi.attachEvent("onpropertychange",Mh)):n==="focusout"&&jh()}function E0(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return Ys($i)}function k0(n,s){if(n==="click")return Ys(s)}function x0(n,s){if(n==="input"||n==="change")return Ys(s)}function T0(n,s){return n===s&&(n!==0||1/n===1/s)||n!==n&&s!==s}var $t=typeof Object.is=="function"?Object.is:T0;function Li(n,s){if($t(n,s))return!0;if(typeof n!="object"||n===null||typeof s!="object"||s===null)return!1;var a=Object.keys(n),c=Object.keys(s);if(a.length!==c.length)return!1;for(c=0;c<a.length;c++){var f=a[c];if(!h.call(s,f)||!$t(n[f],s[f]))return!1}return!0}function $h(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function Lh(n,s){var a=$h(n);n=0;for(var c;a;){if(a.nodeType===3){if(c=n+a.textContent.length,n<=s&&c>=s)return{node:a,offset:s-n};n=c}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=$h(a)}}function Uh(n,s){return n&&s?n===s?!0:n&&n.nodeType===3?!1:s&&s.nodeType===3?Uh(n,s.parentNode):"contains"in n?n.contains(s):n.compareDocumentPosition?!!(n.compareDocumentPosition(s)&16):!1:!1}function Fh(){for(var n=window,s=Is();s instanceof n.HTMLIFrameElement;){try{var a=typeof s.contentWindow.location.href=="string"}catch{a=!1}if(a)n=s.contentWindow;else break;s=Is(n.document)}return s}function wl(n){var s=n&&n.nodeName&&n.nodeName.toLowerCase();return s&&(s==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||s==="textarea"||n.contentEditable==="true")}function O0(n){var s=Fh(),a=n.focusedElem,c=n.selectionRange;if(s!==a&&a&&a.ownerDocument&&Uh(a.ownerDocument.documentElement,a)){if(c!==null&&wl(a)){if(s=c.start,n=c.end,n===void 0&&(n=s),"selectionStart"in a)a.selectionStart=s,a.selectionEnd=Math.min(n,a.value.length);else if(n=(s=a.ownerDocument||document)&&s.defaultView||window,n.getSelection){n=n.getSelection();var f=a.textContent.length,g=Math.min(c.start,f);c=c.end===void 0?g:Math.min(c.end,f),!n.extend&&g>c&&(f=c,c=g,g=f),f=Lh(a,g);var S=Lh(a,c);f&&S&&(n.rangeCount!==1||n.anchorNode!==f.node||n.anchorOffset!==f.offset||n.focusNode!==S.node||n.focusOffset!==S.offset)&&(s=s.createRange(),s.setStart(f.node,f.offset),n.removeAllRanges(),g>c?(n.addRange(s),n.extend(S.node,S.offset)):(s.setEnd(S.node,S.offset),n.addRange(s)))}}for(s=[],n=a;n=n.parentNode;)n.nodeType===1&&s.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof a.focus=="function"&&a.focus(),a=0;a<s.length;a++)n=s[a],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var C0=d&&"documentMode"in document&&11>=document.documentMode,In=null,_l=null,Ui=null,Sl=!1;function zh(n,s,a){var c=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Sl||In==null||In!==Is(c)||(c=In,"selectionStart"in c&&wl(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),Ui&&Li(Ui,c)||(Ui=c,c=Zs(_l,"onSelect"),0<c.length&&(s=new dl("onSelect","select",null,s,a),n.push({event:s,listeners:c}),s.target=In)))}function Js(n,s){var a={};return a[n.toLowerCase()]=s.toLowerCase(),a["Webkit"+n]="webkit"+s,a["Moz"+n]="moz"+s,a}var An={animationend:Js("Animation","AnimationEnd"),animationiteration:Js("Animation","AnimationIteration"),animationstart:Js("Animation","AnimationStart"),transitionend:Js("Transition","TransitionEnd")},bl={},Bh={};d&&(Bh=document.createElement("div").style,"AnimationEvent"in window||(delete An.animationend.animation,delete An.animationiteration.animation,delete An.animationstart.animation),"TransitionEvent"in window||delete An.transitionend.transition);function Qs(n){if(bl[n])return bl[n];if(!An[n])return n;var s=An[n],a;for(a in s)if(s.hasOwnProperty(a)&&a in Bh)return bl[n]=s[a];return n}var Wh=Qs("animationend"),Hh=Qs("animationiteration"),qh=Qs("animationstart"),Vh=Qs("transitionend"),Gh=new Map,Kh="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Er(n,s){Gh.set(n,s),l(s,[n])}for(var El=0;El<Kh.length;El++){var kl=Kh[El],P0=kl.toLowerCase(),R0=kl[0].toUpperCase()+kl.slice(1);Er(P0,"on"+R0)}Er(Wh,"onAnimationEnd"),Er(Hh,"onAnimationIteration"),Er(qh,"onAnimationStart"),Er("dblclick","onDoubleClick"),Er("focusin","onFocus"),Er("focusout","onBlur"),Er(Vh,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Fi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),D0=new Set("cancel close invalid load scroll toggle".split(" ").concat(Fi));function Yh(n,s,a){var c=n.type||"unknown-event";n.currentTarget=a,Pv(c,s,void 0,n),n.currentTarget=null}function Jh(n,s){s=(s&4)!==0;for(var a=0;a<n.length;a++){var c=n[a],f=c.event;c=c.listeners;e:{var g=void 0;if(s)for(var S=c.length-1;0<=S;S--){var T=c[S],P=T.instance,W=T.currentTarget;if(T=T.listener,P!==g&&f.isPropagationStopped())break e;Yh(f,T,W),g=P}else for(S=0;S<c.length;S++){if(T=c[S],P=T.instance,W=T.currentTarget,T=T.listener,P!==g&&f.isPropagationStopped())break e;Yh(f,T,W),g=P}}}if(js)throw n=tl,js=!1,tl=null,n}function Ie(n,s){var a=s[Il];a===void 0&&(a=s[Il]=new Set);var c=n+"__bubble";a.has(c)||(Qh(s,n,2,!1),a.add(c))}function xl(n,s,a){var c=0;s&&(c|=4),Qh(a,n,c,s)}var Xs="_reactListening"+Math.random().toString(36).slice(2);function zi(n){if(!n[Xs]){n[Xs]=!0,i.forEach(function(a){a!=="selectionchange"&&(D0.has(a)||xl(a,!1,n),xl(a,!0,n))});var s=n.nodeType===9?n:n.ownerDocument;s===null||s[Xs]||(s[Xs]=!0,xl("selectionchange",!1,s))}}function Qh(n,s,a,c){switch(_h(s)){case 1:var f=qv;break;case 4:f=Vv;break;default:f=ll}a=f.bind(null,s,a,n),f=void 0,!el||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(f=!0),c?f!==void 0?n.addEventListener(s,a,{capture:!0,passive:f}):n.addEventListener(s,a,!0):f!==void 0?n.addEventListener(s,a,{passive:f}):n.addEventListener(s,a,!1)}function Tl(n,s,a,c,f){var g=c;if(!(s&1)&&!(s&2)&&c!==null)e:for(;;){if(c===null)return;var S=c.tag;if(S===3||S===4){var T=c.stateNode.containerInfo;if(T===f||T.nodeType===8&&T.parentNode===f)break;if(S===4)for(S=c.return;S!==null;){var P=S.tag;if((P===3||P===4)&&(P=S.stateNode.containerInfo,P===f||P.nodeType===8&&P.parentNode===f))return;S=S.return}for(;T!==null;){if(S=Jr(T),S===null)return;if(P=S.tag,P===5||P===6){c=g=S;continue e}T=T.parentNode}}c=c.return}rh(function(){var W=g,X=Qa(a),Z=[];e:{var Q=Gh.get(n);if(Q!==void 0){var ie=dl,ae=n;switch(n){case"keypress":if(Vs(a)===0)break e;case"keydown":case"keyup":ie=a0;break;case"focusin":ae="focus",ie=pl;break;case"focusout":ae="blur",ie=pl;break;case"beforeblur":case"afterblur":ie=pl;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ie=Eh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ie=Yv;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ie=c0;break;case Wh:case Hh:case qh:ie=Xv;break;case Vh:ie=h0;break;case"scroll":ie=Gv;break;case"wheel":ie=p0;break;case"copy":case"cut":case"paste":ie=e0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ie=xh}var le=(s&4)!==0,Be=!le&&n==="scroll",L=le?Q!==null?Q+"Capture":null:Q;le=[];for(var A=W,F;A!==null;){F=A;var re=F.stateNode;if(F.tag===5&&re!==null&&(F=re,L!==null&&(re=Ei(A,L),re!=null&&le.push(Bi(A,re,F)))),Be)break;A=A.return}0<le.length&&(Q=new ie(Q,ae,null,a,X),Z.push({event:Q,listeners:le}))}}if(!(s&7)){e:{if(Q=n==="mouseover"||n==="pointerover",ie=n==="mouseout"||n==="pointerout",Q&&a!==Ja&&(ae=a.relatedTarget||a.fromElement)&&(Jr(ae)||ae[sr]))break e;if((ie||Q)&&(Q=X.window===X?X:(Q=X.ownerDocument)?Q.defaultView||Q.parentWindow:window,ie?(ae=a.relatedTarget||a.toElement,ie=W,ae=ae?Jr(ae):null,ae!==null&&(Be=Yr(ae),ae!==Be||ae.tag!==5&&ae.tag!==6)&&(ae=null)):(ie=null,ae=W),ie!==ae)){if(le=Eh,re="onMouseLeave",L="onMouseEnter",A="mouse",(n==="pointerout"||n==="pointerover")&&(le=xh,re="onPointerLeave",L="onPointerEnter",A="pointer"),Be=ie==null?Q:Mn(ie),F=ae==null?Q:Mn(ae),Q=new le(re,A+"leave",ie,a,X),Q.target=Be,Q.relatedTarget=F,re=null,Jr(X)===W&&(le=new le(L,A+"enter",ae,a,X),le.target=F,le.relatedTarget=Be,re=le),Be=re,ie&&ae)t:{for(le=ie,L=ae,A=0,F=le;F;F=Nn(F))A++;for(F=0,re=L;re;re=Nn(re))F++;for(;0<A-F;)le=Nn(le),A--;for(;0<F-A;)L=Nn(L),F--;for(;A--;){if(le===L||L!==null&&le===L.alternate)break t;le=Nn(le),L=Nn(L)}le=null}else le=null;ie!==null&&Xh(Z,Q,ie,le,!1),ae!==null&&Be!==null&&Xh(Z,Be,ae,le,!0)}}e:{if(Q=W?Mn(W):window,ie=Q.nodeName&&Q.nodeName.toLowerCase(),ie==="select"||ie==="input"&&Q.type==="file")var ue=S0;else if(Dh(Q))if(Ah)ue=x0;else{ue=E0;var he=b0}else(ie=Q.nodeName)&&ie.toLowerCase()==="input"&&(Q.type==="checkbox"||Q.type==="radio")&&(ue=k0);if(ue&&(ue=ue(n,W))){Ih(Z,ue,a,X);break e}he&&he(n,Q,W),n==="focusout"&&(he=Q._wrapperState)&&he.controlled&&Q.type==="number"&&qa(Q,"number",Q.value)}switch(he=W?Mn(W):window,n){case"focusin":(Dh(he)||he.contentEditable==="true")&&(In=he,_l=W,Ui=null);break;case"focusout":Ui=_l=In=null;break;case"mousedown":Sl=!0;break;case"contextmenu":case"mouseup":case"dragend":Sl=!1,zh(Z,a,X);break;case"selectionchange":if(C0)break;case"keydown":case"keyup":zh(Z,a,X)}var fe;if(ml)e:{switch(n){case"compositionstart":var me="onCompositionStart";break e;case"compositionend":me="onCompositionEnd";break e;case"compositionupdate":me="onCompositionUpdate";break e}me=void 0}else Dn?Ph(n,a)&&(me="onCompositionEnd"):n==="keydown"&&a.keyCode===229&&(me="onCompositionStart");me&&(Th&&a.locale!=="ko"&&(Dn||me!=="onCompositionStart"?me==="onCompositionEnd"&&Dn&&(fe=Sh()):(br=X,cl="value"in br?br.value:br.textContent,Dn=!0)),he=Zs(W,me),0<he.length&&(me=new kh(me,n,null,a,X),Z.push({event:me,listeners:he}),fe?me.data=fe:(fe=Rh(a),fe!==null&&(me.data=fe)))),(fe=m0?y0(n,a):v0(n,a))&&(W=Zs(W,"onBeforeInput"),0<W.length&&(X=new kh("onBeforeInput","beforeinput",null,a,X),Z.push({event:X,listeners:W}),X.data=fe))}Jh(Z,s)})}function Bi(n,s,a){return{instance:n,listener:s,currentTarget:a}}function Zs(n,s){for(var a=s+"Capture",c=[];n!==null;){var f=n,g=f.stateNode;f.tag===5&&g!==null&&(f=g,g=Ei(n,a),g!=null&&c.unshift(Bi(n,g,f)),g=Ei(n,s),g!=null&&c.push(Bi(n,g,f))),n=n.return}return c}function Nn(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function Xh(n,s,a,c,f){for(var g=s._reactName,S=[];a!==null&&a!==c;){var T=a,P=T.alternate,W=T.stateNode;if(P!==null&&P===c)break;T.tag===5&&W!==null&&(T=W,f?(P=Ei(a,g),P!=null&&S.unshift(Bi(a,P,T))):f||(P=Ei(a,g),P!=null&&S.push(Bi(a,P,T)))),a=a.return}S.length!==0&&n.push({event:s,listeners:S})}var I0=/\r\n?/g,A0=/\u0000|\uFFFD/g;function Zh(n){return(typeof n=="string"?n:""+n).replace(I0,`
`).replace(A0,"")}function eo(n,s,a){if(s=Zh(s),Zh(n)!==s&&a)throw Error(t(425))}function to(){}var Ol=null,Cl=null;function Pl(n,s){return n==="textarea"||n==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Rl=typeof setTimeout=="function"?setTimeout:void 0,N0=typeof clearTimeout=="function"?clearTimeout:void 0,ef=typeof Promise=="function"?Promise:void 0,j0=typeof queueMicrotask=="function"?queueMicrotask:typeof ef<"u"?function(n){return ef.resolve(null).then(n).catch(M0)}:Rl;function M0(n){setTimeout(function(){throw n})}function Dl(n,s){var a=s,c=0;do{var f=a.nextSibling;if(n.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"){if(c===0){n.removeChild(f),Ii(s);return}c--}else a!=="$"&&a!=="$?"&&a!=="$!"||c++;a=f}while(a);Ii(s)}function kr(n){for(;n!=null;n=n.nextSibling){var s=n.nodeType;if(s===1||s===3)break;if(s===8){if(s=n.data,s==="$"||s==="$!"||s==="$?")break;if(s==="/$")return null}}return n}function tf(n){n=n.previousSibling;for(var s=0;n;){if(n.nodeType===8){var a=n.data;if(a==="$"||a==="$!"||a==="$?"){if(s===0)return n;s--}else a==="/$"&&s++}n=n.previousSibling}return null}var jn=Math.random().toString(36).slice(2),Yt="__reactFiber$"+jn,Wi="__reactProps$"+jn,sr="__reactContainer$"+jn,Il="__reactEvents$"+jn,$0="__reactListeners$"+jn,L0="__reactHandles$"+jn;function Jr(n){var s=n[Yt];if(s)return s;for(var a=n.parentNode;a;){if(s=a[sr]||a[Yt]){if(a=s.alternate,s.child!==null||a!==null&&a.child!==null)for(n=tf(n);n!==null;){if(a=n[Yt])return a;n=tf(n)}return s}n=a,a=n.parentNode}return null}function Hi(n){return n=n[Yt]||n[sr],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function Mn(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(t(33))}function ro(n){return n[Wi]||null}var Al=[],$n=-1;function xr(n){return{current:n}}function Ae(n){0>$n||(n.current=Al[$n],Al[$n]=null,$n--)}function Re(n,s){$n++,Al[$n]=n.current,n.current=s}var Tr={},nt=xr(Tr),ct=xr(!1),Qr=Tr;function Ln(n,s){var a=n.type.contextTypes;if(!a)return Tr;var c=n.stateNode;if(c&&c.__reactInternalMemoizedUnmaskedChildContext===s)return c.__reactInternalMemoizedMaskedChildContext;var f={},g;for(g in a)f[g]=s[g];return c&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=s,n.__reactInternalMemoizedMaskedChildContext=f),f}function dt(n){return n=n.childContextTypes,n!=null}function no(){Ae(ct),Ae(nt)}function rf(n,s,a){if(nt.current!==Tr)throw Error(t(168));Re(nt,s),Re(ct,a)}function nf(n,s,a){var c=n.stateNode;if(s=s.childContextTypes,typeof c.getChildContext!="function")return a;c=c.getChildContext();for(var f in c)if(!(f in s))throw Error(t(108,ke(n)||"Unknown",f));return M({},a,c)}function io(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||Tr,Qr=nt.current,Re(nt,n),Re(ct,ct.current),!0}function sf(n,s,a){var c=n.stateNode;if(!c)throw Error(t(169));a?(n=nf(n,s,Qr),c.__reactInternalMemoizedMergedChildContext=n,Ae(ct),Ae(nt),Re(nt,n)):Ae(ct),Re(ct,a)}var or=null,so=!1,Nl=!1;function of(n){or===null?or=[n]:or.push(n)}function U0(n){so=!0,of(n)}function Or(){if(!Nl&&or!==null){Nl=!0;var n=0,s=Oe;try{var a=or;for(Oe=1;n<a.length;n++){var c=a[n];do c=c(!0);while(c!==null)}or=null,so=!1}catch(f){throw or!==null&&(or=or.slice(n+1)),ah(rl,Or),f}finally{Oe=s,Nl=!1}}return null}var Un=[],Fn=0,oo=null,ao=0,Tt=[],Ot=0,Xr=null,ar=1,lr="";function Zr(n,s){Un[Fn++]=ao,Un[Fn++]=oo,oo=n,ao=s}function af(n,s,a){Tt[Ot++]=ar,Tt[Ot++]=lr,Tt[Ot++]=Xr,Xr=n;var c=ar;n=lr;var f=32-Mt(c)-1;c&=~(1<<f),a+=1;var g=32-Mt(s)+f;if(30<g){var S=f-f%5;g=(c&(1<<S)-1).toString(32),c>>=S,f-=S,ar=1<<32-Mt(s)+f|a<<f|c,lr=g+n}else ar=1<<g|a<<f|c,lr=n}function jl(n){n.return!==null&&(Zr(n,1),af(n,1,0))}function Ml(n){for(;n===oo;)oo=Un[--Fn],Un[Fn]=null,ao=Un[--Fn],Un[Fn]=null;for(;n===Xr;)Xr=Tt[--Ot],Tt[Ot]=null,lr=Tt[--Ot],Tt[Ot]=null,ar=Tt[--Ot],Tt[Ot]=null}var vt=null,wt=null,Ne=!1,Lt=null;function lf(n,s){var a=Dt(5,null,null,0);a.elementType="DELETED",a.stateNode=s,a.return=n,s=n.deletions,s===null?(n.deletions=[a],n.flags|=16):s.push(a)}function uf(n,s){switch(n.tag){case 5:var a=n.type;return s=s.nodeType!==1||a.toLowerCase()!==s.nodeName.toLowerCase()?null:s,s!==null?(n.stateNode=s,vt=n,wt=kr(s.firstChild),!0):!1;case 6:return s=n.pendingProps===""||s.nodeType!==3?null:s,s!==null?(n.stateNode=s,vt=n,wt=null,!0):!1;case 13:return s=s.nodeType!==8?null:s,s!==null?(a=Xr!==null?{id:ar,overflow:lr}:null,n.memoizedState={dehydrated:s,treeContext:a,retryLane:1073741824},a=Dt(18,null,null,0),a.stateNode=s,a.return=n,n.child=a,vt=n,wt=null,!0):!1;default:return!1}}function $l(n){return(n.mode&1)!==0&&(n.flags&128)===0}function Ll(n){if(Ne){var s=wt;if(s){var a=s;if(!uf(n,s)){if($l(n))throw Error(t(418));s=kr(a.nextSibling);var c=vt;s&&uf(n,s)?lf(c,a):(n.flags=n.flags&-4097|2,Ne=!1,vt=n)}}else{if($l(n))throw Error(t(418));n.flags=n.flags&-4097|2,Ne=!1,vt=n}}}function cf(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;vt=n}function lo(n){if(n!==vt)return!1;if(!Ne)return cf(n),Ne=!0,!1;var s;if((s=n.tag!==3)&&!(s=n.tag!==5)&&(s=n.type,s=s!=="head"&&s!=="body"&&!Pl(n.type,n.memoizedProps)),s&&(s=wt)){if($l(n))throw df(),Error(t(418));for(;s;)lf(n,s),s=kr(s.nextSibling)}if(cf(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(t(317));e:{for(n=n.nextSibling,s=0;n;){if(n.nodeType===8){var a=n.data;if(a==="/$"){if(s===0){wt=kr(n.nextSibling);break e}s--}else a!=="$"&&a!=="$!"&&a!=="$?"||s++}n=n.nextSibling}wt=null}}else wt=vt?kr(n.stateNode.nextSibling):null;return!0}function df(){for(var n=wt;n;)n=kr(n.nextSibling)}function zn(){wt=vt=null,Ne=!1}function Ul(n){Lt===null?Lt=[n]:Lt.push(n)}var F0=H.ReactCurrentBatchConfig;function qi(n,s,a){if(n=a.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(a._owner){if(a=a._owner,a){if(a.tag!==1)throw Error(t(309));var c=a.stateNode}if(!c)throw Error(t(147,n));var f=c,g=""+n;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===g?s.ref:(s=function(S){var T=f.refs;S===null?delete T[g]:T[g]=S},s._stringRef=g,s)}if(typeof n!="string")throw Error(t(284));if(!a._owner)throw Error(t(290,n))}return n}function uo(n,s){throw n=Object.prototype.toString.call(s),Error(t(31,n==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":n))}function hf(n){var s=n._init;return s(n._payload)}function ff(n){function s(L,A){if(n){var F=L.deletions;F===null?(L.deletions=[A],L.flags|=16):F.push(A)}}function a(L,A){if(!n)return null;for(;A!==null;)s(L,A),A=A.sibling;return null}function c(L,A){for(L=new Map;A!==null;)A.key!==null?L.set(A.key,A):L.set(A.index,A),A=A.sibling;return L}function f(L,A){return L=jr(L,A),L.index=0,L.sibling=null,L}function g(L,A,F){return L.index=F,n?(F=L.alternate,F!==null?(F=F.index,F<A?(L.flags|=2,A):F):(L.flags|=2,A)):(L.flags|=1048576,A)}function S(L){return n&&L.alternate===null&&(L.flags|=2),L}function T(L,A,F,re){return A===null||A.tag!==6?(A=Ru(F,L.mode,re),A.return=L,A):(A=f(A,F),A.return=L,A)}function P(L,A,F,re){var ue=F.type;return ue===$?X(L,A,F.props.children,re,F.key):A!==null&&(A.elementType===ue||typeof ue=="object"&&ue!==null&&ue.$$typeof===C&&hf(ue)===A.type)?(re=f(A,F.props),re.ref=qi(L,A,F),re.return=L,re):(re=No(F.type,F.key,F.props,null,L.mode,re),re.ref=qi(L,A,F),re.return=L,re)}function W(L,A,F,re){return A===null||A.tag!==4||A.stateNode.containerInfo!==F.containerInfo||A.stateNode.implementation!==F.implementation?(A=Du(F,L.mode,re),A.return=L,A):(A=f(A,F.children||[]),A.return=L,A)}function X(L,A,F,re,ue){return A===null||A.tag!==7?(A=ln(F,L.mode,re,ue),A.return=L,A):(A=f(A,F),A.return=L,A)}function Z(L,A,F){if(typeof A=="string"&&A!==""||typeof A=="number")return A=Ru(""+A,L.mode,F),A.return=L,A;if(typeof A=="object"&&A!==null){switch(A.$$typeof){case B:return F=No(A.type,A.key,A.props,null,L.mode,F),F.ref=qi(L,null,A),F.return=L,F;case U:return A=Du(A,L.mode,F),A.return=L,A;case C:var re=A._init;return Z(L,re(A._payload),F)}if(_i(A)||K(A))return A=ln(A,L.mode,F,null),A.return=L,A;uo(L,A)}return null}function Q(L,A,F,re){var ue=A!==null?A.key:null;if(typeof F=="string"&&F!==""||typeof F=="number")return ue!==null?null:T(L,A,""+F,re);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case B:return F.key===ue?P(L,A,F,re):null;case U:return F.key===ue?W(L,A,F,re):null;case C:return ue=F._init,Q(L,A,ue(F._payload),re)}if(_i(F)||K(F))return ue!==null?null:X(L,A,F,re,null);uo(L,F)}return null}function ie(L,A,F,re,ue){if(typeof re=="string"&&re!==""||typeof re=="number")return L=L.get(F)||null,T(A,L,""+re,ue);if(typeof re=="object"&&re!==null){switch(re.$$typeof){case B:return L=L.get(re.key===null?F:re.key)||null,P(A,L,re,ue);case U:return L=L.get(re.key===null?F:re.key)||null,W(A,L,re,ue);case C:var he=re._init;return ie(L,A,F,he(re._payload),ue)}if(_i(re)||K(re))return L=L.get(F)||null,X(A,L,re,ue,null);uo(A,re)}return null}function ae(L,A,F,re){for(var ue=null,he=null,fe=A,me=A=0,Qe=null;fe!==null&&me<F.length;me++){fe.index>me?(Qe=fe,fe=null):Qe=fe.sibling;var xe=Q(L,fe,F[me],re);if(xe===null){fe===null&&(fe=Qe);break}n&&fe&&xe.alternate===null&&s(L,fe),A=g(xe,A,me),he===null?ue=xe:he.sibling=xe,he=xe,fe=Qe}if(me===F.length)return a(L,fe),Ne&&Zr(L,me),ue;if(fe===null){for(;me<F.length;me++)fe=Z(L,F[me],re),fe!==null&&(A=g(fe,A,me),he===null?ue=fe:he.sibling=fe,he=fe);return Ne&&Zr(L,me),ue}for(fe=c(L,fe);me<F.length;me++)Qe=ie(fe,L,me,F[me],re),Qe!==null&&(n&&Qe.alternate!==null&&fe.delete(Qe.key===null?me:Qe.key),A=g(Qe,A,me),he===null?ue=Qe:he.sibling=Qe,he=Qe);return n&&fe.forEach(function(Mr){return s(L,Mr)}),Ne&&Zr(L,me),ue}function le(L,A,F,re){var ue=K(F);if(typeof ue!="function")throw Error(t(150));if(F=ue.call(F),F==null)throw Error(t(151));for(var he=ue=null,fe=A,me=A=0,Qe=null,xe=F.next();fe!==null&&!xe.done;me++,xe=F.next()){fe.index>me?(Qe=fe,fe=null):Qe=fe.sibling;var Mr=Q(L,fe,xe.value,re);if(Mr===null){fe===null&&(fe=Qe);break}n&&fe&&Mr.alternate===null&&s(L,fe),A=g(Mr,A,me),he===null?ue=Mr:he.sibling=Mr,he=Mr,fe=Qe}if(xe.done)return a(L,fe),Ne&&Zr(L,me),ue;if(fe===null){for(;!xe.done;me++,xe=F.next())xe=Z(L,xe.value,re),xe!==null&&(A=g(xe,A,me),he===null?ue=xe:he.sibling=xe,he=xe);return Ne&&Zr(L,me),ue}for(fe=c(L,fe);!xe.done;me++,xe=F.next())xe=ie(fe,L,me,xe.value,re),xe!==null&&(n&&xe.alternate!==null&&fe.delete(xe.key===null?me:xe.key),A=g(xe,A,me),he===null?ue=xe:he.sibling=xe,he=xe);return n&&fe.forEach(function(vw){return s(L,vw)}),Ne&&Zr(L,me),ue}function Be(L,A,F,re){if(typeof F=="object"&&F!==null&&F.type===$&&F.key===null&&(F=F.props.children),typeof F=="object"&&F!==null){switch(F.$$typeof){case B:e:{for(var ue=F.key,he=A;he!==null;){if(he.key===ue){if(ue=F.type,ue===$){if(he.tag===7){a(L,he.sibling),A=f(he,F.props.children),A.return=L,L=A;break e}}else if(he.elementType===ue||typeof ue=="object"&&ue!==null&&ue.$$typeof===C&&hf(ue)===he.type){a(L,he.sibling),A=f(he,F.props),A.ref=qi(L,he,F),A.return=L,L=A;break e}a(L,he);break}else s(L,he);he=he.sibling}F.type===$?(A=ln(F.props.children,L.mode,re,F.key),A.return=L,L=A):(re=No(F.type,F.key,F.props,null,L.mode,re),re.ref=qi(L,A,F),re.return=L,L=re)}return S(L);case U:e:{for(he=F.key;A!==null;){if(A.key===he)if(A.tag===4&&A.stateNode.containerInfo===F.containerInfo&&A.stateNode.implementation===F.implementation){a(L,A.sibling),A=f(A,F.children||[]),A.return=L,L=A;break e}else{a(L,A);break}else s(L,A);A=A.sibling}A=Du(F,L.mode,re),A.return=L,L=A}return S(L);case C:return he=F._init,Be(L,A,he(F._payload),re)}if(_i(F))return ae(L,A,F,re);if(K(F))return le(L,A,F,re);uo(L,F)}return typeof F=="string"&&F!==""||typeof F=="number"?(F=""+F,A!==null&&A.tag===6?(a(L,A.sibling),A=f(A,F),A.return=L,L=A):(a(L,A),A=Ru(F,L.mode,re),A.return=L,L=A),S(L)):a(L,A)}return Be}var Bn=ff(!0),pf=ff(!1),co=xr(null),ho=null,Wn=null,Fl=null;function zl(){Fl=Wn=ho=null}function Bl(n){var s=co.current;Ae(co),n._currentValue=s}function Wl(n,s,a){for(;n!==null;){var c=n.alternate;if((n.childLanes&s)!==s?(n.childLanes|=s,c!==null&&(c.childLanes|=s)):c!==null&&(c.childLanes&s)!==s&&(c.childLanes|=s),n===a)break;n=n.return}}function Hn(n,s){ho=n,Fl=Wn=null,n=n.dependencies,n!==null&&n.firstContext!==null&&(n.lanes&s&&(ht=!0),n.firstContext=null)}function Ct(n){var s=n._currentValue;if(Fl!==n)if(n={context:n,memoizedValue:s,next:null},Wn===null){if(ho===null)throw Error(t(308));Wn=n,ho.dependencies={lanes:0,firstContext:n}}else Wn=Wn.next=n;return s}var en=null;function Hl(n){en===null?en=[n]:en.push(n)}function gf(n,s,a,c){var f=s.interleaved;return f===null?(a.next=a,Hl(s)):(a.next=f.next,f.next=a),s.interleaved=a,ur(n,c)}function ur(n,s){n.lanes|=s;var a=n.alternate;for(a!==null&&(a.lanes|=s),a=n,n=n.return;n!==null;)n.childLanes|=s,a=n.alternate,a!==null&&(a.childLanes|=s),a=n,n=n.return;return a.tag===3?a.stateNode:null}var Cr=!1;function ql(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function mf(n,s){n=n.updateQueue,s.updateQueue===n&&(s.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function cr(n,s){return{eventTime:n,lane:s,tag:0,payload:null,callback:null,next:null}}function Pr(n,s,a){var c=n.updateQueue;if(c===null)return null;if(c=c.shared,Ee&2){var f=c.pending;return f===null?s.next=s:(s.next=f.next,f.next=s),c.pending=s,ur(n,a)}return f=c.interleaved,f===null?(s.next=s,Hl(c)):(s.next=f.next,f.next=s),c.interleaved=s,ur(n,a)}function fo(n,s,a){if(s=s.updateQueue,s!==null&&(s=s.shared,(a&4194240)!==0)){var c=s.lanes;c&=n.pendingLanes,a|=c,s.lanes=a,sl(n,a)}}function yf(n,s){var a=n.updateQueue,c=n.alternate;if(c!==null&&(c=c.updateQueue,a===c)){var f=null,g=null;if(a=a.firstBaseUpdate,a!==null){do{var S={eventTime:a.eventTime,lane:a.lane,tag:a.tag,payload:a.payload,callback:a.callback,next:null};g===null?f=g=S:g=g.next=S,a=a.next}while(a!==null);g===null?f=g=s:g=g.next=s}else f=g=s;a={baseState:c.baseState,firstBaseUpdate:f,lastBaseUpdate:g,shared:c.shared,effects:c.effects},n.updateQueue=a;return}n=a.lastBaseUpdate,n===null?a.firstBaseUpdate=s:n.next=s,a.lastBaseUpdate=s}function po(n,s,a,c){var f=n.updateQueue;Cr=!1;var g=f.firstBaseUpdate,S=f.lastBaseUpdate,T=f.shared.pending;if(T!==null){f.shared.pending=null;var P=T,W=P.next;P.next=null,S===null?g=W:S.next=W,S=P;var X=n.alternate;X!==null&&(X=X.updateQueue,T=X.lastBaseUpdate,T!==S&&(T===null?X.firstBaseUpdate=W:T.next=W,X.lastBaseUpdate=P))}if(g!==null){var Z=f.baseState;S=0,X=W=P=null,T=g;do{var Q=T.lane,ie=T.eventTime;if((c&Q)===Q){X!==null&&(X=X.next={eventTime:ie,lane:0,tag:T.tag,payload:T.payload,callback:T.callback,next:null});e:{var ae=n,le=T;switch(Q=s,ie=a,le.tag){case 1:if(ae=le.payload,typeof ae=="function"){Z=ae.call(ie,Z,Q);break e}Z=ae;break e;case 3:ae.flags=ae.flags&-65537|128;case 0:if(ae=le.payload,Q=typeof ae=="function"?ae.call(ie,Z,Q):ae,Q==null)break e;Z=M({},Z,Q);break e;case 2:Cr=!0}}T.callback!==null&&T.lane!==0&&(n.flags|=64,Q=f.effects,Q===null?f.effects=[T]:Q.push(T))}else ie={eventTime:ie,lane:Q,tag:T.tag,payload:T.payload,callback:T.callback,next:null},X===null?(W=X=ie,P=Z):X=X.next=ie,S|=Q;if(T=T.next,T===null){if(T=f.shared.pending,T===null)break;Q=T,T=Q.next,Q.next=null,f.lastBaseUpdate=Q,f.shared.pending=null}}while(!0);if(X===null&&(P=Z),f.baseState=P,f.firstBaseUpdate=W,f.lastBaseUpdate=X,s=f.shared.interleaved,s!==null){f=s;do S|=f.lane,f=f.next;while(f!==s)}else g===null&&(f.shared.lanes=0);nn|=S,n.lanes=S,n.memoizedState=Z}}function vf(n,s,a){if(n=s.effects,s.effects=null,n!==null)for(s=0;s<n.length;s++){var c=n[s],f=c.callback;if(f!==null){if(c.callback=null,c=a,typeof f!="function")throw Error(t(191,f));f.call(c)}}}var Vi={},Jt=xr(Vi),Gi=xr(Vi),Ki=xr(Vi);function tn(n){if(n===Vi)throw Error(t(174));return n}function Vl(n,s){switch(Re(Ki,s),Re(Gi,n),Re(Jt,Vi),n=s.nodeType,n){case 9:case 11:s=(s=s.documentElement)?s.namespaceURI:Ga(null,"");break;default:n=n===8?s.parentNode:s,s=n.namespaceURI||null,n=n.tagName,s=Ga(s,n)}Ae(Jt),Re(Jt,s)}function qn(){Ae(Jt),Ae(Gi),Ae(Ki)}function wf(n){tn(Ki.current);var s=tn(Jt.current),a=Ga(s,n.type);s!==a&&(Re(Gi,n),Re(Jt,a))}function Gl(n){Gi.current===n&&(Ae(Jt),Ae(Gi))}var je=xr(0);function go(n){for(var s=n;s!==null;){if(s.tag===13){var a=s.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if(s.flags&128)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var Kl=[];function Yl(){for(var n=0;n<Kl.length;n++)Kl[n]._workInProgressVersionPrimary=null;Kl.length=0}var mo=H.ReactCurrentDispatcher,Jl=H.ReactCurrentBatchConfig,rn=0,Me=null,qe=null,Ye=null,yo=!1,Yi=!1,Ji=0,z0=0;function it(){throw Error(t(321))}function Ql(n,s){if(s===null)return!1;for(var a=0;a<s.length&&a<n.length;a++)if(!$t(n[a],s[a]))return!1;return!0}function Xl(n,s,a,c,f,g){if(rn=g,Me=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,mo.current=n===null||n.memoizedState===null?q0:V0,n=a(c,f),Yi){g=0;do{if(Yi=!1,Ji=0,25<=g)throw Error(t(301));g+=1,Ye=qe=null,s.updateQueue=null,mo.current=G0,n=a(c,f)}while(Yi)}if(mo.current=_o,s=qe!==null&&qe.next!==null,rn=0,Ye=qe=Me=null,yo=!1,s)throw Error(t(300));return n}function Zl(){var n=Ji!==0;return Ji=0,n}function Qt(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ye===null?Me.memoizedState=Ye=n:Ye=Ye.next=n,Ye}function Pt(){if(qe===null){var n=Me.alternate;n=n!==null?n.memoizedState:null}else n=qe.next;var s=Ye===null?Me.memoizedState:Ye.next;if(s!==null)Ye=s,qe=n;else{if(n===null)throw Error(t(310));qe=n,n={memoizedState:qe.memoizedState,baseState:qe.baseState,baseQueue:qe.baseQueue,queue:qe.queue,next:null},Ye===null?Me.memoizedState=Ye=n:Ye=Ye.next=n}return Ye}function Qi(n,s){return typeof s=="function"?s(n):s}function eu(n){var s=Pt(),a=s.queue;if(a===null)throw Error(t(311));a.lastRenderedReducer=n;var c=qe,f=c.baseQueue,g=a.pending;if(g!==null){if(f!==null){var S=f.next;f.next=g.next,g.next=S}c.baseQueue=f=g,a.pending=null}if(f!==null){g=f.next,c=c.baseState;var T=S=null,P=null,W=g;do{var X=W.lane;if((rn&X)===X)P!==null&&(P=P.next={lane:0,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null}),c=W.hasEagerState?W.eagerState:n(c,W.action);else{var Z={lane:X,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null};P===null?(T=P=Z,S=c):P=P.next=Z,Me.lanes|=X,nn|=X}W=W.next}while(W!==null&&W!==g);P===null?S=c:P.next=T,$t(c,s.memoizedState)||(ht=!0),s.memoizedState=c,s.baseState=S,s.baseQueue=P,a.lastRenderedState=c}if(n=a.interleaved,n!==null){f=n;do g=f.lane,Me.lanes|=g,nn|=g,f=f.next;while(f!==n)}else f===null&&(a.lanes=0);return[s.memoizedState,a.dispatch]}function tu(n){var s=Pt(),a=s.queue;if(a===null)throw Error(t(311));a.lastRenderedReducer=n;var c=a.dispatch,f=a.pending,g=s.memoizedState;if(f!==null){a.pending=null;var S=f=f.next;do g=n(g,S.action),S=S.next;while(S!==f);$t(g,s.memoizedState)||(ht=!0),s.memoizedState=g,s.baseQueue===null&&(s.baseState=g),a.lastRenderedState=g}return[g,c]}function _f(){}function Sf(n,s){var a=Me,c=Pt(),f=s(),g=!$t(c.memoizedState,f);if(g&&(c.memoizedState=f,ht=!0),c=c.queue,ru(kf.bind(null,a,c,n),[n]),c.getSnapshot!==s||g||Ye!==null&&Ye.memoizedState.tag&1){if(a.flags|=2048,Xi(9,Ef.bind(null,a,c,f,s),void 0,null),Je===null)throw Error(t(349));rn&30||bf(a,s,f)}return f}function bf(n,s,a){n.flags|=16384,n={getSnapshot:s,value:a},s=Me.updateQueue,s===null?(s={lastEffect:null,stores:null},Me.updateQueue=s,s.stores=[n]):(a=s.stores,a===null?s.stores=[n]:a.push(n))}function Ef(n,s,a,c){s.value=a,s.getSnapshot=c,xf(s)&&Tf(n)}function kf(n,s,a){return a(function(){xf(s)&&Tf(n)})}function xf(n){var s=n.getSnapshot;n=n.value;try{var a=s();return!$t(n,a)}catch{return!0}}function Tf(n){var s=ur(n,1);s!==null&&Bt(s,n,1,-1)}function Of(n){var s=Qt();return typeof n=="function"&&(n=n()),s.memoizedState=s.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Qi,lastRenderedState:n},s.queue=n,n=n.dispatch=H0.bind(null,Me,n),[s.memoizedState,n]}function Xi(n,s,a,c){return n={tag:n,create:s,destroy:a,deps:c,next:null},s=Me.updateQueue,s===null?(s={lastEffect:null,stores:null},Me.updateQueue=s,s.lastEffect=n.next=n):(a=s.lastEffect,a===null?s.lastEffect=n.next=n:(c=a.next,a.next=n,n.next=c,s.lastEffect=n)),n}function Cf(){return Pt().memoizedState}function vo(n,s,a,c){var f=Qt();Me.flags|=n,f.memoizedState=Xi(1|s,a,void 0,c===void 0?null:c)}function wo(n,s,a,c){var f=Pt();c=c===void 0?null:c;var g=void 0;if(qe!==null){var S=qe.memoizedState;if(g=S.destroy,c!==null&&Ql(c,S.deps)){f.memoizedState=Xi(s,a,g,c);return}}Me.flags|=n,f.memoizedState=Xi(1|s,a,g,c)}function Pf(n,s){return vo(8390656,8,n,s)}function ru(n,s){return wo(2048,8,n,s)}function Rf(n,s){return wo(4,2,n,s)}function Df(n,s){return wo(4,4,n,s)}function If(n,s){if(typeof s=="function")return n=n(),s(n),function(){s(null)};if(s!=null)return n=n(),s.current=n,function(){s.current=null}}function Af(n,s,a){return a=a!=null?a.concat([n]):null,wo(4,4,If.bind(null,s,n),a)}function nu(){}function Nf(n,s){var a=Pt();s=s===void 0?null:s;var c=a.memoizedState;return c!==null&&s!==null&&Ql(s,c[1])?c[0]:(a.memoizedState=[n,s],n)}function jf(n,s){var a=Pt();s=s===void 0?null:s;var c=a.memoizedState;return c!==null&&s!==null&&Ql(s,c[1])?c[0]:(n=n(),a.memoizedState=[n,s],n)}function Mf(n,s,a){return rn&21?($t(a,s)||(a=dh(),Me.lanes|=a,nn|=a,n.baseState=!0),s):(n.baseState&&(n.baseState=!1,ht=!0),n.memoizedState=a)}function B0(n,s){var a=Oe;Oe=a!==0&&4>a?a:4,n(!0);var c=Jl.transition;Jl.transition={};try{n(!1),s()}finally{Oe=a,Jl.transition=c}}function $f(){return Pt().memoizedState}function W0(n,s,a){var c=Ar(n);if(a={lane:c,action:a,hasEagerState:!1,eagerState:null,next:null},Lf(n))Uf(s,a);else if(a=gf(n,s,a,c),a!==null){var f=ut();Bt(a,n,c,f),Ff(a,s,c)}}function H0(n,s,a){var c=Ar(n),f={lane:c,action:a,hasEagerState:!1,eagerState:null,next:null};if(Lf(n))Uf(s,f);else{var g=n.alternate;if(n.lanes===0&&(g===null||g.lanes===0)&&(g=s.lastRenderedReducer,g!==null))try{var S=s.lastRenderedState,T=g(S,a);if(f.hasEagerState=!0,f.eagerState=T,$t(T,S)){var P=s.interleaved;P===null?(f.next=f,Hl(s)):(f.next=P.next,P.next=f),s.interleaved=f;return}}catch{}finally{}a=gf(n,s,f,c),a!==null&&(f=ut(),Bt(a,n,c,f),Ff(a,s,c))}}function Lf(n){var s=n.alternate;return n===Me||s!==null&&s===Me}function Uf(n,s){Yi=yo=!0;var a=n.pending;a===null?s.next=s:(s.next=a.next,a.next=s),n.pending=s}function Ff(n,s,a){if(a&4194240){var c=s.lanes;c&=n.pendingLanes,a|=c,s.lanes=a,sl(n,a)}}var _o={readContext:Ct,useCallback:it,useContext:it,useEffect:it,useImperativeHandle:it,useInsertionEffect:it,useLayoutEffect:it,useMemo:it,useReducer:it,useRef:it,useState:it,useDebugValue:it,useDeferredValue:it,useTransition:it,useMutableSource:it,useSyncExternalStore:it,useId:it,unstable_isNewReconciler:!1},q0={readContext:Ct,useCallback:function(n,s){return Qt().memoizedState=[n,s===void 0?null:s],n},useContext:Ct,useEffect:Pf,useImperativeHandle:function(n,s,a){return a=a!=null?a.concat([n]):null,vo(4194308,4,If.bind(null,s,n),a)},useLayoutEffect:function(n,s){return vo(4194308,4,n,s)},useInsertionEffect:function(n,s){return vo(4,2,n,s)},useMemo:function(n,s){var a=Qt();return s=s===void 0?null:s,n=n(),a.memoizedState=[n,s],n},useReducer:function(n,s,a){var c=Qt();return s=a!==void 0?a(s):s,c.memoizedState=c.baseState=s,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:s},c.queue=n,n=n.dispatch=W0.bind(null,Me,n),[c.memoizedState,n]},useRef:function(n){var s=Qt();return n={current:n},s.memoizedState=n},useState:Of,useDebugValue:nu,useDeferredValue:function(n){return Qt().memoizedState=n},useTransition:function(){var n=Of(!1),s=n[0];return n=B0.bind(null,n[1]),Qt().memoizedState=n,[s,n]},useMutableSource:function(){},useSyncExternalStore:function(n,s,a){var c=Me,f=Qt();if(Ne){if(a===void 0)throw Error(t(407));a=a()}else{if(a=s(),Je===null)throw Error(t(349));rn&30||bf(c,s,a)}f.memoizedState=a;var g={value:a,getSnapshot:s};return f.queue=g,Pf(kf.bind(null,c,g,n),[n]),c.flags|=2048,Xi(9,Ef.bind(null,c,g,a,s),void 0,null),a},useId:function(){var n=Qt(),s=Je.identifierPrefix;if(Ne){var a=lr,c=ar;a=(c&~(1<<32-Mt(c)-1)).toString(32)+a,s=":"+s+"R"+a,a=Ji++,0<a&&(s+="H"+a.toString(32)),s+=":"}else a=z0++,s=":"+s+"r"+a.toString(32)+":";return n.memoizedState=s},unstable_isNewReconciler:!1},V0={readContext:Ct,useCallback:Nf,useContext:Ct,useEffect:ru,useImperativeHandle:Af,useInsertionEffect:Rf,useLayoutEffect:Df,useMemo:jf,useReducer:eu,useRef:Cf,useState:function(){return eu(Qi)},useDebugValue:nu,useDeferredValue:function(n){var s=Pt();return Mf(s,qe.memoizedState,n)},useTransition:function(){var n=eu(Qi)[0],s=Pt().memoizedState;return[n,s]},useMutableSource:_f,useSyncExternalStore:Sf,useId:$f,unstable_isNewReconciler:!1},G0={readContext:Ct,useCallback:Nf,useContext:Ct,useEffect:ru,useImperativeHandle:Af,useInsertionEffect:Rf,useLayoutEffect:Df,useMemo:jf,useReducer:tu,useRef:Cf,useState:function(){return tu(Qi)},useDebugValue:nu,useDeferredValue:function(n){var s=Pt();return qe===null?s.memoizedState=n:Mf(s,qe.memoizedState,n)},useTransition:function(){var n=tu(Qi)[0],s=Pt().memoizedState;return[n,s]},useMutableSource:_f,useSyncExternalStore:Sf,useId:$f,unstable_isNewReconciler:!1};function Ut(n,s){if(n&&n.defaultProps){s=M({},s),n=n.defaultProps;for(var a in n)s[a]===void 0&&(s[a]=n[a]);return s}return s}function iu(n,s,a,c){s=n.memoizedState,a=a(c,s),a=a==null?s:M({},s,a),n.memoizedState=a,n.lanes===0&&(n.updateQueue.baseState=a)}var So={isMounted:function(n){return(n=n._reactInternals)?Yr(n)===n:!1},enqueueSetState:function(n,s,a){n=n._reactInternals;var c=ut(),f=Ar(n),g=cr(c,f);g.payload=s,a!=null&&(g.callback=a),s=Pr(n,g,f),s!==null&&(Bt(s,n,f,c),fo(s,n,f))},enqueueReplaceState:function(n,s,a){n=n._reactInternals;var c=ut(),f=Ar(n),g=cr(c,f);g.tag=1,g.payload=s,a!=null&&(g.callback=a),s=Pr(n,g,f),s!==null&&(Bt(s,n,f,c),fo(s,n,f))},enqueueForceUpdate:function(n,s){n=n._reactInternals;var a=ut(),c=Ar(n),f=cr(a,c);f.tag=2,s!=null&&(f.callback=s),s=Pr(n,f,c),s!==null&&(Bt(s,n,c,a),fo(s,n,c))}};function zf(n,s,a,c,f,g,S){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(c,g,S):s.prototype&&s.prototype.isPureReactComponent?!Li(a,c)||!Li(f,g):!0}function Bf(n,s,a){var c=!1,f=Tr,g=s.contextType;return typeof g=="object"&&g!==null?g=Ct(g):(f=dt(s)?Qr:nt.current,c=s.contextTypes,g=(c=c!=null)?Ln(n,f):Tr),s=new s(a,g),n.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=So,n.stateNode=s,s._reactInternals=n,c&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=f,n.__reactInternalMemoizedMaskedChildContext=g),s}function Wf(n,s,a,c){n=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(a,c),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(a,c),s.state!==n&&So.enqueueReplaceState(s,s.state,null)}function su(n,s,a,c){var f=n.stateNode;f.props=a,f.state=n.memoizedState,f.refs={},ql(n);var g=s.contextType;typeof g=="object"&&g!==null?f.context=Ct(g):(g=dt(s)?Qr:nt.current,f.context=Ln(n,g)),f.state=n.memoizedState,g=s.getDerivedStateFromProps,typeof g=="function"&&(iu(n,s,g,a),f.state=n.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(s=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),s!==f.state&&So.enqueueReplaceState(f,f.state,null),po(n,a,f,c),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308)}function Vn(n,s){try{var a="",c=s;do a+=we(c),c=c.return;while(c);var f=a}catch(g){f=`
Error generating stack: `+g.message+`
`+g.stack}return{value:n,source:s,stack:f,digest:null}}function ou(n,s,a){return{value:n,source:null,stack:a??null,digest:s??null}}function au(n,s){try{console.error(s.value)}catch(a){setTimeout(function(){throw a})}}var K0=typeof WeakMap=="function"?WeakMap:Map;function Hf(n,s,a){a=cr(-1,a),a.tag=3,a.payload={element:null};var c=s.value;return a.callback=function(){Co||(Co=!0,bu=c),au(n,s)},a}function qf(n,s,a){a=cr(-1,a),a.tag=3;var c=n.type.getDerivedStateFromError;if(typeof c=="function"){var f=s.value;a.payload=function(){return c(f)},a.callback=function(){au(n,s)}}var g=n.stateNode;return g!==null&&typeof g.componentDidCatch=="function"&&(a.callback=function(){au(n,s),typeof c!="function"&&(Dr===null?Dr=new Set([this]):Dr.add(this));var S=s.stack;this.componentDidCatch(s.value,{componentStack:S!==null?S:""})}),a}function Vf(n,s,a){var c=n.pingCache;if(c===null){c=n.pingCache=new K0;var f=new Set;c.set(s,f)}else f=c.get(s),f===void 0&&(f=new Set,c.set(s,f));f.has(a)||(f.add(a),n=lw.bind(null,n,s,a),s.then(n,n))}function Gf(n){do{var s;if((s=n.tag===13)&&(s=n.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return n;n=n.return}while(n!==null);return null}function Kf(n,s,a,c,f){return n.mode&1?(n.flags|=65536,n.lanes=f,n):(n===s?n.flags|=65536:(n.flags|=128,a.flags|=131072,a.flags&=-52805,a.tag===1&&(a.alternate===null?a.tag=17:(s=cr(-1,1),s.tag=2,Pr(a,s,1))),a.lanes|=1),n)}var Y0=H.ReactCurrentOwner,ht=!1;function lt(n,s,a,c){s.child=n===null?pf(s,null,a,c):Bn(s,n.child,a,c)}function Yf(n,s,a,c,f){a=a.render;var g=s.ref;return Hn(s,f),c=Xl(n,s,a,c,g,f),a=Zl(),n!==null&&!ht?(s.updateQueue=n.updateQueue,s.flags&=-2053,n.lanes&=~f,dr(n,s,f)):(Ne&&a&&jl(s),s.flags|=1,lt(n,s,c,f),s.child)}function Jf(n,s,a,c,f){if(n===null){var g=a.type;return typeof g=="function"&&!Pu(g)&&g.defaultProps===void 0&&a.compare===null&&a.defaultProps===void 0?(s.tag=15,s.type=g,Qf(n,s,g,c,f)):(n=No(a.type,null,c,s,s.mode,f),n.ref=s.ref,n.return=s,s.child=n)}if(g=n.child,!(n.lanes&f)){var S=g.memoizedProps;if(a=a.compare,a=a!==null?a:Li,a(S,c)&&n.ref===s.ref)return dr(n,s,f)}return s.flags|=1,n=jr(g,c),n.ref=s.ref,n.return=s,s.child=n}function Qf(n,s,a,c,f){if(n!==null){var g=n.memoizedProps;if(Li(g,c)&&n.ref===s.ref)if(ht=!1,s.pendingProps=c=g,(n.lanes&f)!==0)n.flags&131072&&(ht=!0);else return s.lanes=n.lanes,dr(n,s,f)}return lu(n,s,a,c,f)}function Xf(n,s,a){var c=s.pendingProps,f=c.children,g=n!==null?n.memoizedState:null;if(c.mode==="hidden")if(!(s.mode&1))s.memoizedState={baseLanes:0,cachePool:null,transitions:null},Re(Kn,_t),_t|=a;else{if(!(a&1073741824))return n=g!==null?g.baseLanes|a:a,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:n,cachePool:null,transitions:null},s.updateQueue=null,Re(Kn,_t),_t|=n,null;s.memoizedState={baseLanes:0,cachePool:null,transitions:null},c=g!==null?g.baseLanes:a,Re(Kn,_t),_t|=c}else g!==null?(c=g.baseLanes|a,s.memoizedState=null):c=a,Re(Kn,_t),_t|=c;return lt(n,s,f,a),s.child}function Zf(n,s){var a=s.ref;(n===null&&a!==null||n!==null&&n.ref!==a)&&(s.flags|=512,s.flags|=2097152)}function lu(n,s,a,c,f){var g=dt(a)?Qr:nt.current;return g=Ln(s,g),Hn(s,f),a=Xl(n,s,a,c,g,f),c=Zl(),n!==null&&!ht?(s.updateQueue=n.updateQueue,s.flags&=-2053,n.lanes&=~f,dr(n,s,f)):(Ne&&c&&jl(s),s.flags|=1,lt(n,s,a,f),s.child)}function ep(n,s,a,c,f){if(dt(a)){var g=!0;io(s)}else g=!1;if(Hn(s,f),s.stateNode===null)Eo(n,s),Bf(s,a,c),su(s,a,c,f),c=!0;else if(n===null){var S=s.stateNode,T=s.memoizedProps;S.props=T;var P=S.context,W=a.contextType;typeof W=="object"&&W!==null?W=Ct(W):(W=dt(a)?Qr:nt.current,W=Ln(s,W));var X=a.getDerivedStateFromProps,Z=typeof X=="function"||typeof S.getSnapshotBeforeUpdate=="function";Z||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(T!==c||P!==W)&&Wf(s,S,c,W),Cr=!1;var Q=s.memoizedState;S.state=Q,po(s,c,S,f),P=s.memoizedState,T!==c||Q!==P||ct.current||Cr?(typeof X=="function"&&(iu(s,a,X,c),P=s.memoizedState),(T=Cr||zf(s,a,T,c,Q,P,W))?(Z||typeof S.UNSAFE_componentWillMount!="function"&&typeof S.componentWillMount!="function"||(typeof S.componentWillMount=="function"&&S.componentWillMount(),typeof S.UNSAFE_componentWillMount=="function"&&S.UNSAFE_componentWillMount()),typeof S.componentDidMount=="function"&&(s.flags|=4194308)):(typeof S.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=c,s.memoizedState=P),S.props=c,S.state=P,S.context=W,c=T):(typeof S.componentDidMount=="function"&&(s.flags|=4194308),c=!1)}else{S=s.stateNode,mf(n,s),T=s.memoizedProps,W=s.type===s.elementType?T:Ut(s.type,T),S.props=W,Z=s.pendingProps,Q=S.context,P=a.contextType,typeof P=="object"&&P!==null?P=Ct(P):(P=dt(a)?Qr:nt.current,P=Ln(s,P));var ie=a.getDerivedStateFromProps;(X=typeof ie=="function"||typeof S.getSnapshotBeforeUpdate=="function")||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(T!==Z||Q!==P)&&Wf(s,S,c,P),Cr=!1,Q=s.memoizedState,S.state=Q,po(s,c,S,f);var ae=s.memoizedState;T!==Z||Q!==ae||ct.current||Cr?(typeof ie=="function"&&(iu(s,a,ie,c),ae=s.memoizedState),(W=Cr||zf(s,a,W,c,Q,ae,P)||!1)?(X||typeof S.UNSAFE_componentWillUpdate!="function"&&typeof S.componentWillUpdate!="function"||(typeof S.componentWillUpdate=="function"&&S.componentWillUpdate(c,ae,P),typeof S.UNSAFE_componentWillUpdate=="function"&&S.UNSAFE_componentWillUpdate(c,ae,P)),typeof S.componentDidUpdate=="function"&&(s.flags|=4),typeof S.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof S.componentDidUpdate!="function"||T===n.memoizedProps&&Q===n.memoizedState||(s.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||T===n.memoizedProps&&Q===n.memoizedState||(s.flags|=1024),s.memoizedProps=c,s.memoizedState=ae),S.props=c,S.state=ae,S.context=P,c=W):(typeof S.componentDidUpdate!="function"||T===n.memoizedProps&&Q===n.memoizedState||(s.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||T===n.memoizedProps&&Q===n.memoizedState||(s.flags|=1024),c=!1)}return uu(n,s,a,c,g,f)}function uu(n,s,a,c,f,g){Zf(n,s);var S=(s.flags&128)!==0;if(!c&&!S)return f&&sf(s,a,!1),dr(n,s,g);c=s.stateNode,Y0.current=s;var T=S&&typeof a.getDerivedStateFromError!="function"?null:c.render();return s.flags|=1,n!==null&&S?(s.child=Bn(s,n.child,null,g),s.child=Bn(s,null,T,g)):lt(n,s,T,g),s.memoizedState=c.state,f&&sf(s,a,!0),s.child}function tp(n){var s=n.stateNode;s.pendingContext?rf(n,s.pendingContext,s.pendingContext!==s.context):s.context&&rf(n,s.context,!1),Vl(n,s.containerInfo)}function rp(n,s,a,c,f){return zn(),Ul(f),s.flags|=256,lt(n,s,a,c),s.child}var cu={dehydrated:null,treeContext:null,retryLane:0};function du(n){return{baseLanes:n,cachePool:null,transitions:null}}function np(n,s,a){var c=s.pendingProps,f=je.current,g=!1,S=(s.flags&128)!==0,T;if((T=S)||(T=n!==null&&n.memoizedState===null?!1:(f&2)!==0),T?(g=!0,s.flags&=-129):(n===null||n.memoizedState!==null)&&(f|=1),Re(je,f&1),n===null)return Ll(s),n=s.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?(s.mode&1?n.data==="$!"?s.lanes=8:s.lanes=1073741824:s.lanes=1,null):(S=c.children,n=c.fallback,g?(c=s.mode,g=s.child,S={mode:"hidden",children:S},!(c&1)&&g!==null?(g.childLanes=0,g.pendingProps=S):g=jo(S,c,0,null),n=ln(n,c,a,null),g.return=s,n.return=s,g.sibling=n,s.child=g,s.child.memoizedState=du(a),s.memoizedState=cu,n):hu(s,S));if(f=n.memoizedState,f!==null&&(T=f.dehydrated,T!==null))return J0(n,s,S,c,T,f,a);if(g){g=c.fallback,S=s.mode,f=n.child,T=f.sibling;var P={mode:"hidden",children:c.children};return!(S&1)&&s.child!==f?(c=s.child,c.childLanes=0,c.pendingProps=P,s.deletions=null):(c=jr(f,P),c.subtreeFlags=f.subtreeFlags&14680064),T!==null?g=jr(T,g):(g=ln(g,S,a,null),g.flags|=2),g.return=s,c.return=s,c.sibling=g,s.child=c,c=g,g=s.child,S=n.child.memoizedState,S=S===null?du(a):{baseLanes:S.baseLanes|a,cachePool:null,transitions:S.transitions},g.memoizedState=S,g.childLanes=n.childLanes&~a,s.memoizedState=cu,c}return g=n.child,n=g.sibling,c=jr(g,{mode:"visible",children:c.children}),!(s.mode&1)&&(c.lanes=a),c.return=s,c.sibling=null,n!==null&&(a=s.deletions,a===null?(s.deletions=[n],s.flags|=16):a.push(n)),s.child=c,s.memoizedState=null,c}function hu(n,s){return s=jo({mode:"visible",children:s},n.mode,0,null),s.return=n,n.child=s}function bo(n,s,a,c){return c!==null&&Ul(c),Bn(s,n.child,null,a),n=hu(s,s.pendingProps.children),n.flags|=2,s.memoizedState=null,n}function J0(n,s,a,c,f,g,S){if(a)return s.flags&256?(s.flags&=-257,c=ou(Error(t(422))),bo(n,s,S,c)):s.memoizedState!==null?(s.child=n.child,s.flags|=128,null):(g=c.fallback,f=s.mode,c=jo({mode:"visible",children:c.children},f,0,null),g=ln(g,f,S,null),g.flags|=2,c.return=s,g.return=s,c.sibling=g,s.child=c,s.mode&1&&Bn(s,n.child,null,S),s.child.memoizedState=du(S),s.memoizedState=cu,g);if(!(s.mode&1))return bo(n,s,S,null);if(f.data==="$!"){if(c=f.nextSibling&&f.nextSibling.dataset,c)var T=c.dgst;return c=T,g=Error(t(419)),c=ou(g,c,void 0),bo(n,s,S,c)}if(T=(S&n.childLanes)!==0,ht||T){if(c=Je,c!==null){switch(S&-S){case 4:f=2;break;case 16:f=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:f=32;break;case 536870912:f=268435456;break;default:f=0}f=f&(c.suspendedLanes|S)?0:f,f!==0&&f!==g.retryLane&&(g.retryLane=f,ur(n,f),Bt(c,n,f,-1))}return Cu(),c=ou(Error(t(421))),bo(n,s,S,c)}return f.data==="$?"?(s.flags|=128,s.child=n.child,s=uw.bind(null,n),f._reactRetry=s,null):(n=g.treeContext,wt=kr(f.nextSibling),vt=s,Ne=!0,Lt=null,n!==null&&(Tt[Ot++]=ar,Tt[Ot++]=lr,Tt[Ot++]=Xr,ar=n.id,lr=n.overflow,Xr=s),s=hu(s,c.children),s.flags|=4096,s)}function ip(n,s,a){n.lanes|=s;var c=n.alternate;c!==null&&(c.lanes|=s),Wl(n.return,s,a)}function fu(n,s,a,c,f){var g=n.memoizedState;g===null?n.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:c,tail:a,tailMode:f}:(g.isBackwards=s,g.rendering=null,g.renderingStartTime=0,g.last=c,g.tail=a,g.tailMode=f)}function sp(n,s,a){var c=s.pendingProps,f=c.revealOrder,g=c.tail;if(lt(n,s,c.children,a),c=je.current,c&2)c=c&1|2,s.flags|=128;else{if(n!==null&&n.flags&128)e:for(n=s.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&ip(n,a,s);else if(n.tag===19)ip(n,a,s);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===s)break e;for(;n.sibling===null;){if(n.return===null||n.return===s)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}c&=1}if(Re(je,c),!(s.mode&1))s.memoizedState=null;else switch(f){case"forwards":for(a=s.child,f=null;a!==null;)n=a.alternate,n!==null&&go(n)===null&&(f=a),a=a.sibling;a=f,a===null?(f=s.child,s.child=null):(f=a.sibling,a.sibling=null),fu(s,!1,f,a,g);break;case"backwards":for(a=null,f=s.child,s.child=null;f!==null;){if(n=f.alternate,n!==null&&go(n)===null){s.child=f;break}n=f.sibling,f.sibling=a,a=f,f=n}fu(s,!0,a,null,g);break;case"together":fu(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function Eo(n,s){!(s.mode&1)&&n!==null&&(n.alternate=null,s.alternate=null,s.flags|=2)}function dr(n,s,a){if(n!==null&&(s.dependencies=n.dependencies),nn|=s.lanes,!(a&s.childLanes))return null;if(n!==null&&s.child!==n.child)throw Error(t(153));if(s.child!==null){for(n=s.child,a=jr(n,n.pendingProps),s.child=a,a.return=s;n.sibling!==null;)n=n.sibling,a=a.sibling=jr(n,n.pendingProps),a.return=s;a.sibling=null}return s.child}function Q0(n,s,a){switch(s.tag){case 3:tp(s),zn();break;case 5:wf(s);break;case 1:dt(s.type)&&io(s);break;case 4:Vl(s,s.stateNode.containerInfo);break;case 10:var c=s.type._context,f=s.memoizedProps.value;Re(co,c._currentValue),c._currentValue=f;break;case 13:if(c=s.memoizedState,c!==null)return c.dehydrated!==null?(Re(je,je.current&1),s.flags|=128,null):a&s.child.childLanes?np(n,s,a):(Re(je,je.current&1),n=dr(n,s,a),n!==null?n.sibling:null);Re(je,je.current&1);break;case 19:if(c=(a&s.childLanes)!==0,n.flags&128){if(c)return sp(n,s,a);s.flags|=128}if(f=s.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),Re(je,je.current),c)break;return null;case 22:case 23:return s.lanes=0,Xf(n,s,a)}return dr(n,s,a)}var op,pu,ap,lp;op=function(n,s){for(var a=s.child;a!==null;){if(a.tag===5||a.tag===6)n.appendChild(a.stateNode);else if(a.tag!==4&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return;a=a.return}a.sibling.return=a.return,a=a.sibling}},pu=function(){},ap=function(n,s,a,c){var f=n.memoizedProps;if(f!==c){n=s.stateNode,tn(Jt.current);var g=null;switch(a){case"input":f=Wa(n,f),c=Wa(n,c),g=[];break;case"select":f=M({},f,{value:void 0}),c=M({},c,{value:void 0}),g=[];break;case"textarea":f=Va(n,f),c=Va(n,c),g=[];break;default:typeof f.onClick!="function"&&typeof c.onClick=="function"&&(n.onclick=to)}Ka(a,c);var S;a=null;for(W in f)if(!c.hasOwnProperty(W)&&f.hasOwnProperty(W)&&f[W]!=null)if(W==="style"){var T=f[W];for(S in T)T.hasOwnProperty(S)&&(a||(a={}),a[S]="")}else W!=="dangerouslySetInnerHTML"&&W!=="children"&&W!=="suppressContentEditableWarning"&&W!=="suppressHydrationWarning"&&W!=="autoFocus"&&(o.hasOwnProperty(W)?g||(g=[]):(g=g||[]).push(W,null));for(W in c){var P=c[W];if(T=f!=null?f[W]:void 0,c.hasOwnProperty(W)&&P!==T&&(P!=null||T!=null))if(W==="style")if(T){for(S in T)!T.hasOwnProperty(S)||P&&P.hasOwnProperty(S)||(a||(a={}),a[S]="");for(S in P)P.hasOwnProperty(S)&&T[S]!==P[S]&&(a||(a={}),a[S]=P[S])}else a||(g||(g=[]),g.push(W,a)),a=P;else W==="dangerouslySetInnerHTML"?(P=P?P.__html:void 0,T=T?T.__html:void 0,P!=null&&T!==P&&(g=g||[]).push(W,P)):W==="children"?typeof P!="string"&&typeof P!="number"||(g=g||[]).push(W,""+P):W!=="suppressContentEditableWarning"&&W!=="suppressHydrationWarning"&&(o.hasOwnProperty(W)?(P!=null&&W==="onScroll"&&Ie("scroll",n),g||T===P||(g=[])):(g=g||[]).push(W,P))}a&&(g=g||[]).push("style",a);var W=g;(s.updateQueue=W)&&(s.flags|=4)}},lp=function(n,s,a,c){a!==c&&(s.flags|=4)};function Zi(n,s){if(!Ne)switch(n.tailMode){case"hidden":s=n.tail;for(var a=null;s!==null;)s.alternate!==null&&(a=s),s=s.sibling;a===null?n.tail=null:a.sibling=null;break;case"collapsed":a=n.tail;for(var c=null;a!==null;)a.alternate!==null&&(c=a),a=a.sibling;c===null?s||n.tail===null?n.tail=null:n.tail.sibling=null:c.sibling=null}}function st(n){var s=n.alternate!==null&&n.alternate.child===n.child,a=0,c=0;if(s)for(var f=n.child;f!==null;)a|=f.lanes|f.childLanes,c|=f.subtreeFlags&14680064,c|=f.flags&14680064,f.return=n,f=f.sibling;else for(f=n.child;f!==null;)a|=f.lanes|f.childLanes,c|=f.subtreeFlags,c|=f.flags,f.return=n,f=f.sibling;return n.subtreeFlags|=c,n.childLanes=a,s}function X0(n,s,a){var c=s.pendingProps;switch(Ml(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return st(s),null;case 1:return dt(s.type)&&no(),st(s),null;case 3:return c=s.stateNode,qn(),Ae(ct),Ae(nt),Yl(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(n===null||n.child===null)&&(lo(s)?s.flags|=4:n===null||n.memoizedState.isDehydrated&&!(s.flags&256)||(s.flags|=1024,Lt!==null&&(xu(Lt),Lt=null))),pu(n,s),st(s),null;case 5:Gl(s);var f=tn(Ki.current);if(a=s.type,n!==null&&s.stateNode!=null)ap(n,s,a,c,f),n.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!c){if(s.stateNode===null)throw Error(t(166));return st(s),null}if(n=tn(Jt.current),lo(s)){c=s.stateNode,a=s.type;var g=s.memoizedProps;switch(c[Yt]=s,c[Wi]=g,n=(s.mode&1)!==0,a){case"dialog":Ie("cancel",c),Ie("close",c);break;case"iframe":case"object":case"embed":Ie("load",c);break;case"video":case"audio":for(f=0;f<Fi.length;f++)Ie(Fi[f],c);break;case"source":Ie("error",c);break;case"img":case"image":case"link":Ie("error",c),Ie("load",c);break;case"details":Ie("toggle",c);break;case"input":zd(c,g),Ie("invalid",c);break;case"select":c._wrapperState={wasMultiple:!!g.multiple},Ie("invalid",c);break;case"textarea":Hd(c,g),Ie("invalid",c)}Ka(a,g),f=null;for(var S in g)if(g.hasOwnProperty(S)){var T=g[S];S==="children"?typeof T=="string"?c.textContent!==T&&(g.suppressHydrationWarning!==!0&&eo(c.textContent,T,n),f=["children",T]):typeof T=="number"&&c.textContent!==""+T&&(g.suppressHydrationWarning!==!0&&eo(c.textContent,T,n),f=["children",""+T]):o.hasOwnProperty(S)&&T!=null&&S==="onScroll"&&Ie("scroll",c)}switch(a){case"input":xn(c),Wd(c,g,!0);break;case"textarea":xn(c),Vd(c);break;case"select":case"option":break;default:typeof g.onClick=="function"&&(c.onclick=to)}c=f,s.updateQueue=c,c!==null&&(s.flags|=4)}else{S=f.nodeType===9?f:f.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=Gd(a)),n==="http://www.w3.org/1999/xhtml"?a==="script"?(n=S.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof c.is=="string"?n=S.createElement(a,{is:c.is}):(n=S.createElement(a),a==="select"&&(S=n,c.multiple?S.multiple=!0:c.size&&(S.size=c.size))):n=S.createElementNS(n,a),n[Yt]=s,n[Wi]=c,op(n,s,!1,!1),s.stateNode=n;e:{switch(S=Ya(a,c),a){case"dialog":Ie("cancel",n),Ie("close",n),f=c;break;case"iframe":case"object":case"embed":Ie("load",n),f=c;break;case"video":case"audio":for(f=0;f<Fi.length;f++)Ie(Fi[f],n);f=c;break;case"source":Ie("error",n),f=c;break;case"img":case"image":case"link":Ie("error",n),Ie("load",n),f=c;break;case"details":Ie("toggle",n),f=c;break;case"input":zd(n,c),f=Wa(n,c),Ie("invalid",n);break;case"option":f=c;break;case"select":n._wrapperState={wasMultiple:!!c.multiple},f=M({},c,{value:void 0}),Ie("invalid",n);break;case"textarea":Hd(n,c),f=Va(n,c),Ie("invalid",n);break;default:f=c}Ka(a,f),T=f;for(g in T)if(T.hasOwnProperty(g)){var P=T[g];g==="style"?Jd(n,P):g==="dangerouslySetInnerHTML"?(P=P?P.__html:void 0,P!=null&&Kd(n,P)):g==="children"?typeof P=="string"?(a!=="textarea"||P!=="")&&Si(n,P):typeof P=="number"&&Si(n,""+P):g!=="suppressContentEditableWarning"&&g!=="suppressHydrationWarning"&&g!=="autoFocus"&&(o.hasOwnProperty(g)?P!=null&&g==="onScroll"&&Ie("scroll",n):P!=null&&j(n,g,P,S))}switch(a){case"input":xn(n),Wd(n,c,!1);break;case"textarea":xn(n),Vd(n);break;case"option":c.value!=null&&n.setAttribute("value",""+be(c.value));break;case"select":n.multiple=!!c.multiple,g=c.value,g!=null?Tn(n,!!c.multiple,g,!1):c.defaultValue!=null&&Tn(n,!!c.multiple,c.defaultValue,!0);break;default:typeof f.onClick=="function"&&(n.onclick=to)}switch(a){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}}c&&(s.flags|=4)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return st(s),null;case 6:if(n&&s.stateNode!=null)lp(n,s,n.memoizedProps,c);else{if(typeof c!="string"&&s.stateNode===null)throw Error(t(166));if(a=tn(Ki.current),tn(Jt.current),lo(s)){if(c=s.stateNode,a=s.memoizedProps,c[Yt]=s,(g=c.nodeValue!==a)&&(n=vt,n!==null))switch(n.tag){case 3:eo(c.nodeValue,a,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&eo(c.nodeValue,a,(n.mode&1)!==0)}g&&(s.flags|=4)}else c=(a.nodeType===9?a:a.ownerDocument).createTextNode(c),c[Yt]=s,s.stateNode=c}return st(s),null;case 13:if(Ae(je),c=s.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(Ne&&wt!==null&&s.mode&1&&!(s.flags&128))df(),zn(),s.flags|=98560,g=!1;else if(g=lo(s),c!==null&&c.dehydrated!==null){if(n===null){if(!g)throw Error(t(318));if(g=s.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(t(317));g[Yt]=s}else zn(),!(s.flags&128)&&(s.memoizedState=null),s.flags|=4;st(s),g=!1}else Lt!==null&&(xu(Lt),Lt=null),g=!0;if(!g)return s.flags&65536?s:null}return s.flags&128?(s.lanes=a,s):(c=c!==null,c!==(n!==null&&n.memoizedState!==null)&&c&&(s.child.flags|=8192,s.mode&1&&(n===null||je.current&1?Ve===0&&(Ve=3):Cu())),s.updateQueue!==null&&(s.flags|=4),st(s),null);case 4:return qn(),pu(n,s),n===null&&zi(s.stateNode.containerInfo),st(s),null;case 10:return Bl(s.type._context),st(s),null;case 17:return dt(s.type)&&no(),st(s),null;case 19:if(Ae(je),g=s.memoizedState,g===null)return st(s),null;if(c=(s.flags&128)!==0,S=g.rendering,S===null)if(c)Zi(g,!1);else{if(Ve!==0||n!==null&&n.flags&128)for(n=s.child;n!==null;){if(S=go(n),S!==null){for(s.flags|=128,Zi(g,!1),c=S.updateQueue,c!==null&&(s.updateQueue=c,s.flags|=4),s.subtreeFlags=0,c=a,a=s.child;a!==null;)g=a,n=c,g.flags&=14680066,S=g.alternate,S===null?(g.childLanes=0,g.lanes=n,g.child=null,g.subtreeFlags=0,g.memoizedProps=null,g.memoizedState=null,g.updateQueue=null,g.dependencies=null,g.stateNode=null):(g.childLanes=S.childLanes,g.lanes=S.lanes,g.child=S.child,g.subtreeFlags=0,g.deletions=null,g.memoizedProps=S.memoizedProps,g.memoizedState=S.memoizedState,g.updateQueue=S.updateQueue,g.type=S.type,n=S.dependencies,g.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),a=a.sibling;return Re(je,je.current&1|2),s.child}n=n.sibling}g.tail!==null&&ze()>Yn&&(s.flags|=128,c=!0,Zi(g,!1),s.lanes=4194304)}else{if(!c)if(n=go(S),n!==null){if(s.flags|=128,c=!0,a=n.updateQueue,a!==null&&(s.updateQueue=a,s.flags|=4),Zi(g,!0),g.tail===null&&g.tailMode==="hidden"&&!S.alternate&&!Ne)return st(s),null}else 2*ze()-g.renderingStartTime>Yn&&a!==1073741824&&(s.flags|=128,c=!0,Zi(g,!1),s.lanes=4194304);g.isBackwards?(S.sibling=s.child,s.child=S):(a=g.last,a!==null?a.sibling=S:s.child=S,g.last=S)}return g.tail!==null?(s=g.tail,g.rendering=s,g.tail=s.sibling,g.renderingStartTime=ze(),s.sibling=null,a=je.current,Re(je,c?a&1|2:a&1),s):(st(s),null);case 22:case 23:return Ou(),c=s.memoizedState!==null,n!==null&&n.memoizedState!==null!==c&&(s.flags|=8192),c&&s.mode&1?_t&1073741824&&(st(s),s.subtreeFlags&6&&(s.flags|=8192)):st(s),null;case 24:return null;case 25:return null}throw Error(t(156,s.tag))}function Z0(n,s){switch(Ml(s),s.tag){case 1:return dt(s.type)&&no(),n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 3:return qn(),Ae(ct),Ae(nt),Yl(),n=s.flags,n&65536&&!(n&128)?(s.flags=n&-65537|128,s):null;case 5:return Gl(s),null;case 13:if(Ae(je),n=s.memoizedState,n!==null&&n.dehydrated!==null){if(s.alternate===null)throw Error(t(340));zn()}return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 19:return Ae(je),null;case 4:return qn(),null;case 10:return Bl(s.type._context),null;case 22:case 23:return Ou(),null;case 24:return null;default:return null}}var ko=!1,ot=!1,ew=typeof WeakSet=="function"?WeakSet:Set,se=null;function Gn(n,s){var a=n.ref;if(a!==null)if(typeof a=="function")try{a(null)}catch(c){Ue(n,s,c)}else a.current=null}function gu(n,s,a){try{a()}catch(c){Ue(n,s,c)}}var up=!1;function tw(n,s){if(Ol=Ws,n=Fh(),wl(n)){if("selectionStart"in n)var a={start:n.selectionStart,end:n.selectionEnd};else e:{a=(a=n.ownerDocument)&&a.defaultView||window;var c=a.getSelection&&a.getSelection();if(c&&c.rangeCount!==0){a=c.anchorNode;var f=c.anchorOffset,g=c.focusNode;c=c.focusOffset;try{a.nodeType,g.nodeType}catch{a=null;break e}var S=0,T=-1,P=-1,W=0,X=0,Z=n,Q=null;t:for(;;){for(var ie;Z!==a||f!==0&&Z.nodeType!==3||(T=S+f),Z!==g||c!==0&&Z.nodeType!==3||(P=S+c),Z.nodeType===3&&(S+=Z.nodeValue.length),(ie=Z.firstChild)!==null;)Q=Z,Z=ie;for(;;){if(Z===n)break t;if(Q===a&&++W===f&&(T=S),Q===g&&++X===c&&(P=S),(ie=Z.nextSibling)!==null)break;Z=Q,Q=Z.parentNode}Z=ie}a=T===-1||P===-1?null:{start:T,end:P}}else a=null}a=a||{start:0,end:0}}else a=null;for(Cl={focusedElem:n,selectionRange:a},Ws=!1,se=s;se!==null;)if(s=se,n=s.child,(s.subtreeFlags&1028)!==0&&n!==null)n.return=s,se=n;else for(;se!==null;){s=se;try{var ae=s.alternate;if(s.flags&1024)switch(s.tag){case 0:case 11:case 15:break;case 1:if(ae!==null){var le=ae.memoizedProps,Be=ae.memoizedState,L=s.stateNode,A=L.getSnapshotBeforeUpdate(s.elementType===s.type?le:Ut(s.type,le),Be);L.__reactInternalSnapshotBeforeUpdate=A}break;case 3:var F=s.stateNode.containerInfo;F.nodeType===1?F.textContent="":F.nodeType===9&&F.documentElement&&F.removeChild(F.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(re){Ue(s,s.return,re)}if(n=s.sibling,n!==null){n.return=s.return,se=n;break}se=s.return}return ae=up,up=!1,ae}function es(n,s,a){var c=s.updateQueue;if(c=c!==null?c.lastEffect:null,c!==null){var f=c=c.next;do{if((f.tag&n)===n){var g=f.destroy;f.destroy=void 0,g!==void 0&&gu(s,a,g)}f=f.next}while(f!==c)}}function xo(n,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var a=s=s.next;do{if((a.tag&n)===n){var c=a.create;a.destroy=c()}a=a.next}while(a!==s)}}function mu(n){var s=n.ref;if(s!==null){var a=n.stateNode;switch(n.tag){case 5:n=a;break;default:n=a}typeof s=="function"?s(n):s.current=n}}function cp(n){var s=n.alternate;s!==null&&(n.alternate=null,cp(s)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(s=n.stateNode,s!==null&&(delete s[Yt],delete s[Wi],delete s[Il],delete s[$0],delete s[L0])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function dp(n){return n.tag===5||n.tag===3||n.tag===4}function hp(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||dp(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function yu(n,s,a){var c=n.tag;if(c===5||c===6)n=n.stateNode,s?a.nodeType===8?a.parentNode.insertBefore(n,s):a.insertBefore(n,s):(a.nodeType===8?(s=a.parentNode,s.insertBefore(n,a)):(s=a,s.appendChild(n)),a=a._reactRootContainer,a!=null||s.onclick!==null||(s.onclick=to));else if(c!==4&&(n=n.child,n!==null))for(yu(n,s,a),n=n.sibling;n!==null;)yu(n,s,a),n=n.sibling}function vu(n,s,a){var c=n.tag;if(c===5||c===6)n=n.stateNode,s?a.insertBefore(n,s):a.appendChild(n);else if(c!==4&&(n=n.child,n!==null))for(vu(n,s,a),n=n.sibling;n!==null;)vu(n,s,a),n=n.sibling}var Xe=null,Ft=!1;function Rr(n,s,a){for(a=a.child;a!==null;)fp(n,s,a),a=a.sibling}function fp(n,s,a){if(Kt&&typeof Kt.onCommitFiberUnmount=="function")try{Kt.onCommitFiberUnmount($s,a)}catch{}switch(a.tag){case 5:ot||Gn(a,s);case 6:var c=Xe,f=Ft;Xe=null,Rr(n,s,a),Xe=c,Ft=f,Xe!==null&&(Ft?(n=Xe,a=a.stateNode,n.nodeType===8?n.parentNode.removeChild(a):n.removeChild(a)):Xe.removeChild(a.stateNode));break;case 18:Xe!==null&&(Ft?(n=Xe,a=a.stateNode,n.nodeType===8?Dl(n.parentNode,a):n.nodeType===1&&Dl(n,a),Ii(n)):Dl(Xe,a.stateNode));break;case 4:c=Xe,f=Ft,Xe=a.stateNode.containerInfo,Ft=!0,Rr(n,s,a),Xe=c,Ft=f;break;case 0:case 11:case 14:case 15:if(!ot&&(c=a.updateQueue,c!==null&&(c=c.lastEffect,c!==null))){f=c=c.next;do{var g=f,S=g.destroy;g=g.tag,S!==void 0&&(g&2||g&4)&&gu(a,s,S),f=f.next}while(f!==c)}Rr(n,s,a);break;case 1:if(!ot&&(Gn(a,s),c=a.stateNode,typeof c.componentWillUnmount=="function"))try{c.props=a.memoizedProps,c.state=a.memoizedState,c.componentWillUnmount()}catch(T){Ue(a,s,T)}Rr(n,s,a);break;case 21:Rr(n,s,a);break;case 22:a.mode&1?(ot=(c=ot)||a.memoizedState!==null,Rr(n,s,a),ot=c):Rr(n,s,a);break;default:Rr(n,s,a)}}function pp(n){var s=n.updateQueue;if(s!==null){n.updateQueue=null;var a=n.stateNode;a===null&&(a=n.stateNode=new ew),s.forEach(function(c){var f=cw.bind(null,n,c);a.has(c)||(a.add(c),c.then(f,f))})}}function zt(n,s){var a=s.deletions;if(a!==null)for(var c=0;c<a.length;c++){var f=a[c];try{var g=n,S=s,T=S;e:for(;T!==null;){switch(T.tag){case 5:Xe=T.stateNode,Ft=!1;break e;case 3:Xe=T.stateNode.containerInfo,Ft=!0;break e;case 4:Xe=T.stateNode.containerInfo,Ft=!0;break e}T=T.return}if(Xe===null)throw Error(t(160));fp(g,S,f),Xe=null,Ft=!1;var P=f.alternate;P!==null&&(P.return=null),f.return=null}catch(W){Ue(f,s,W)}}if(s.subtreeFlags&12854)for(s=s.child;s!==null;)gp(s,n),s=s.sibling}function gp(n,s){var a=n.alternate,c=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(zt(s,n),Xt(n),c&4){try{es(3,n,n.return),xo(3,n)}catch(le){Ue(n,n.return,le)}try{es(5,n,n.return)}catch(le){Ue(n,n.return,le)}}break;case 1:zt(s,n),Xt(n),c&512&&a!==null&&Gn(a,a.return);break;case 5:if(zt(s,n),Xt(n),c&512&&a!==null&&Gn(a,a.return),n.flags&32){var f=n.stateNode;try{Si(f,"")}catch(le){Ue(n,n.return,le)}}if(c&4&&(f=n.stateNode,f!=null)){var g=n.memoizedProps,S=a!==null?a.memoizedProps:g,T=n.type,P=n.updateQueue;if(n.updateQueue=null,P!==null)try{T==="input"&&g.type==="radio"&&g.name!=null&&Bd(f,g),Ya(T,S);var W=Ya(T,g);for(S=0;S<P.length;S+=2){var X=P[S],Z=P[S+1];X==="style"?Jd(f,Z):X==="dangerouslySetInnerHTML"?Kd(f,Z):X==="children"?Si(f,Z):j(f,X,Z,W)}switch(T){case"input":Ha(f,g);break;case"textarea":qd(f,g);break;case"select":var Q=f._wrapperState.wasMultiple;f._wrapperState.wasMultiple=!!g.multiple;var ie=g.value;ie!=null?Tn(f,!!g.multiple,ie,!1):Q!==!!g.multiple&&(g.defaultValue!=null?Tn(f,!!g.multiple,g.defaultValue,!0):Tn(f,!!g.multiple,g.multiple?[]:"",!1))}f[Wi]=g}catch(le){Ue(n,n.return,le)}}break;case 6:if(zt(s,n),Xt(n),c&4){if(n.stateNode===null)throw Error(t(162));f=n.stateNode,g=n.memoizedProps;try{f.nodeValue=g}catch(le){Ue(n,n.return,le)}}break;case 3:if(zt(s,n),Xt(n),c&4&&a!==null&&a.memoizedState.isDehydrated)try{Ii(s.containerInfo)}catch(le){Ue(n,n.return,le)}break;case 4:zt(s,n),Xt(n);break;case 13:zt(s,n),Xt(n),f=n.child,f.flags&8192&&(g=f.memoizedState!==null,f.stateNode.isHidden=g,!g||f.alternate!==null&&f.alternate.memoizedState!==null||(Su=ze())),c&4&&pp(n);break;case 22:if(X=a!==null&&a.memoizedState!==null,n.mode&1?(ot=(W=ot)||X,zt(s,n),ot=W):zt(s,n),Xt(n),c&8192){if(W=n.memoizedState!==null,(n.stateNode.isHidden=W)&&!X&&n.mode&1)for(se=n,X=n.child;X!==null;){for(Z=se=X;se!==null;){switch(Q=se,ie=Q.child,Q.tag){case 0:case 11:case 14:case 15:es(4,Q,Q.return);break;case 1:Gn(Q,Q.return);var ae=Q.stateNode;if(typeof ae.componentWillUnmount=="function"){c=Q,a=Q.return;try{s=c,ae.props=s.memoizedProps,ae.state=s.memoizedState,ae.componentWillUnmount()}catch(le){Ue(c,a,le)}}break;case 5:Gn(Q,Q.return);break;case 22:if(Q.memoizedState!==null){vp(Z);continue}}ie!==null?(ie.return=Q,se=ie):vp(Z)}X=X.sibling}e:for(X=null,Z=n;;){if(Z.tag===5){if(X===null){X=Z;try{f=Z.stateNode,W?(g=f.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none"):(T=Z.stateNode,P=Z.memoizedProps.style,S=P!=null&&P.hasOwnProperty("display")?P.display:null,T.style.display=Yd("display",S))}catch(le){Ue(n,n.return,le)}}}else if(Z.tag===6){if(X===null)try{Z.stateNode.nodeValue=W?"":Z.memoizedProps}catch(le){Ue(n,n.return,le)}}else if((Z.tag!==22&&Z.tag!==23||Z.memoizedState===null||Z===n)&&Z.child!==null){Z.child.return=Z,Z=Z.child;continue}if(Z===n)break e;for(;Z.sibling===null;){if(Z.return===null||Z.return===n)break e;X===Z&&(X=null),Z=Z.return}X===Z&&(X=null),Z.sibling.return=Z.return,Z=Z.sibling}}break;case 19:zt(s,n),Xt(n),c&4&&pp(n);break;case 21:break;default:zt(s,n),Xt(n)}}function Xt(n){var s=n.flags;if(s&2){try{e:{for(var a=n.return;a!==null;){if(dp(a)){var c=a;break e}a=a.return}throw Error(t(160))}switch(c.tag){case 5:var f=c.stateNode;c.flags&32&&(Si(f,""),c.flags&=-33);var g=hp(n);vu(n,g,f);break;case 3:case 4:var S=c.stateNode.containerInfo,T=hp(n);yu(n,T,S);break;default:throw Error(t(161))}}catch(P){Ue(n,n.return,P)}n.flags&=-3}s&4096&&(n.flags&=-4097)}function rw(n,s,a){se=n,mp(n)}function mp(n,s,a){for(var c=(n.mode&1)!==0;se!==null;){var f=se,g=f.child;if(f.tag===22&&c){var S=f.memoizedState!==null||ko;if(!S){var T=f.alternate,P=T!==null&&T.memoizedState!==null||ot;T=ko;var W=ot;if(ko=S,(ot=P)&&!W)for(se=f;se!==null;)S=se,P=S.child,S.tag===22&&S.memoizedState!==null?wp(f):P!==null?(P.return=S,se=P):wp(f);for(;g!==null;)se=g,mp(g),g=g.sibling;se=f,ko=T,ot=W}yp(n)}else f.subtreeFlags&8772&&g!==null?(g.return=f,se=g):yp(n)}}function yp(n){for(;se!==null;){var s=se;if(s.flags&8772){var a=s.alternate;try{if(s.flags&8772)switch(s.tag){case 0:case 11:case 15:ot||xo(5,s);break;case 1:var c=s.stateNode;if(s.flags&4&&!ot)if(a===null)c.componentDidMount();else{var f=s.elementType===s.type?a.memoizedProps:Ut(s.type,a.memoizedProps);c.componentDidUpdate(f,a.memoizedState,c.__reactInternalSnapshotBeforeUpdate)}var g=s.updateQueue;g!==null&&vf(s,g,c);break;case 3:var S=s.updateQueue;if(S!==null){if(a=null,s.child!==null)switch(s.child.tag){case 5:a=s.child.stateNode;break;case 1:a=s.child.stateNode}vf(s,S,a)}break;case 5:var T=s.stateNode;if(a===null&&s.flags&4){a=T;var P=s.memoizedProps;switch(s.type){case"button":case"input":case"select":case"textarea":P.autoFocus&&a.focus();break;case"img":P.src&&(a.src=P.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(s.memoizedState===null){var W=s.alternate;if(W!==null){var X=W.memoizedState;if(X!==null){var Z=X.dehydrated;Z!==null&&Ii(Z)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}ot||s.flags&512&&mu(s)}catch(Q){Ue(s,s.return,Q)}}if(s===n){se=null;break}if(a=s.sibling,a!==null){a.return=s.return,se=a;break}se=s.return}}function vp(n){for(;se!==null;){var s=se;if(s===n){se=null;break}var a=s.sibling;if(a!==null){a.return=s.return,se=a;break}se=s.return}}function wp(n){for(;se!==null;){var s=se;try{switch(s.tag){case 0:case 11:case 15:var a=s.return;try{xo(4,s)}catch(P){Ue(s,a,P)}break;case 1:var c=s.stateNode;if(typeof c.componentDidMount=="function"){var f=s.return;try{c.componentDidMount()}catch(P){Ue(s,f,P)}}var g=s.return;try{mu(s)}catch(P){Ue(s,g,P)}break;case 5:var S=s.return;try{mu(s)}catch(P){Ue(s,S,P)}}}catch(P){Ue(s,s.return,P)}if(s===n){se=null;break}var T=s.sibling;if(T!==null){T.return=s.return,se=T;break}se=s.return}}var nw=Math.ceil,To=H.ReactCurrentDispatcher,wu=H.ReactCurrentOwner,Rt=H.ReactCurrentBatchConfig,Ee=0,Je=null,We=null,Ze=0,_t=0,Kn=xr(0),Ve=0,ts=null,nn=0,Oo=0,_u=0,rs=null,ft=null,Su=0,Yn=1/0,hr=null,Co=!1,bu=null,Dr=null,Po=!1,Ir=null,Ro=0,ns=0,Eu=null,Do=-1,Io=0;function ut(){return Ee&6?ze():Do!==-1?Do:Do=ze()}function Ar(n){return n.mode&1?Ee&2&&Ze!==0?Ze&-Ze:F0.transition!==null?(Io===0&&(Io=dh()),Io):(n=Oe,n!==0||(n=window.event,n=n===void 0?16:_h(n.type)),n):1}function Bt(n,s,a,c){if(50<ns)throw ns=0,Eu=null,Error(t(185));Oi(n,a,c),(!(Ee&2)||n!==Je)&&(n===Je&&(!(Ee&2)&&(Oo|=a),Ve===4&&Nr(n,Ze)),pt(n,c),a===1&&Ee===0&&!(s.mode&1)&&(Yn=ze()+500,so&&Or()))}function pt(n,s){var a=n.callbackNode;Fv(n,s);var c=Fs(n,n===Je?Ze:0);if(c===0)a!==null&&lh(a),n.callbackNode=null,n.callbackPriority=0;else if(s=c&-c,n.callbackPriority!==s){if(a!=null&&lh(a),s===1)n.tag===0?U0(Sp.bind(null,n)):of(Sp.bind(null,n)),j0(function(){!(Ee&6)&&Or()}),a=null;else{switch(hh(c)){case 1:a=rl;break;case 4:a=uh;break;case 16:a=Ms;break;case 536870912:a=ch;break;default:a=Ms}a=Pp(a,_p.bind(null,n))}n.callbackPriority=s,n.callbackNode=a}}function _p(n,s){if(Do=-1,Io=0,Ee&6)throw Error(t(327));var a=n.callbackNode;if(Jn()&&n.callbackNode!==a)return null;var c=Fs(n,n===Je?Ze:0);if(c===0)return null;if(c&30||c&n.expiredLanes||s)s=Ao(n,c);else{s=c;var f=Ee;Ee|=2;var g=Ep();(Je!==n||Ze!==s)&&(hr=null,Yn=ze()+500,on(n,s));do try{ow();break}catch(T){bp(n,T)}while(!0);zl(),To.current=g,Ee=f,We!==null?s=0:(Je=null,Ze=0,s=Ve)}if(s!==0){if(s===2&&(f=nl(n),f!==0&&(c=f,s=ku(n,f))),s===1)throw a=ts,on(n,0),Nr(n,c),pt(n,ze()),a;if(s===6)Nr(n,c);else{if(f=n.current.alternate,!(c&30)&&!iw(f)&&(s=Ao(n,c),s===2&&(g=nl(n),g!==0&&(c=g,s=ku(n,g))),s===1))throw a=ts,on(n,0),Nr(n,c),pt(n,ze()),a;switch(n.finishedWork=f,n.finishedLanes=c,s){case 0:case 1:throw Error(t(345));case 2:an(n,ft,hr);break;case 3:if(Nr(n,c),(c&130023424)===c&&(s=Su+500-ze(),10<s)){if(Fs(n,0)!==0)break;if(f=n.suspendedLanes,(f&c)!==c){ut(),n.pingedLanes|=n.suspendedLanes&f;break}n.timeoutHandle=Rl(an.bind(null,n,ft,hr),s);break}an(n,ft,hr);break;case 4:if(Nr(n,c),(c&4194240)===c)break;for(s=n.eventTimes,f=-1;0<c;){var S=31-Mt(c);g=1<<S,S=s[S],S>f&&(f=S),c&=~g}if(c=f,c=ze()-c,c=(120>c?120:480>c?480:1080>c?1080:1920>c?1920:3e3>c?3e3:4320>c?4320:1960*nw(c/1960))-c,10<c){n.timeoutHandle=Rl(an.bind(null,n,ft,hr),c);break}an(n,ft,hr);break;case 5:an(n,ft,hr);break;default:throw Error(t(329))}}}return pt(n,ze()),n.callbackNode===a?_p.bind(null,n):null}function ku(n,s){var a=rs;return n.current.memoizedState.isDehydrated&&(on(n,s).flags|=256),n=Ao(n,s),n!==2&&(s=ft,ft=a,s!==null&&xu(s)),n}function xu(n){ft===null?ft=n:ft.push.apply(ft,n)}function iw(n){for(var s=n;;){if(s.flags&16384){var a=s.updateQueue;if(a!==null&&(a=a.stores,a!==null))for(var c=0;c<a.length;c++){var f=a[c],g=f.getSnapshot;f=f.value;try{if(!$t(g(),f))return!1}catch{return!1}}}if(a=s.child,s.subtreeFlags&16384&&a!==null)a.return=s,s=a;else{if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Nr(n,s){for(s&=~_u,s&=~Oo,n.suspendedLanes|=s,n.pingedLanes&=~s,n=n.expirationTimes;0<s;){var a=31-Mt(s),c=1<<a;n[a]=-1,s&=~c}}function Sp(n){if(Ee&6)throw Error(t(327));Jn();var s=Fs(n,0);if(!(s&1))return pt(n,ze()),null;var a=Ao(n,s);if(n.tag!==0&&a===2){var c=nl(n);c!==0&&(s=c,a=ku(n,c))}if(a===1)throw a=ts,on(n,0),Nr(n,s),pt(n,ze()),a;if(a===6)throw Error(t(345));return n.finishedWork=n.current.alternate,n.finishedLanes=s,an(n,ft,hr),pt(n,ze()),null}function Tu(n,s){var a=Ee;Ee|=1;try{return n(s)}finally{Ee=a,Ee===0&&(Yn=ze()+500,so&&Or())}}function sn(n){Ir!==null&&Ir.tag===0&&!(Ee&6)&&Jn();var s=Ee;Ee|=1;var a=Rt.transition,c=Oe;try{if(Rt.transition=null,Oe=1,n)return n()}finally{Oe=c,Rt.transition=a,Ee=s,!(Ee&6)&&Or()}}function Ou(){_t=Kn.current,Ae(Kn)}function on(n,s){n.finishedWork=null,n.finishedLanes=0;var a=n.timeoutHandle;if(a!==-1&&(n.timeoutHandle=-1,N0(a)),We!==null)for(a=We.return;a!==null;){var c=a;switch(Ml(c),c.tag){case 1:c=c.type.childContextTypes,c!=null&&no();break;case 3:qn(),Ae(ct),Ae(nt),Yl();break;case 5:Gl(c);break;case 4:qn();break;case 13:Ae(je);break;case 19:Ae(je);break;case 10:Bl(c.type._context);break;case 22:case 23:Ou()}a=a.return}if(Je=n,We=n=jr(n.current,null),Ze=_t=s,Ve=0,ts=null,_u=Oo=nn=0,ft=rs=null,en!==null){for(s=0;s<en.length;s++)if(a=en[s],c=a.interleaved,c!==null){a.interleaved=null;var f=c.next,g=a.pending;if(g!==null){var S=g.next;g.next=f,c.next=S}a.pending=c}en=null}return n}function bp(n,s){do{var a=We;try{if(zl(),mo.current=_o,yo){for(var c=Me.memoizedState;c!==null;){var f=c.queue;f!==null&&(f.pending=null),c=c.next}yo=!1}if(rn=0,Ye=qe=Me=null,Yi=!1,Ji=0,wu.current=null,a===null||a.return===null){Ve=1,ts=s,We=null;break}e:{var g=n,S=a.return,T=a,P=s;if(s=Ze,T.flags|=32768,P!==null&&typeof P=="object"&&typeof P.then=="function"){var W=P,X=T,Z=X.tag;if(!(X.mode&1)&&(Z===0||Z===11||Z===15)){var Q=X.alternate;Q?(X.updateQueue=Q.updateQueue,X.memoizedState=Q.memoizedState,X.lanes=Q.lanes):(X.updateQueue=null,X.memoizedState=null)}var ie=Gf(S);if(ie!==null){ie.flags&=-257,Kf(ie,S,T,g,s),ie.mode&1&&Vf(g,W,s),s=ie,P=W;var ae=s.updateQueue;if(ae===null){var le=new Set;le.add(P),s.updateQueue=le}else ae.add(P);break e}else{if(!(s&1)){Vf(g,W,s),Cu();break e}P=Error(t(426))}}else if(Ne&&T.mode&1){var Be=Gf(S);if(Be!==null){!(Be.flags&65536)&&(Be.flags|=256),Kf(Be,S,T,g,s),Ul(Vn(P,T));break e}}g=P=Vn(P,T),Ve!==4&&(Ve=2),rs===null?rs=[g]:rs.push(g),g=S;do{switch(g.tag){case 3:g.flags|=65536,s&=-s,g.lanes|=s;var L=Hf(g,P,s);yf(g,L);break e;case 1:T=P;var A=g.type,F=g.stateNode;if(!(g.flags&128)&&(typeof A.getDerivedStateFromError=="function"||F!==null&&typeof F.componentDidCatch=="function"&&(Dr===null||!Dr.has(F)))){g.flags|=65536,s&=-s,g.lanes|=s;var re=qf(g,T,s);yf(g,re);break e}}g=g.return}while(g!==null)}xp(a)}catch(ue){s=ue,We===a&&a!==null&&(We=a=a.return);continue}break}while(!0)}function Ep(){var n=To.current;return To.current=_o,n===null?_o:n}function Cu(){(Ve===0||Ve===3||Ve===2)&&(Ve=4),Je===null||!(nn&268435455)&&!(Oo&268435455)||Nr(Je,Ze)}function Ao(n,s){var a=Ee;Ee|=2;var c=Ep();(Je!==n||Ze!==s)&&(hr=null,on(n,s));do try{sw();break}catch(f){bp(n,f)}while(!0);if(zl(),Ee=a,To.current=c,We!==null)throw Error(t(261));return Je=null,Ze=0,Ve}function sw(){for(;We!==null;)kp(We)}function ow(){for(;We!==null&&!Dv();)kp(We)}function kp(n){var s=Cp(n.alternate,n,_t);n.memoizedProps=n.pendingProps,s===null?xp(n):We=s,wu.current=null}function xp(n){var s=n;do{var a=s.alternate;if(n=s.return,s.flags&32768){if(a=Z0(a,s),a!==null){a.flags&=32767,We=a;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{Ve=6,We=null;return}}else if(a=X0(a,s,_t),a!==null){We=a;return}if(s=s.sibling,s!==null){We=s;return}We=s=n}while(s!==null);Ve===0&&(Ve=5)}function an(n,s,a){var c=Oe,f=Rt.transition;try{Rt.transition=null,Oe=1,aw(n,s,a,c)}finally{Rt.transition=f,Oe=c}return null}function aw(n,s,a,c){do Jn();while(Ir!==null);if(Ee&6)throw Error(t(327));a=n.finishedWork;var f=n.finishedLanes;if(a===null)return null;if(n.finishedWork=null,n.finishedLanes=0,a===n.current)throw Error(t(177));n.callbackNode=null,n.callbackPriority=0;var g=a.lanes|a.childLanes;if(zv(n,g),n===Je&&(We=Je=null,Ze=0),!(a.subtreeFlags&2064)&&!(a.flags&2064)||Po||(Po=!0,Pp(Ms,function(){return Jn(),null})),g=(a.flags&15990)!==0,a.subtreeFlags&15990||g){g=Rt.transition,Rt.transition=null;var S=Oe;Oe=1;var T=Ee;Ee|=4,wu.current=null,tw(n,a),gp(a,n),O0(Cl),Ws=!!Ol,Cl=Ol=null,n.current=a,rw(a),Iv(),Ee=T,Oe=S,Rt.transition=g}else n.current=a;if(Po&&(Po=!1,Ir=n,Ro=f),g=n.pendingLanes,g===0&&(Dr=null),jv(a.stateNode),pt(n,ze()),s!==null)for(c=n.onRecoverableError,a=0;a<s.length;a++)f=s[a],c(f.value,{componentStack:f.stack,digest:f.digest});if(Co)throw Co=!1,n=bu,bu=null,n;return Ro&1&&n.tag!==0&&Jn(),g=n.pendingLanes,g&1?n===Eu?ns++:(ns=0,Eu=n):ns=0,Or(),null}function Jn(){if(Ir!==null){var n=hh(Ro),s=Rt.transition,a=Oe;try{if(Rt.transition=null,Oe=16>n?16:n,Ir===null)var c=!1;else{if(n=Ir,Ir=null,Ro=0,Ee&6)throw Error(t(331));var f=Ee;for(Ee|=4,se=n.current;se!==null;){var g=se,S=g.child;if(se.flags&16){var T=g.deletions;if(T!==null){for(var P=0;P<T.length;P++){var W=T[P];for(se=W;se!==null;){var X=se;switch(X.tag){case 0:case 11:case 15:es(8,X,g)}var Z=X.child;if(Z!==null)Z.return=X,se=Z;else for(;se!==null;){X=se;var Q=X.sibling,ie=X.return;if(cp(X),X===W){se=null;break}if(Q!==null){Q.return=ie,se=Q;break}se=ie}}}var ae=g.alternate;if(ae!==null){var le=ae.child;if(le!==null){ae.child=null;do{var Be=le.sibling;le.sibling=null,le=Be}while(le!==null)}}se=g}}if(g.subtreeFlags&2064&&S!==null)S.return=g,se=S;else e:for(;se!==null;){if(g=se,g.flags&2048)switch(g.tag){case 0:case 11:case 15:es(9,g,g.return)}var L=g.sibling;if(L!==null){L.return=g.return,se=L;break e}se=g.return}}var A=n.current;for(se=A;se!==null;){S=se;var F=S.child;if(S.subtreeFlags&2064&&F!==null)F.return=S,se=F;else e:for(S=A;se!==null;){if(T=se,T.flags&2048)try{switch(T.tag){case 0:case 11:case 15:xo(9,T)}}catch(ue){Ue(T,T.return,ue)}if(T===S){se=null;break e}var re=T.sibling;if(re!==null){re.return=T.return,se=re;break e}se=T.return}}if(Ee=f,Or(),Kt&&typeof Kt.onPostCommitFiberRoot=="function")try{Kt.onPostCommitFiberRoot($s,n)}catch{}c=!0}return c}finally{Oe=a,Rt.transition=s}}return!1}function Tp(n,s,a){s=Vn(a,s),s=Hf(n,s,1),n=Pr(n,s,1),s=ut(),n!==null&&(Oi(n,1,s),pt(n,s))}function Ue(n,s,a){if(n.tag===3)Tp(n,n,a);else for(;s!==null;){if(s.tag===3){Tp(s,n,a);break}else if(s.tag===1){var c=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(Dr===null||!Dr.has(c))){n=Vn(a,n),n=qf(s,n,1),s=Pr(s,n,1),n=ut(),s!==null&&(Oi(s,1,n),pt(s,n));break}}s=s.return}}function lw(n,s,a){var c=n.pingCache;c!==null&&c.delete(s),s=ut(),n.pingedLanes|=n.suspendedLanes&a,Je===n&&(Ze&a)===a&&(Ve===4||Ve===3&&(Ze&130023424)===Ze&&500>ze()-Su?on(n,0):_u|=a),pt(n,s)}function Op(n,s){s===0&&(n.mode&1?(s=Us,Us<<=1,!(Us&130023424)&&(Us=4194304)):s=1);var a=ut();n=ur(n,s),n!==null&&(Oi(n,s,a),pt(n,a))}function uw(n){var s=n.memoizedState,a=0;s!==null&&(a=s.retryLane),Op(n,a)}function cw(n,s){var a=0;switch(n.tag){case 13:var c=n.stateNode,f=n.memoizedState;f!==null&&(a=f.retryLane);break;case 19:c=n.stateNode;break;default:throw Error(t(314))}c!==null&&c.delete(s),Op(n,a)}var Cp;Cp=function(n,s,a){if(n!==null)if(n.memoizedProps!==s.pendingProps||ct.current)ht=!0;else{if(!(n.lanes&a)&&!(s.flags&128))return ht=!1,Q0(n,s,a);ht=!!(n.flags&131072)}else ht=!1,Ne&&s.flags&1048576&&af(s,ao,s.index);switch(s.lanes=0,s.tag){case 2:var c=s.type;Eo(n,s),n=s.pendingProps;var f=Ln(s,nt.current);Hn(s,a),f=Xl(null,s,c,n,f,a);var g=Zl();return s.flags|=1,typeof f=="object"&&f!==null&&typeof f.render=="function"&&f.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,dt(c)?(g=!0,io(s)):g=!1,s.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,ql(s),f.updater=So,s.stateNode=f,f._reactInternals=s,su(s,c,n,a),s=uu(null,s,c,!0,g,a)):(s.tag=0,Ne&&g&&jl(s),lt(null,s,f,a),s=s.child),s;case 16:c=s.elementType;e:{switch(Eo(n,s),n=s.pendingProps,f=c._init,c=f(c._payload),s.type=c,f=s.tag=hw(c),n=Ut(c,n),f){case 0:s=lu(null,s,c,n,a);break e;case 1:s=ep(null,s,c,n,a);break e;case 11:s=Yf(null,s,c,n,a);break e;case 14:s=Jf(null,s,c,Ut(c.type,n),a);break e}throw Error(t(306,c,""))}return s;case 0:return c=s.type,f=s.pendingProps,f=s.elementType===c?f:Ut(c,f),lu(n,s,c,f,a);case 1:return c=s.type,f=s.pendingProps,f=s.elementType===c?f:Ut(c,f),ep(n,s,c,f,a);case 3:e:{if(tp(s),n===null)throw Error(t(387));c=s.pendingProps,g=s.memoizedState,f=g.element,mf(n,s),po(s,c,null,a);var S=s.memoizedState;if(c=S.element,g.isDehydrated)if(g={element:c,isDehydrated:!1,cache:S.cache,pendingSuspenseBoundaries:S.pendingSuspenseBoundaries,transitions:S.transitions},s.updateQueue.baseState=g,s.memoizedState=g,s.flags&256){f=Vn(Error(t(423)),s),s=rp(n,s,c,a,f);break e}else if(c!==f){f=Vn(Error(t(424)),s),s=rp(n,s,c,a,f);break e}else for(wt=kr(s.stateNode.containerInfo.firstChild),vt=s,Ne=!0,Lt=null,a=pf(s,null,c,a),s.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(zn(),c===f){s=dr(n,s,a);break e}lt(n,s,c,a)}s=s.child}return s;case 5:return wf(s),n===null&&Ll(s),c=s.type,f=s.pendingProps,g=n!==null?n.memoizedProps:null,S=f.children,Pl(c,f)?S=null:g!==null&&Pl(c,g)&&(s.flags|=32),Zf(n,s),lt(n,s,S,a),s.child;case 6:return n===null&&Ll(s),null;case 13:return np(n,s,a);case 4:return Vl(s,s.stateNode.containerInfo),c=s.pendingProps,n===null?s.child=Bn(s,null,c,a):lt(n,s,c,a),s.child;case 11:return c=s.type,f=s.pendingProps,f=s.elementType===c?f:Ut(c,f),Yf(n,s,c,f,a);case 7:return lt(n,s,s.pendingProps,a),s.child;case 8:return lt(n,s,s.pendingProps.children,a),s.child;case 12:return lt(n,s,s.pendingProps.children,a),s.child;case 10:e:{if(c=s.type._context,f=s.pendingProps,g=s.memoizedProps,S=f.value,Re(co,c._currentValue),c._currentValue=S,g!==null)if($t(g.value,S)){if(g.children===f.children&&!ct.current){s=dr(n,s,a);break e}}else for(g=s.child,g!==null&&(g.return=s);g!==null;){var T=g.dependencies;if(T!==null){S=g.child;for(var P=T.firstContext;P!==null;){if(P.context===c){if(g.tag===1){P=cr(-1,a&-a),P.tag=2;var W=g.updateQueue;if(W!==null){W=W.shared;var X=W.pending;X===null?P.next=P:(P.next=X.next,X.next=P),W.pending=P}}g.lanes|=a,P=g.alternate,P!==null&&(P.lanes|=a),Wl(g.return,a,s),T.lanes|=a;break}P=P.next}}else if(g.tag===10)S=g.type===s.type?null:g.child;else if(g.tag===18){if(S=g.return,S===null)throw Error(t(341));S.lanes|=a,T=S.alternate,T!==null&&(T.lanes|=a),Wl(S,a,s),S=g.sibling}else S=g.child;if(S!==null)S.return=g;else for(S=g;S!==null;){if(S===s){S=null;break}if(g=S.sibling,g!==null){g.return=S.return,S=g;break}S=S.return}g=S}lt(n,s,f.children,a),s=s.child}return s;case 9:return f=s.type,c=s.pendingProps.children,Hn(s,a),f=Ct(f),c=c(f),s.flags|=1,lt(n,s,c,a),s.child;case 14:return c=s.type,f=Ut(c,s.pendingProps),f=Ut(c.type,f),Jf(n,s,c,f,a);case 15:return Qf(n,s,s.type,s.pendingProps,a);case 17:return c=s.type,f=s.pendingProps,f=s.elementType===c?f:Ut(c,f),Eo(n,s),s.tag=1,dt(c)?(n=!0,io(s)):n=!1,Hn(s,a),Bf(s,c,f),su(s,c,f,a),uu(null,s,c,!0,n,a);case 19:return sp(n,s,a);case 22:return Xf(n,s,a)}throw Error(t(156,s.tag))};function Pp(n,s){return ah(n,s)}function dw(n,s,a,c){this.tag=n,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Dt(n,s,a,c){return new dw(n,s,a,c)}function Pu(n){return n=n.prototype,!(!n||!n.isReactComponent)}function hw(n){if(typeof n=="function")return Pu(n)?1:0;if(n!=null){if(n=n.$$typeof,n===q)return 11;if(n===D)return 14}return 2}function jr(n,s){var a=n.alternate;return a===null?(a=Dt(n.tag,s,n.key,n.mode),a.elementType=n.elementType,a.type=n.type,a.stateNode=n.stateNode,a.alternate=n,n.alternate=a):(a.pendingProps=s,a.type=n.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=n.flags&14680064,a.childLanes=n.childLanes,a.lanes=n.lanes,a.child=n.child,a.memoizedProps=n.memoizedProps,a.memoizedState=n.memoizedState,a.updateQueue=n.updateQueue,s=n.dependencies,a.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},a.sibling=n.sibling,a.index=n.index,a.ref=n.ref,a}function No(n,s,a,c,f,g){var S=2;if(c=n,typeof n=="function")Pu(n)&&(S=1);else if(typeof n=="string")S=5;else e:switch(n){case $:return ln(a.children,f,g,s);case Y:S=8,f|=8;break;case te:return n=Dt(12,a,s,f|2),n.elementType=te,n.lanes=g,n;case J:return n=Dt(13,a,s,f),n.elementType=J,n.lanes=g,n;case ee:return n=Dt(19,a,s,f),n.elementType=ee,n.lanes=g,n;case V:return jo(a,f,g,s);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case ne:S=10;break e;case I:S=9;break e;case q:S=11;break e;case D:S=14;break e;case C:S=16,c=null;break e}throw Error(t(130,n==null?n:typeof n,""))}return s=Dt(S,a,s,f),s.elementType=n,s.type=c,s.lanes=g,s}function ln(n,s,a,c){return n=Dt(7,n,c,s),n.lanes=a,n}function jo(n,s,a,c){return n=Dt(22,n,c,s),n.elementType=V,n.lanes=a,n.stateNode={isHidden:!1},n}function Ru(n,s,a){return n=Dt(6,n,null,s),n.lanes=a,n}function Du(n,s,a){return s=Dt(4,n.children!==null?n.children:[],n.key,s),s.lanes=a,s.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},s}function fw(n,s,a,c,f){this.tag=s,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=il(0),this.expirationTimes=il(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=il(0),this.identifierPrefix=c,this.onRecoverableError=f,this.mutableSourceEagerHydrationData=null}function Iu(n,s,a,c,f,g,S,T,P){return n=new fw(n,s,a,T,P),s===1?(s=1,g===!0&&(s|=8)):s=0,g=Dt(3,null,null,s),n.current=g,g.stateNode=n,g.memoizedState={element:c,isDehydrated:a,cache:null,transitions:null,pendingSuspenseBoundaries:null},ql(g),n}function pw(n,s,a){var c=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:U,key:c==null?null:""+c,children:n,containerInfo:s,implementation:a}}function Rp(n){if(!n)return Tr;n=n._reactInternals;e:{if(Yr(n)!==n||n.tag!==1)throw Error(t(170));var s=n;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(dt(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(t(171))}if(n.tag===1){var a=n.type;if(dt(a))return nf(n,a,s)}return s}function Dp(n,s,a,c,f,g,S,T,P){return n=Iu(a,c,!0,n,f,g,S,T,P),n.context=Rp(null),a=n.current,c=ut(),f=Ar(a),g=cr(c,f),g.callback=s??null,Pr(a,g,f),n.current.lanes=f,Oi(n,f,c),pt(n,c),n}function Mo(n,s,a,c){var f=s.current,g=ut(),S=Ar(f);return a=Rp(a),s.context===null?s.context=a:s.pendingContext=a,s=cr(g,S),s.payload={element:n},c=c===void 0?null:c,c!==null&&(s.callback=c),n=Pr(f,s,S),n!==null&&(Bt(n,f,S,g),fo(n,f,S)),S}function $o(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function Ip(n,s){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var a=n.retryLane;n.retryLane=a!==0&&a<s?a:s}}function Au(n,s){Ip(n,s),(n=n.alternate)&&Ip(n,s)}var Ap=typeof reportError=="function"?reportError:function(n){console.error(n)};function Nu(n){this._internalRoot=n}Lo.prototype.render=Nu.prototype.render=function(n){var s=this._internalRoot;if(s===null)throw Error(t(409));Mo(n,s,null,null)},Lo.prototype.unmount=Nu.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var s=n.containerInfo;sn(function(){Mo(null,n,null,null)}),s[sr]=null}};function Lo(n){this._internalRoot=n}Lo.prototype.unstable_scheduleHydration=function(n){if(n){var s=gh();n={blockedOn:null,target:n,priority:s};for(var a=0;a<Sr.length&&s!==0&&s<Sr[a].priority;a++);Sr.splice(a,0,n),a===0&&vh(n)}};function ju(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function Uo(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function Np(){}function gw(n,s,a,c,f){if(f){if(typeof c=="function"){var g=c;c=function(){var W=$o(S);g.call(W)}}var S=Dp(s,c,n,0,null,!1,!1,"",Np);return n._reactRootContainer=S,n[sr]=S.current,zi(n.nodeType===8?n.parentNode:n),sn(),S}for(;f=n.lastChild;)n.removeChild(f);if(typeof c=="function"){var T=c;c=function(){var W=$o(P);T.call(W)}}var P=Iu(n,0,!1,null,null,!1,!1,"",Np);return n._reactRootContainer=P,n[sr]=P.current,zi(n.nodeType===8?n.parentNode:n),sn(function(){Mo(s,P,a,c)}),P}function Fo(n,s,a,c,f){var g=a._reactRootContainer;if(g){var S=g;if(typeof f=="function"){var T=f;f=function(){var P=$o(S);T.call(P)}}Mo(s,S,n,f)}else S=gw(a,s,n,f,c);return $o(S)}fh=function(n){switch(n.tag){case 3:var s=n.stateNode;if(s.current.memoizedState.isDehydrated){var a=Ti(s.pendingLanes);a!==0&&(sl(s,a|1),pt(s,ze()),!(Ee&6)&&(Yn=ze()+500,Or()))}break;case 13:sn(function(){var c=ur(n,1);if(c!==null){var f=ut();Bt(c,n,1,f)}}),Au(n,1)}},ol=function(n){if(n.tag===13){var s=ur(n,134217728);if(s!==null){var a=ut();Bt(s,n,134217728,a)}Au(n,134217728)}},ph=function(n){if(n.tag===13){var s=Ar(n),a=ur(n,s);if(a!==null){var c=ut();Bt(a,n,s,c)}Au(n,s)}},gh=function(){return Oe},mh=function(n,s){var a=Oe;try{return Oe=n,s()}finally{Oe=a}},Xa=function(n,s,a){switch(s){case"input":if(Ha(n,a),s=a.name,a.type==="radio"&&s!=null){for(a=n;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll("input[name="+JSON.stringify(""+s)+'][type="radio"]'),s=0;s<a.length;s++){var c=a[s];if(c!==n&&c.form===n.form){var f=ro(c);if(!f)throw Error(t(90));Fd(c),Ha(c,f)}}}break;case"textarea":qd(n,a);break;case"select":s=a.value,s!=null&&Tn(n,!!a.multiple,s,!1)}},eh=Tu,th=sn;var mw={usingClientEntryPoint:!1,Events:[Hi,Mn,ro,Xd,Zd,Tu]},is={findFiberByHostInstance:Jr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},yw={bundleType:is.bundleType,version:is.version,rendererPackageName:is.rendererPackageName,rendererConfig:is.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:H.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=sh(n),n===null?null:n.stateNode},findFiberByHostInstance:is.findFiberByHostInstance,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var zo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!zo.isDisabled&&zo.supportsFiber)try{$s=zo.inject(yw),Kt=zo}catch{}}return gt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=mw,gt.createPortal=function(n,s){var a=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ju(s))throw Error(t(200));return pw(n,s,null,a)},gt.createRoot=function(n,s){if(!ju(n))throw Error(t(299));var a=!1,c="",f=Ap;return s!=null&&(s.unstable_strictMode===!0&&(a=!0),s.identifierPrefix!==void 0&&(c=s.identifierPrefix),s.onRecoverableError!==void 0&&(f=s.onRecoverableError)),s=Iu(n,1,!1,null,null,a,!1,c,f),n[sr]=s.current,zi(n.nodeType===8?n.parentNode:n),new Nu(s)},gt.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var s=n._reactInternals;if(s===void 0)throw typeof n.render=="function"?Error(t(188)):(n=Object.keys(n).join(","),Error(t(268,n)));return n=sh(s),n=n===null?null:n.stateNode,n},gt.flushSync=function(n){return sn(n)},gt.hydrate=function(n,s,a){if(!Uo(s))throw Error(t(200));return Fo(null,n,s,!0,a)},gt.hydrateRoot=function(n,s,a){if(!ju(n))throw Error(t(405));var c=a!=null&&a.hydratedSources||null,f=!1,g="",S=Ap;if(a!=null&&(a.unstable_strictMode===!0&&(f=!0),a.identifierPrefix!==void 0&&(g=a.identifierPrefix),a.onRecoverableError!==void 0&&(S=a.onRecoverableError)),s=Dp(s,null,n,1,a??null,f,!1,g,S),n[sr]=s.current,zi(n),c)for(n=0;n<c.length;n++)a=c[n],f=a._getVersion,f=f(a._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[a,f]:s.mutableSourceEagerHydrationData.push(a,f);return new Lo(s)},gt.render=function(n,s,a){if(!Uo(s))throw Error(t(200));return Fo(null,n,s,!1,a)},gt.unmountComponentAtNode=function(n){if(!Uo(n))throw Error(t(40));return n._reactRootContainer?(sn(function(){Fo(null,null,n,!1,function(){n._reactRootContainer=null,n[sr]=null})}),!0):!1},gt.unstable_batchedUpdates=Tu,gt.unstable_renderSubtreeIntoContainer=function(n,s,a,c){if(!Uo(a))throw Error(t(200));if(n==null||n._reactInternals===void 0)throw Error(t(38));return Fo(n,s,a,!1,c)},gt.version="18.3.1-next-f1338f8080-20240426",gt}var Wp;function Nm(){if(Wp)return Uu.exports;Wp=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Uu.exports=Tw(),Uu.exports}var Hp;function Ow(){if(Hp)return Bo;Hp=1;var r=Nm();return Bo.createRoot=r.createRoot,Bo.hydrateRoot=r.hydrateRoot,Bo}var Cw=Ow(),os={},qp;function Pw(){if(qp)return os;qp=1,Object.defineProperty(os,"__esModule",{value:!0}),os.parse=u,os.serialize=p;const r=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,i=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,l=(()=>{const _=function(){};return _.prototype=Object.create(null),_})();function u(_,y){const w=new l,b=_.length;if(b<2)return w;const E=(y==null?void 0:y.decode)||m;let k=0;do{const O=_.indexOf("=",k);if(O===-1)break;const j=_.indexOf(";",k),H=j===-1?b:j;if(O>H){k=_.lastIndexOf(";",O-1)+1;continue}const B=d(_,k,O),U=h(_,O,B),$=_.slice(B,U);if(w[$]===void 0){let Y=d(_,O+1,H),te=h(_,H,Y);const ne=E(_.slice(Y,te));w[$]=ne}k=H+1}while(k<b);return w}function d(_,y,w){do{const b=_.charCodeAt(y);if(b!==32&&b!==9)return y}while(++y<w);return w}function h(_,y,w){for(;y>w;){const b=_.charCodeAt(--y);if(b!==32&&b!==9)return y+1}return w}function p(_,y,w){const b=(w==null?void 0:w.encode)||encodeURIComponent;if(!r.test(_))throw new TypeError(`argument name is invalid: ${_}`);const E=b(y);if(!e.test(E))throw new TypeError(`argument val is invalid: ${y}`);let k=_+"="+E;if(!w)return k;if(w.maxAge!==void 0){if(!Number.isInteger(w.maxAge))throw new TypeError(`option maxAge is invalid: ${w.maxAge}`);k+="; Max-Age="+w.maxAge}if(w.domain){if(!t.test(w.domain))throw new TypeError(`option domain is invalid: ${w.domain}`);k+="; Domain="+w.domain}if(w.path){if(!i.test(w.path))throw new TypeError(`option path is invalid: ${w.path}`);k+="; Path="+w.path}if(w.expires){if(!v(w.expires)||!Number.isFinite(w.expires.valueOf()))throw new TypeError(`option expires is invalid: ${w.expires}`);k+="; Expires="+w.expires.toUTCString()}if(w.httpOnly&&(k+="; HttpOnly"),w.secure&&(k+="; Secure"),w.partitioned&&(k+="; Partitioned"),w.priority)switch(typeof w.priority=="string"?w.priority.toLowerCase():void 0){case"low":k+="; Priority=Low";break;case"medium":k+="; Priority=Medium";break;case"high":k+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${w.priority}`)}if(w.sameSite)switch(typeof w.sameSite=="string"?w.sameSite.toLowerCase():w.sameSite){case!0:case"strict":k+="; SameSite=Strict";break;case"lax":k+="; SameSite=Lax";break;case"none":k+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${w.sameSite}`)}return k}function m(_){if(_.indexOf("%")===-1)return _;try{return decodeURIComponent(_)}catch{return _}}function v(_){return o.call(_)==="[object Date]"}return os}Pw();/**
 * react-router v7.1.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Vp="popstate";function Rw(r={}){function e(i,o){let{pathname:l,search:u,hash:d}=i.location;return Ac("",{pathname:l,search:u,hash:d},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function t(i,o){return typeof o=="string"?o:_s(o)}return Iw(e,t,null,r)}function Le(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function tr(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Dw(){return Math.random().toString(36).substring(2,10)}function Gp(r,e){return{usr:r.state,key:r.key,idx:e}}function Ac(r,e,t=null,i){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?mi(e):e,state:t,key:e&&e.key||i||Dw()}}function _s({pathname:r="/",search:e="",hash:t=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(r+=t.charAt(0)==="#"?t:"#"+t),r}function mi(r){let e={};if(r){let t=r.indexOf("#");t>=0&&(e.hash=r.substring(t),r=r.substring(0,t));let i=r.indexOf("?");i>=0&&(e.search=r.substring(i),r=r.substring(0,i)),r&&(e.pathname=r)}return e}function Iw(r,e,t,i={}){let{window:o=document.defaultView,v5Compat:l=!1}=i,u=o.history,d="POP",h=null,p=m();p==null&&(p=0,u.replaceState({...u.state,idx:p},""));function m(){return(u.state||{idx:null}).idx}function v(){d="POP";let E=m(),k=E==null?null:E-p;p=E,h&&h({action:d,location:b.location,delta:k})}function _(E,k){d="PUSH";let O=Ac(b.location,E,k);p=m()+1;let j=Gp(O,p),H=b.createHref(O);try{u.pushState(j,"",H)}catch(B){if(B instanceof DOMException&&B.name==="DataCloneError")throw B;o.location.assign(H)}l&&h&&h({action:d,location:b.location,delta:1})}function y(E,k){d="REPLACE";let O=Ac(b.location,E,k);p=m();let j=Gp(O,p),H=b.createHref(O);u.replaceState(j,"",H),l&&h&&h({action:d,location:b.location,delta:0})}function w(E){let k=o.location.origin!=="null"?o.location.origin:o.location.href,O=typeof E=="string"?E:_s(E);return O=O.replace(/ $/,"%20"),Le(k,`No window.location.(origin|href) available to create URL for href: ${O}`),new URL(O,k)}let b={get action(){return d},get location(){return r(o,u)},listen(E){if(h)throw new Error("A history only accepts one active listener");return o.addEventListener(Vp,v),h=E,()=>{o.removeEventListener(Vp,v),h=null}},createHref(E){return e(o,E)},createURL:w,encodeLocation(E){let k=w(E);return{pathname:k.pathname,search:k.search,hash:k.hash}},push:_,replace:y,go(E){return u.go(E)}};return b}function jm(r,e,t="/"){return Aw(r,e,t,!1)}function Aw(r,e,t,i){let o=typeof e=="string"?mi(e):e,l=qr(o.pathname||"/",t);if(l==null)return null;let u=Mm(r);Nw(u);let d=null;for(let h=0;d==null&&h<u.length;++h){let p=qw(l);d=Ww(u[h],p,i)}return d}function Mm(r,e=[],t=[],i=""){let o=(l,u,d)=>{let h={relativePath:d===void 0?l.path||"":d,caseSensitive:l.caseSensitive===!0,childrenIndex:u,route:l};h.relativePath.startsWith("/")&&(Le(h.relativePath.startsWith(i),`Absolute route path "${h.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),h.relativePath=h.relativePath.slice(i.length));let p=mr([i,h.relativePath]),m=t.concat(h);l.children&&l.children.length>0&&(Le(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),Mm(l.children,e,m,p)),!(l.path==null&&!l.index)&&e.push({path:p,score:zw(p,l.index),routesMeta:m})};return r.forEach((l,u)=>{var d;if(l.path===""||!((d=l.path)!=null&&d.includes("?")))o(l,u);else for(let h of $m(l.path))o(l,u,h)}),e}function $m(r){let e=r.split("/");if(e.length===0)return[];let[t,...i]=e,o=t.endsWith("?"),l=t.replace(/\?$/,"");if(i.length===0)return o?[l,""]:[l];let u=$m(i.join("/")),d=[];return d.push(...u.map(h=>h===""?l:[l,h].join("/"))),o&&d.push(...u),d.map(h=>r.startsWith("/")&&h===""?"/":h)}function Nw(r){r.sort((e,t)=>e.score!==t.score?t.score-e.score:Bw(e.routesMeta.map(i=>i.childrenIndex),t.routesMeta.map(i=>i.childrenIndex)))}var jw=/^:[\w-]+$/,Mw=3,$w=2,Lw=1,Uw=10,Fw=-2,Kp=r=>r==="*";function zw(r,e){let t=r.split("/"),i=t.length;return t.some(Kp)&&(i+=Fw),e&&(i+=$w),t.filter(o=>!Kp(o)).reduce((o,l)=>o+(jw.test(l)?Mw:l===""?Lw:Uw),i)}function Bw(r,e){return r.length===e.length&&r.slice(0,-1).every((i,o)=>i===e[o])?r[r.length-1]-e[e.length-1]:0}function Ww(r,e,t=!1){let{routesMeta:i}=r,o={},l="/",u=[];for(let d=0;d<i.length;++d){let h=i[d],p=d===i.length-1,m=l==="/"?e:e.slice(l.length)||"/",v=ga({path:h.relativePath,caseSensitive:h.caseSensitive,end:p},m),_=h.route;if(!v&&p&&t&&!i[i.length-1].route.index&&(v=ga({path:h.relativePath,caseSensitive:h.caseSensitive,end:!1},m)),!v)return null;Object.assign(o,v.params),u.push({params:o,pathname:mr([l,v.pathname]),pathnameBase:Yw(mr([l,v.pathnameBase])),route:_}),v.pathnameBase!=="/"&&(l=mr([l,v.pathnameBase]))}return u}function ga(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[t,i]=Hw(r.path,r.caseSensitive,r.end),o=e.match(t);if(!o)return null;let l=o[0],u=l.replace(/(.)\/+$/,"$1"),d=o.slice(1);return{params:i.reduce((p,{paramName:m,isOptional:v},_)=>{if(m==="*"){let w=d[_]||"";u=l.slice(0,l.length-w.length).replace(/(.)\/+$/,"$1")}const y=d[_];return v&&!y?p[m]=void 0:p[m]=(y||"").replace(/%2F/g,"/"),p},{}),pathname:l,pathnameBase:u,pattern:r}}function Hw(r,e=!1,t=!0){tr(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let i=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,d,h)=>(i.push({paramName:d,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)"));return r.endsWith("*")?(i.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),i]}function qw(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return tr(!1,`The URL path "${r}" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function qr(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,i=r.charAt(t);return i&&i!=="/"?null:r.slice(t)||"/"}function Vw(r,e="/"){let{pathname:t,search:i="",hash:o=""}=typeof r=="string"?mi(r):r;return{pathname:t?t.startsWith("/")?t:Gw(t,e):e,search:Jw(i),hash:Qw(o)}}function Gw(r,e){let t=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?t.length>1&&t.pop():o!=="."&&t.push(o)}),t.length>1?t.join("/"):"/"}function Bu(r,e,t,i){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Kw(r){return r.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function Lm(r){let e=Kw(r);return e.map((t,i)=>i===e.length-1?t.pathname:t.pathnameBase)}function Um(r,e,t,i=!1){let o;typeof r=="string"?o=mi(r):(o={...r},Le(!o.pathname||!o.pathname.includes("?"),Bu("?","pathname","search",o)),Le(!o.pathname||!o.pathname.includes("#"),Bu("#","pathname","hash",o)),Le(!o.search||!o.search.includes("#"),Bu("#","search","hash",o)));let l=r===""||o.pathname==="",u=l?"/":o.pathname,d;if(u==null)d=t;else{let v=e.length-1;if(!i&&u.startsWith("..")){let _=u.split("/");for(;_[0]==="..";)_.shift(),v-=1;o.pathname=_.join("/")}d=v>=0?e[v]:"/"}let h=Vw(o,d),p=u&&u!=="/"&&u.endsWith("/"),m=(l||u===".")&&t.endsWith("/");return!h.pathname.endsWith("/")&&(p||m)&&(h.pathname+="/"),h}var mr=r=>r.join("/").replace(/\/\/+/g,"/"),Yw=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),Jw=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,Qw=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function Xw(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}var Fm=["POST","PUT","PATCH","DELETE"];new Set(Fm);var Zw=["GET",...Fm];new Set(Zw);var yi=N.createContext(null);yi.displayName="DataRouter";var Pa=N.createContext(null);Pa.displayName="DataRouterState";var zm=N.createContext({isTransitioning:!1});zm.displayName="ViewTransition";var e_=N.createContext(new Map);e_.displayName="Fetchers";var t_=N.createContext(null);t_.displayName="Await";var nr=N.createContext(null);nr.displayName="Navigation";var Os=N.createContext(null);Os.displayName="Location";var ir=N.createContext({outlet:null,matches:[],isDataRoute:!1});ir.displayName="Route";var ld=N.createContext(null);ld.displayName="RouteError";function r_(r,{relative:e}={}){Le(Cs(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:i}=N.useContext(nr),{hash:o,pathname:l,search:u}=Ps(r,{relative:e}),d=l;return t!=="/"&&(d=l==="/"?t:mr([t,l])),i.createHref({pathname:d,search:u,hash:o})}function Cs(){return N.useContext(Os)!=null}function En(){return Le(Cs(),"useLocation() may be used only in the context of a <Router> component."),N.useContext(Os).location}var Bm="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Wm(r){N.useContext(nr).static||N.useLayoutEffect(r)}function n_(){let{isDataRoute:r}=N.useContext(ir);return r?v_():i_()}function i_(){Le(Cs(),"useNavigate() may be used only in the context of a <Router> component.");let r=N.useContext(yi),{basename:e,navigator:t}=N.useContext(nr),{matches:i}=N.useContext(ir),{pathname:o}=En(),l=JSON.stringify(Lm(i)),u=N.useRef(!1);return Wm(()=>{u.current=!0}),N.useCallback((h,p={})=>{if(tr(u.current,Bm),!u.current)return;if(typeof h=="number"){t.go(h);return}let m=Um(h,JSON.parse(l),o,p.relative==="path");r==null&&e!=="/"&&(m.pathname=m.pathname==="/"?e:mr([e,m.pathname])),(p.replace?t.replace:t.push)(m,p.state,p)},[e,t,l,o,r])}var s_=N.createContext(null);function o_(r){let e=N.useContext(ir).outlet;return e&&N.createElement(s_.Provider,{value:r},e)}function Ps(r,{relative:e}={}){let{matches:t}=N.useContext(ir),{pathname:i}=En(),o=JSON.stringify(Lm(t));return N.useMemo(()=>Um(r,JSON.parse(o),i,e==="path"),[r,o,i,e])}function a_(r,e){return Hm(r,e)}function Hm(r,e,t,i){var k;Le(Cs(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=N.useContext(nr),{matches:l}=N.useContext(ir),u=l[l.length-1],d=u?u.params:{},h=u?u.pathname:"/",p=u?u.pathnameBase:"/",m=u&&u.route;{let O=m&&m.path||"";qm(h,!m||O.endsWith("*")||O.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${h}" (under <Route path="${O}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${O}"> to <Route path="${O==="/"?"*":`${O}/*`}">.`)}let v=En(),_;if(e){let O=typeof e=="string"?mi(e):e;Le(p==="/"||((k=O.pathname)==null?void 0:k.startsWith(p)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${p}" but pathname "${O.pathname}" was given in the \`location\` prop.`),_=O}else _=v;let y=_.pathname||"/",w=y;if(p!=="/"){let O=p.replace(/^\//,"").split("/");w="/"+y.replace(/^\//,"").split("/").slice(O.length).join("/")}let b=jm(r,{pathname:w});tr(m||b!=null,`No routes matched location "${_.pathname}${_.search}${_.hash}" `),tr(b==null||b[b.length-1].route.element!==void 0||b[b.length-1].route.Component!==void 0||b[b.length-1].route.lazy!==void 0,`Matched leaf route at location "${_.pathname}${_.search}${_.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let E=h_(b&&b.map(O=>Object.assign({},O,{params:Object.assign({},d,O.params),pathname:mr([p,o.encodeLocation?o.encodeLocation(O.pathname).pathname:O.pathname]),pathnameBase:O.pathnameBase==="/"?p:mr([p,o.encodeLocation?o.encodeLocation(O.pathnameBase).pathname:O.pathnameBase])})),l,t,i);return e&&E?N.createElement(Os.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",..._},navigationType:"POP"}},E):E}function l_(){let r=y_(),e=Xw(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),t=r instanceof Error?r.stack:null,i="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:i},l={padding:"2px 4px",backgroundColor:i},u=null;return console.error("Error handled by React Router default ErrorBoundary:",r),u=N.createElement(N.Fragment,null,N.createElement("p",null," Hey developer "),N.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",N.createElement("code",{style:l},"ErrorBoundary")," or"," ",N.createElement("code",{style:l},"errorElement")," prop on your route.")),N.createElement(N.Fragment,null,N.createElement("h2",null,"Unexpected Application Error!"),N.createElement("h3",{style:{fontStyle:"italic"}},e),t?N.createElement("pre",{style:o},t):null,u)}var u_=N.createElement(l_,null),c_=class extends N.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){console.error("React Router caught the following error during render",r,e)}render(){return this.state.error!==void 0?N.createElement(ir.Provider,{value:this.props.routeContext},N.createElement(ld.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function d_({routeContext:r,match:e,children:t}){let i=N.useContext(yi);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),N.createElement(ir.Provider,{value:r},t)}function h_(r,e=[],t=null,i=null){if(r==null){if(!t)return null;if(t.errors)r=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)r=t.matches;else return null}let o=r,l=t==null?void 0:t.errors;if(l!=null){let h=o.findIndex(p=>p.route.id&&(l==null?void 0:l[p.route.id])!==void 0);Le(h>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),o=o.slice(0,Math.min(o.length,h+1))}let u=!1,d=-1;if(t)for(let h=0;h<o.length;h++){let p=o[h];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(d=h),p.route.id){let{loaderData:m,errors:v}=t,_=p.route.loader&&!m.hasOwnProperty(p.route.id)&&(!v||v[p.route.id]===void 0);if(p.route.lazy||_){u=!0,d>=0?o=o.slice(0,d+1):o=[o[0]];break}}}return o.reduceRight((h,p,m)=>{let v,_=!1,y=null,w=null;t&&(v=l&&p.route.id?l[p.route.id]:void 0,y=p.route.errorElement||u_,u&&(d<0&&m===0?(qm("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),_=!0,w=null):d===m&&(_=!0,w=p.route.hydrateFallbackElement||null)));let b=e.concat(o.slice(0,m+1)),E=()=>{let k;return v?k=y:_?k=w:p.route.Component?k=N.createElement(p.route.Component,null):p.route.element?k=p.route.element:k=h,N.createElement(d_,{match:p,routeContext:{outlet:h,matches:b,isDataRoute:t!=null},children:k})};return t&&(p.route.ErrorBoundary||p.route.errorElement||m===0)?N.createElement(c_,{location:t.location,revalidation:t.revalidation,component:y,error:v,children:E(),routeContext:{outlet:null,matches:b,isDataRoute:!0}}):E()},null)}function ud(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function f_(r){let e=N.useContext(yi);return Le(e,ud(r)),e}function p_(r){let e=N.useContext(Pa);return Le(e,ud(r)),e}function g_(r){let e=N.useContext(ir);return Le(e,ud(r)),e}function cd(r){let e=g_(r),t=e.matches[e.matches.length-1];return Le(t.route.id,`${r} can only be used on routes that contain a unique "id"`),t.route.id}function m_(){return cd("useRouteId")}function y_(){var i;let r=N.useContext(ld),e=p_("useRouteError"),t=cd("useRouteError");return r!==void 0?r:(i=e.errors)==null?void 0:i[t]}function v_(){let{router:r}=f_("useNavigate"),e=cd("useNavigate"),t=N.useRef(!1);return Wm(()=>{t.current=!0}),N.useCallback(async(o,l={})=>{tr(t.current,Bm),t.current&&(typeof o=="number"?r.navigate(o):await r.navigate(o,{fromRouteId:e,...l}))},[r,e])}var Yp={};function qm(r,e,t){!e&&!Yp[r]&&(Yp[r]=!0,tr(!1,t))}N.memo(w_);function w_({routes:r,future:e,state:t}){return Hm(r,void 0,t,e)}function __(r){return o_(r.context)}function ra(r){Le(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function S_({basename:r="/",children:e=null,location:t,navigationType:i="POP",navigator:o,static:l=!1}){Le(!Cs(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=r.replace(/^\/*/,"/"),d=N.useMemo(()=>({basename:u,navigator:o,static:l,future:{}}),[u,o,l]);typeof t=="string"&&(t=mi(t));let{pathname:h="/",search:p="",hash:m="",state:v=null,key:_="default"}=t,y=N.useMemo(()=>{let w=qr(h,u);return w==null?null:{location:{pathname:w,search:p,hash:m,state:v,key:_},navigationType:i}},[u,h,p,m,v,_,i]);return tr(y!=null,`<Router basename="${u}"> is not able to match the URL "${h}${p}${m}" because it does not start with the basename, so the <Router> won't render anything.`),y==null?null:N.createElement(nr.Provider,{value:d},N.createElement(Os.Provider,{children:e,value:y}))}function b_({children:r,location:e}){return a_(Nc(r),e)}function Nc(r,e=[]){let t=[];return N.Children.forEach(r,(i,o)=>{if(!N.isValidElement(i))return;let l=[...e,o];if(i.type===N.Fragment){t.push.apply(t,Nc(i.props.children,l));return}Le(i.type===ra,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Le(!i.props.index||!i.props.children,"An index route cannot have child routes.");let u={id:i.props.id||l.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(u.children=Nc(i.props.children,l)),t.push(u)}),t}var na="get",ia="application/x-www-form-urlencoded";function Ra(r){return r!=null&&typeof r.tagName=="string"}function E_(r){return Ra(r)&&r.tagName.toLowerCase()==="button"}function k_(r){return Ra(r)&&r.tagName.toLowerCase()==="form"}function x_(r){return Ra(r)&&r.tagName.toLowerCase()==="input"}function T_(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function O_(r,e){return r.button===0&&(!e||e==="_self")&&!T_(r)}var Wo=null;function C_(){if(Wo===null)try{new FormData(document.createElement("form"),0),Wo=!1}catch{Wo=!0}return Wo}var P_=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Wu(r){return r!=null&&!P_.has(r)?(tr(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${ia}"`),null):r}function R_(r,e){let t,i,o,l,u;if(k_(r)){let d=r.getAttribute("action");i=d?qr(d,e):null,t=r.getAttribute("method")||na,o=Wu(r.getAttribute("enctype"))||ia,l=new FormData(r)}else if(E_(r)||x_(r)&&(r.type==="submit"||r.type==="image")){let d=r.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let h=r.getAttribute("formaction")||d.getAttribute("action");if(i=h?qr(h,e):null,t=r.getAttribute("formmethod")||d.getAttribute("method")||na,o=Wu(r.getAttribute("formenctype"))||Wu(d.getAttribute("enctype"))||ia,l=new FormData(d,r),!C_()){let{name:p,type:m,value:v}=r;if(m==="image"){let _=p?`${p}.`:"";l.append(`${_}x`,"0"),l.append(`${_}y`,"0")}else p&&l.append(p,v)}}else{if(Ra(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=na,i=null,o=ia,u=r}return l&&o==="text/plain"&&(u=l,l=void 0),{action:i,method:t.toLowerCase(),encType:o,formData:l,body:u}}function dd(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}async function D_(r,e){if(r.id in e)return e[r.id];try{let t=await import(r.module);return e[r.id]=t,t}catch(t){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function I_(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function A_(r,e,t){let i=await Promise.all(r.map(async o=>{let l=e.routes[o.route.id];if(l){let u=await D_(l,t);return u.links?u.links():[]}return[]}));return $_(i.flat(1).filter(I_).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function Jp(r,e,t,i,o,l){let u=(h,p)=>t[p]?h.route.id!==t[p].route.id:!0,d=(h,p)=>{var m;return t[p].pathname!==h.pathname||((m=t[p].route.path)==null?void 0:m.endsWith("*"))&&t[p].params["*"]!==h.params["*"]};return l==="assets"?e.filter((h,p)=>u(h,p)||d(h,p)):l==="data"?e.filter((h,p)=>{var v;let m=i.routes[h.route.id];if(!m||!m.hasLoader)return!1;if(u(h,p)||d(h,p))return!0;if(h.route.shouldRevalidate){let _=h.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((v=t[0])==null?void 0:v.params)||{},nextUrl:new URL(r,window.origin),nextParams:h.params,defaultShouldRevalidate:!0});if(typeof _=="boolean")return _}return!0}):[]}function N_(r,e){return j_(r.map(t=>{let i=e.routes[t.route.id];if(!i)return[];let o=[i.module];return i.imports&&(o=o.concat(i.imports)),o}).flat(1))}function j_(r){return[...new Set(r)]}function M_(r){let e={},t=Object.keys(r).sort();for(let i of t)e[i]=r[i];return e}function $_(r,e){let t=new Set;return new Set(e),r.reduce((i,o)=>{let l=JSON.stringify(M_(o));return t.has(l)||(t.add(l),i.push({key:l,link:o})),i},[])}function L_(r){let e=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return e.pathname==="/"?e.pathname="_root.data":e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function U_(){let r=N.useContext(yi);return dd(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function F_(){let r=N.useContext(Pa);return dd(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var hd=N.createContext(void 0);hd.displayName="FrameworkContext";function Vm(){let r=N.useContext(hd);return dd(r,"You must render this element inside a <HydratedRouter> element"),r}function z_(r,e){let t=N.useContext(hd),[i,o]=N.useState(!1),[l,u]=N.useState(!1),{onFocus:d,onBlur:h,onMouseEnter:p,onMouseLeave:m,onTouchStart:v}=e,_=N.useRef(null);N.useEffect(()=>{if(r==="render"&&u(!0),r==="viewport"){let b=k=>{k.forEach(O=>{u(O.isIntersecting)})},E=new IntersectionObserver(b,{threshold:.5});return _.current&&E.observe(_.current),()=>{E.disconnect()}}},[r]),N.useEffect(()=>{if(i){let b=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(b)}}},[i]);let y=()=>{o(!0)},w=()=>{o(!1),u(!1)};return t?r!=="intent"?[l,_,{}]:[l,_,{onFocus:as(d,y),onBlur:as(h,w),onMouseEnter:as(p,y),onMouseLeave:as(m,w),onTouchStart:as(v,y)}]:[!1,_,{}]}function as(r,e){return t=>{r&&r(t),t.defaultPrevented||e(t)}}function B_({page:r,...e}){let{router:t}=U_(),i=N.useMemo(()=>jm(t.routes,r,t.basename),[t.routes,r,t.basename]);return i?N.createElement(H_,{page:r,matches:i,...e}):null}function W_(r){let{manifest:e,routeModules:t}=Vm(),[i,o]=N.useState([]);return N.useEffect(()=>{let l=!1;return A_(r,e,t).then(u=>{l||o(u)}),()=>{l=!0}},[r,e,t]),i}function H_({page:r,matches:e,...t}){let i=En(),{manifest:o,routeModules:l}=Vm(),{loaderData:u,matches:d}=F_(),h=N.useMemo(()=>Jp(r,e,d,o,i,"data"),[r,e,d,o,i]),p=N.useMemo(()=>Jp(r,e,d,o,i,"assets"),[r,e,d,o,i]),m=N.useMemo(()=>{if(r===i.pathname+i.search+i.hash)return[];let y=new Set,w=!1;if(e.forEach(E=>{var O;let k=o.routes[E.route.id];!k||!k.hasLoader||(!h.some(j=>j.route.id===E.route.id)&&E.route.id in u&&((O=l[E.route.id])!=null&&O.shouldRevalidate)||k.hasClientLoader?w=!0:y.add(E.route.id))}),y.size===0)return[];let b=L_(r);return w&&y.size>0&&b.searchParams.set("_routes",e.filter(E=>y.has(E.route.id)).map(E=>E.route.id).join(",")),[b.pathname+b.search]},[u,i,o,h,e,r,l]),v=N.useMemo(()=>N_(p,o),[p,o]),_=W_(p);return N.createElement(N.Fragment,null,m.map(y=>N.createElement("link",{key:y,rel:"prefetch",as:"fetch",href:y,...t})),v.map(y=>N.createElement("link",{key:y,rel:"modulepreload",href:y,...t})),_.map(({key:y,link:w})=>N.createElement("link",{key:y,...w})))}function q_(...r){return e=>{r.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var Gm=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Gm&&(window.__reactRouterVersion="7.1.1")}catch{}function V_({basename:r,children:e,window:t}){let i=N.useRef();i.current==null&&(i.current=Rw({window:t,v5Compat:!0}));let o=i.current,[l,u]=N.useState({action:o.action,location:o.location}),d=N.useCallback(h=>{N.startTransition(()=>u(h))},[u]);return N.useLayoutEffect(()=>o.listen(d),[o,d]),N.createElement(S_,{basename:r,children:e,location:l.location,navigationType:l.action,navigator:o})}var Km=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ym=N.forwardRef(function({onClick:e,discover:t="render",prefetch:i="none",relative:o,reloadDocument:l,replace:u,state:d,target:h,to:p,preventScrollReset:m,viewTransition:v,..._},y){let{basename:w}=N.useContext(nr),b=typeof p=="string"&&Km.test(p),E,k=!1;if(typeof p=="string"&&b&&(E=p,Gm))try{let te=new URL(window.location.href),ne=p.startsWith("//")?new URL(te.protocol+p):new URL(p),I=qr(ne.pathname,w);ne.origin===te.origin&&I!=null?p=I+ne.search+ne.hash:k=!0}catch{tr(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let O=r_(p,{relative:o}),[j,H,B]=z_(i,_),U=J_(p,{replace:u,state:d,target:h,preventScrollReset:m,relative:o,viewTransition:v});function $(te){e&&e(te),te.defaultPrevented||U(te)}let Y=N.createElement("a",{..._,...B,href:E||O,onClick:k||l?e:$,ref:q_(y,H),target:h,"data-discover":!b&&t==="render"?"true":void 0});return j&&!b?N.createElement(N.Fragment,null,Y,N.createElement(B_,{page:O})):Y});Ym.displayName="Link";var G_=N.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:i="",end:o=!1,style:l,to:u,viewTransition:d,children:h,...p},m){let v=Ps(u,{relative:p.relative}),_=En(),y=N.useContext(Pa),{navigator:w,basename:b}=N.useContext(nr),E=y!=null&&tS(v)&&d===!0,k=w.encodeLocation?w.encodeLocation(v).pathname:v.pathname,O=_.pathname,j=y&&y.navigation&&y.navigation.location?y.navigation.location.pathname:null;t||(O=O.toLowerCase(),j=j?j.toLowerCase():null,k=k.toLowerCase()),j&&b&&(j=qr(j,b)||j);const H=k!=="/"&&k.endsWith("/")?k.length-1:k.length;let B=O===k||!o&&O.startsWith(k)&&O.charAt(H)==="/",U=j!=null&&(j===k||!o&&j.startsWith(k)&&j.charAt(k.length)==="/"),$={isActive:B,isPending:U,isTransitioning:E},Y=B?e:void 0,te;typeof i=="function"?te=i($):te=[i,B?"active":null,U?"pending":null,E?"transitioning":null].filter(Boolean).join(" ");let ne=typeof l=="function"?l($):l;return N.createElement(Ym,{...p,"aria-current":Y,className:te,ref:m,style:ne,to:u,viewTransition:d},typeof h=="function"?h($):h)});G_.displayName="NavLink";var K_=N.forwardRef(({discover:r="render",fetcherKey:e,navigate:t,reloadDocument:i,replace:o,state:l,method:u=na,action:d,onSubmit:h,relative:p,preventScrollReset:m,viewTransition:v,..._},y)=>{let w=Z_(),b=eS(d,{relative:p}),E=u.toLowerCase()==="get"?"get":"post",k=typeof d=="string"&&Km.test(d),O=j=>{if(h&&h(j),j.defaultPrevented)return;j.preventDefault();let H=j.nativeEvent.submitter,B=(H==null?void 0:H.getAttribute("formmethod"))||u;w(H||j.currentTarget,{fetcherKey:e,method:B,navigate:t,replace:o,state:l,relative:p,preventScrollReset:m,viewTransition:v})};return N.createElement("form",{ref:y,method:E,action:b,onSubmit:i?h:O,..._,"data-discover":!k&&r==="render"?"true":void 0})});K_.displayName="Form";function Y_(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Jm(r){let e=N.useContext(yi);return Le(e,Y_(r)),e}function J_(r,{target:e,replace:t,state:i,preventScrollReset:o,relative:l,viewTransition:u}={}){let d=n_(),h=En(),p=Ps(r,{relative:l});return N.useCallback(m=>{if(O_(m,e)){m.preventDefault();let v=t!==void 0?t:_s(h)===_s(p);d(r,{replace:v,state:i,preventScrollReset:o,relative:l,viewTransition:u})}},[h,d,p,t,i,e,r,o,l,u])}var Q_=0,X_=()=>`__${String(++Q_)}__`;function Z_(){let{router:r}=Jm("useSubmit"),{basename:e}=N.useContext(nr),t=m_();return N.useCallback(async(i,o={})=>{let{action:l,method:u,encType:d,formData:h,body:p}=R_(i,e);if(o.navigate===!1){let m=o.fetcherKey||X_();await r.fetch(m,t,o.action||l,{preventScrollReset:o.preventScrollReset,formData:h,body:p,formMethod:o.method||u,formEncType:o.encType||d,flushSync:o.flushSync})}else await r.navigate(o.action||l,{preventScrollReset:o.preventScrollReset,formData:h,body:p,formMethod:o.method||u,formEncType:o.encType||d,replace:o.replace,state:o.state,fromRouteId:t,flushSync:o.flushSync,viewTransition:o.viewTransition})},[r,e,t])}function eS(r,{relative:e}={}){let{basename:t}=N.useContext(nr),i=N.useContext(ir);Le(i,"useFormAction must be used inside a RouteContext");let[o]=i.matches.slice(-1),l={...Ps(r||".",{relative:e})},u=En();if(r==null){l.search=u.search;let d=new URLSearchParams(l.search),h=d.getAll("index");if(h.some(m=>m==="")){d.delete("index"),h.filter(v=>v).forEach(v=>d.append("index",v));let m=d.toString();l.search=m?`?${m}`:""}}return(!r||r===".")&&o.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(l.pathname=l.pathname==="/"?t:mr([t,l.pathname])),_s(l)}function tS(r,e={}){let t=N.useContext(zm);Le(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=Jm("useViewTransitionState"),o=Ps(r,{relative:e.relative});if(!t.isTransitioning)return!1;let l=qr(t.currentLocation.pathname,i)||t.currentLocation.pathname,u=qr(t.nextLocation.pathname,i)||t.nextLocation.pathname;return ga(o.pathname,u)!=null||ga(o.pathname,l)!=null}new TextEncoder;const rS=()=>x.jsx(x.Fragment,{children:x.jsx("div",{className:"toolbar",children:x.jsx("div",{className:"tools-middle",children:x.jsx("h1",{children:"Running Calendar"})})})}),nS=()=>x.jsxs("div",{className:"footer",children:["No Ads. No Tracking.",x.jsx("br",{}),"contact: ",x.jsx("a",{href:"mailto:run@defy.org",children:"email"})," / ",x.jsx("a",{rel:"me",href:"https://sfba.social/@nanreh",children:"mastodon"})]}),iS=()=>x.jsxs(x.Fragment,{children:[x.jsx(rS,{}),x.jsx(__,{}),x.jsx(nS,{})]});var Ho={exports:{}},Qp;function sS(){return Qp||(Qp=1,function(r,e){var t=typeof globalThis<"u"&&globalThis||typeof self<"u"&&self||typeof jp<"u"&&jp,i=function(){function l(){this.fetch=!1,this.DOMException=t.DOMException}return l.prototype=t,new l}();(function(l){(function(u){var d=typeof l<"u"&&l||typeof self<"u"&&self||typeof d<"u"&&d,h={searchParams:"URLSearchParams"in d,iterable:"Symbol"in d&&"iterator"in Symbol,blob:"FileReader"in d&&"Blob"in d&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in d,arrayBuffer:"ArrayBuffer"in d};function p(D){return D&&DataView.prototype.isPrototypeOf(D)}if(h.arrayBuffer)var m=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],v=ArrayBuffer.isView||function(D){return D&&m.indexOf(Object.prototype.toString.call(D))>-1};function _(D){if(typeof D!="string"&&(D=String(D)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(D)||D==="")throw new TypeError('Invalid character in header field name: "'+D+'"');return D.toLowerCase()}function y(D){return typeof D!="string"&&(D=String(D)),D}function w(D){var C={next:function(){var V=D.shift();return{done:V===void 0,value:V}}};return h.iterable&&(C[Symbol.iterator]=function(){return C}),C}function b(D){this.map={},D instanceof b?D.forEach(function(C,V){this.append(V,C)},this):Array.isArray(D)?D.forEach(function(C){this.append(C[0],C[1])},this):D&&Object.getOwnPropertyNames(D).forEach(function(C){this.append(C,D[C])},this)}b.prototype.append=function(D,C){D=_(D),C=y(C);var V=this.map[D];this.map[D]=V?V+", "+C:C},b.prototype.delete=function(D){delete this.map[_(D)]},b.prototype.get=function(D){return D=_(D),this.has(D)?this.map[D]:null},b.prototype.has=function(D){return this.map.hasOwnProperty(_(D))},b.prototype.set=function(D,C){this.map[_(D)]=y(C)},b.prototype.forEach=function(D,C){for(var V in this.map)this.map.hasOwnProperty(V)&&D.call(C,this.map[V],V,this)},b.prototype.keys=function(){var D=[];return this.forEach(function(C,V){D.push(V)}),w(D)},b.prototype.values=function(){var D=[];return this.forEach(function(C){D.push(C)}),w(D)},b.prototype.entries=function(){var D=[];return this.forEach(function(C,V){D.push([V,C])}),w(D)},h.iterable&&(b.prototype[Symbol.iterator]=b.prototype.entries);function E(D){if(D.bodyUsed)return Promise.reject(new TypeError("Already read"));D.bodyUsed=!0}function k(D){return new Promise(function(C,V){D.onload=function(){C(D.result)},D.onerror=function(){V(D.error)}})}function O(D){var C=new FileReader,V=k(C);return C.readAsArrayBuffer(D),V}function j(D){var C=new FileReader,V=k(C);return C.readAsText(D),V}function H(D){for(var C=new Uint8Array(D),V=new Array(C.length),z=0;z<C.length;z++)V[z]=String.fromCharCode(C[z]);return V.join("")}function B(D){if(D.slice)return D.slice(0);var C=new Uint8Array(D.byteLength);return C.set(new Uint8Array(D)),C.buffer}function U(){return this.bodyUsed=!1,this._initBody=function(D){this.bodyUsed=this.bodyUsed,this._bodyInit=D,D?typeof D=="string"?this._bodyText=D:h.blob&&Blob.prototype.isPrototypeOf(D)?this._bodyBlob=D:h.formData&&FormData.prototype.isPrototypeOf(D)?this._bodyFormData=D:h.searchParams&&URLSearchParams.prototype.isPrototypeOf(D)?this._bodyText=D.toString():h.arrayBuffer&&h.blob&&p(D)?(this._bodyArrayBuffer=B(D.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):h.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(D)||v(D))?this._bodyArrayBuffer=B(D):this._bodyText=D=Object.prototype.toString.call(D):this._bodyText="",this.headers.get("content-type")||(typeof D=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):h.searchParams&&URLSearchParams.prototype.isPrototypeOf(D)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},h.blob&&(this.blob=function(){var D=E(this);if(D)return D;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){if(this._bodyArrayBuffer){var D=E(this);return D||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}else return this.blob().then(O)}),this.text=function(){var D=E(this);if(D)return D;if(this._bodyBlob)return j(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(H(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},h.formData&&(this.formData=function(){return this.text().then(ne)}),this.json=function(){return this.text().then(JSON.parse)},this}var $=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function Y(D){var C=D.toUpperCase();return $.indexOf(C)>-1?C:D}function te(D,C){if(!(this instanceof te))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');C=C||{};var V=C.body;if(D instanceof te){if(D.bodyUsed)throw new TypeError("Already read");this.url=D.url,this.credentials=D.credentials,C.headers||(this.headers=new b(D.headers)),this.method=D.method,this.mode=D.mode,this.signal=D.signal,!V&&D._bodyInit!=null&&(V=D._bodyInit,D.bodyUsed=!0)}else this.url=String(D);if(this.credentials=C.credentials||this.credentials||"same-origin",(C.headers||!this.headers)&&(this.headers=new b(C.headers)),this.method=Y(C.method||this.method||"GET"),this.mode=C.mode||this.mode||null,this.signal=C.signal||this.signal,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&V)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(V),(this.method==="GET"||this.method==="HEAD")&&(C.cache==="no-store"||C.cache==="no-cache")){var z=/([?&])_=[^&]*/;if(z.test(this.url))this.url=this.url.replace(z,"$1_="+new Date().getTime());else{var K=/\?/;this.url+=(K.test(this.url)?"&":"?")+"_="+new Date().getTime()}}}te.prototype.clone=function(){return new te(this,{body:this._bodyInit})};function ne(D){var C=new FormData;return D.trim().split("&").forEach(function(V){if(V){var z=V.split("="),K=z.shift().replace(/\+/g," "),M=z.join("=").replace(/\+/g," ");C.append(decodeURIComponent(K),decodeURIComponent(M))}}),C}function I(D){var C=new b,V=D.replace(/\r?\n[\t ]+/g," ");return V.split("\r").map(function(z){return z.indexOf(`
`)===0?z.substr(1,z.length):z}).forEach(function(z){var K=z.split(":"),M=K.shift().trim();if(M){var R=K.join(":").trim();C.append(M,R)}}),C}U.call(te.prototype);function q(D,C){if(!(this instanceof q))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');C||(C={}),this.type="default",this.status=C.status===void 0?200:C.status,this.ok=this.status>=200&&this.status<300,this.statusText=C.statusText===void 0?"":""+C.statusText,this.headers=new b(C.headers),this.url=C.url||"",this._initBody(D)}U.call(q.prototype),q.prototype.clone=function(){return new q(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new b(this.headers),url:this.url})},q.error=function(){var D=new q(null,{status:0,statusText:""});return D.type="error",D};var J=[301,302,303,307,308];q.redirect=function(D,C){if(J.indexOf(C)===-1)throw new RangeError("Invalid status code");return new q(null,{status:C,headers:{location:D}})},u.DOMException=d.DOMException;try{new u.DOMException}catch{u.DOMException=function(C,V){this.message=C,this.name=V;var z=Error(C);this.stack=z.stack},u.DOMException.prototype=Object.create(Error.prototype),u.DOMException.prototype.constructor=u.DOMException}function ee(D,C){return new Promise(function(V,z){var K=new te(D,C);if(K.signal&&K.signal.aborted)return z(new u.DOMException("Aborted","AbortError"));var M=new XMLHttpRequest;function R(){M.abort()}M.onload=function(){var oe={status:M.status,statusText:M.statusText,headers:I(M.getAllResponseHeaders()||"")};oe.url="responseURL"in M?M.responseURL:oe.headers.get("X-Request-URL");var de="response"in M?M.response:M.responseText;setTimeout(function(){V(new q(de,oe))},0)},M.onerror=function(){setTimeout(function(){z(new TypeError("Network request failed"))},0)},M.ontimeout=function(){setTimeout(function(){z(new TypeError("Network request failed"))},0)},M.onabort=function(){setTimeout(function(){z(new u.DOMException("Aborted","AbortError"))},0)};function G(oe){try{return oe===""&&d.location.href?d.location.href:oe}catch{return oe}}M.open(K.method,G(K.url),!0),K.credentials==="include"?M.withCredentials=!0:K.credentials==="omit"&&(M.withCredentials=!1),"responseType"in M&&(h.blob?M.responseType="blob":h.arrayBuffer&&K.headers.get("Content-Type")&&K.headers.get("Content-Type").indexOf("application/octet-stream")!==-1&&(M.responseType="arraybuffer")),C&&typeof C.headers=="object"&&!(C.headers instanceof b)?Object.getOwnPropertyNames(C.headers).forEach(function(oe){M.setRequestHeader(oe,y(C.headers[oe]))}):K.headers.forEach(function(oe,de){M.setRequestHeader(de,oe)}),K.signal&&(K.signal.addEventListener("abort",R),M.onreadystatechange=function(){M.readyState===4&&K.signal.removeEventListener("abort",R)}),M.send(typeof K._bodyInit>"u"?null:K._bodyInit)})}return ee.polyfill=!0,d.fetch||(d.fetch=ee,d.Headers=b,d.Request=te,d.Response=q),u.Headers=b,u.Request=te,u.Response=q,u.fetch=ee,u})({})})(i),i.fetch.ponyfill=!0,delete i.fetch.polyfill;var o=t.fetch?t:i;e=o.fetch,e.default=o.fetch,e.fetch=o.fetch,e.Headers=o.Headers,e.Request=o.Request,e.Response=o.Response,r.exports=e}(Ho,Ho.exports)),Ho.exports}var oS=sS();const aS=Ca(oS),lS={plansPath:"/Running_Calendar-dev/plans/json/"},uS=lS,Qm=[{id:"none",name:"Select a plan",type:"Marathon",coach:"None"},{id:"c25k",name:"Couch to 5K",type:"5K",coach:"Couch to 5K"},{id:"c25k_rbp",name:"Couch to 5K -- Runner's Blueprint",type:"5K",coach:"Couch to 5K"},{id:"frr_5k_01",name:"5K Schedule 1",type:"5K",coach:"Faster Road Racing"},{id:"frr_5k_02",name:"5K Schedule 2",type:"5K",coach:"Faster Road Racing"},{id:"frr_5k_03",name:"5K Schedule 3",type:"5K",coach:"Faster Road Racing"},{id:"frr_8k10k_01",name:"8K-10K Schedule 1",type:"10K",coach:"Faster Road Racing"},{id:"frr_8k10k_02",name:"8K-10K Schedule 2",type:"10K",coach:"Faster Road Racing"},{id:"frr_8k10k_03",name:"8K-10K Schedule 3",type:"10K",coach:"Faster Road Racing"},{id:"frr_15k_10m_01",name:"15k and 10 Miles Schedule 1",type:"15K/10M",coach:"Faster Road Racing"},{id:"frr_15k_10m_02",name:"15k and 10 Miles Schedule 2",type:"15K/10M",coach:"Faster Road Racing"},{id:"frr_15k_10m_03",name:"15k and 10 Miles Schedule 3",type:"15K/10M",coach:"Faster Road Racing"},{id:"frr_bt_01",name:"Base Training 1",type:"Base",coach:"Faster Road Racing"},{id:"frr_bt_02",name:"Base Training 2",type:"Base",coach:"Faster Road Racing"},{id:"frr_bt_03",name:"Base Training 3",type:"Base",coach:"Faster Road Racing"},{id:"frr_multiple_distances_01",name:"Multiple Distances 1",type:"Multiple Distances",coach:"Faster Road Racing"},{id:"frr_multiple_distances_02",name:"Multiple Distances 2",type:"Multiple Distances",coach:"Faster Road Racing"},{id:"frr_multiple_distances_03",name:"Multiple Distances 3",type:"Multiple Distances",coach:"Faster Road Racing"},{id:"pfitz_half_12_47",name:"Schedule 1, 31 to 47 miles per Week",type:"Half Marathon",coach:"Pfitzinger/Douglas",subcategory:"Half Marathon"},{id:"pfitz_half_12_63",name:"Schedule 2, 46 to 63 miles per Week",type:"Half Marathon",coach:"Pfitzinger/Douglas",subcategory:"Half Marathon"},{id:"pfitz_half_12_84",name:"Schedule 3, 61 to 84 miles per Week",type:"Half Marathon",coach:"Pfitzinger/Douglas",subcategory:"Half Marathon"},{id:"pfitz_half_12_100",name:"Schedule 4, 81 to 100 miles per Week",type:"Half Marathon",coach:"Pfitzinger/Douglas",subcategory:"Half Marathon"},{id:"hansons_c210k",name:"Couch Potato to 10k",type:"10K",coach:"Hansons"},{id:"hansons_adv_half",name:"Advanced Half Marathon",type:"Half Marathon",coach:"Hansons"},{id:"hansons_beg_half",name:"Beginner Half Marathon",type:"Half Marathon",coach:"Hansons"},{id:"higdon_adv_mara1",name:"Advanced 1",type:"Marathon",coach:"Hal Higdon"},{id:"higdon_adv_mara2",name:"Advanced 2",type:"Marathon",coach:"Hal Higdon"},{id:"higdon_int_mara1",name:"Intermediate 1",type:"Marathon",coach:"Hal Higdon"},{id:"higdon_int_mara2",name:"Intermediate 2",type:"Marathon",coach:"Hal Higdon"},{id:"higdon_nov_mara1",name:"Novice 1",type:"Marathon",coach:"Hal Higdon"},{id:"higdon_nov_mara2",name:"Novice 2",type:"Marathon",coach:"Hal Higdon"},{id:"higdon_mara3",name:"Marathon 3",type:"Marathon",coach:"Hal Higdon"},{id:"higdon_senior_mara",name:"Senior Marathon",type:"Marathon",coach:"Hal Higdon"},{id:"higdon_half3",name:"Half Marathon 3",type:"Half Marathon",coach:"Hal Higdon"},{id:"higdon_int_half1",name:"Half Marathon Intermediate 1",type:"Half Marathon",coach:"Hal Higdon"},{id:"higdon_int_half2",name:"Half Marathon Intermediate 2",type:"Half Marathon",coach:"Hal Higdon"},{id:"higdon_nov_half1",name:"Half Marathon Novice 1",type:"Half Marathon",coach:"Hal Higdon"},{id:"higdon_nov_half2",name:"Half Marathon Novice 2",type:"Half Marathon",coach:"Hal Higdon"},{id:"hansons_adv_mara",name:"Advanced Marathon",type:"Marathon",coach:"Hansons"},{id:"hansons_beg_mara",name:"Beginner Marathon",type:"Marathon",coach:"Hansons"},{id:"coogan_pbr_mara_up_to_65",name:"16-Week Marathon - Up to 65 Miles per Week",type:"Marathon",coach:"Personal Best Running"},{id:"boston_level_one",name:"Level 1 Plan",type:"Marathon",coach:"Boston Marathon Training"},{id:"boston_level_two",name:"Level 2 Plan",type:"Marathon",coach:"Boston Marathon Training"},{id:"boston_level_three",name:"Level 3 Plan",type:"Marathon",coach:"Boston Marathon Training"},{id:"boston_level_four",name:"Level 4 Plan",type:"Marathon",coach:"Boston Marathon Training"},{id:"pfitz_04_multi_4th",name:"Multiple Marathoning, 4-week schedule",type:"Marathon",coach:"Pfitzinger/Douglas",subcategory:"Multiple Marathoning"},{id:"pfitz_06_multi_4th",name:"Multiple Marathoning, 6-week schedule",type:"Marathon",coach:"Pfitzinger/Douglas",subcategory:"Multiple Marathoning"},{id:"pfitz_08_multi_4th",name:"Multiple Marathoning, 8-week schedule",type:"Marathon",coach:"Pfitzinger/Douglas",subcategory:"Multiple Marathoning"},{id:"pfitz_10_multi_4th",name:"Multiple Marathoning, 10-week schedule",type:"Marathon",coach:"Pfitzinger/Douglas",subcategory:"Multiple Marathoning"},{id:"pfitz_12_multi_4th",name:"Multiple Marathoning, 12-week schedule",type:"Marathon",coach:"Pfitzinger/Douglas",subcategory:"Multiple Marathoning"},{id:"pfitz_12_55_4th",name:"Up to 55 miles per week",type:"Marathon",coach:"Pfitzinger/Douglas",subcategory:"12-Week"},{id:"pfitz_12_70_4th",name:"55 to 70 Miles per Week",type:"Marathon",coach:"Pfitzinger/Douglas",subcategory:"12-Week"},{id:"pfitz_12_85_4th",name:"70 to 85 Miles per Week",type:"Marathon",coach:"Pfitzinger/Douglas",subcategory:"12-Week"},{id:"pfitz_12_more_than_85_4th",name:"More Than 85 Miles per Week",type:"Marathon",coach:"Pfitzinger/Douglas",subcategory:"12-Week"},{id:"pfitz_18_55_4th",name:"Up to 55 miles per week",type:"Marathon",coach:"Pfitzinger/Douglas",subcategory:"18-Week"},{id:"pfitz_18_70_4th",name:"55 to 70 Miles per Week",type:"Marathon",coach:"Pfitzinger/Douglas",subcategory:"18-Week"},{id:"pfitz_18_85_4th",name:"70 to 85 Miles per Week",type:"Marathon",coach:"Pfitzinger/Douglas",subcategory:"18-Week"},{id:"pfitz_18_more_than_85_4th",name:"More Than 85 Miles per Week",type:"Marathon",coach:"Pfitzinger/Douglas",subcategory:"18-Week"},{id:"pfitz_55_recovery_4th",name:"Up to 55 Miles per Week",type:"Marathon",coach:"Pfitzinger/Douglas",subcategory:"Recovery"},{id:"pfitz_70_recovery_4th",name:"55 to 70 Miles per Week",type:"Marathon",coach:"Pfitzinger/Douglas",subcategory:"Recovery"},{id:"pfitz_85_recovery_4th",name:"70 to 85 Miles per Week",type:"Marathon",coach:"Pfitzinger/Douglas",subcategory:"Recovery"},{id:"pfitz_more_than_85_recovery_4th",name:"More Than 85 Miles per Week",type:"Marathon",coach:"Pfitzinger/Douglas",subcategory:"Recovery"}];function Xp(r){return uS.plansPath+r.id+".json"}class cS{constructor(e){Wt(this,"_cache",new Map);Wt(this,"_available");Wt(this,"_byId");this._available=e;var t={};this._byId=Qm.reduce(function(i,o){return i[o.id]=o,i},t)}get available(){return this._available}find(e){return this._byId[e]?this._byId[e]:this._byId.none}get first(){return this._available[0]}isCached(e){return this._cache.has(Xp(e))}async fetch(e){return e.id==="none"?{id:"none",name:"Select a plan",description:"Please select a training plan from the dropdown above.",units:"mi",type:"Marathon",schedule:[],source:""}:await hS(Xp(e),this._cache)}}async function dS(r){const e=await aS(r);if(!e.ok){const i=await e.json();return Promise.reject(i)}return await e.json()}async function hS(r,e){if(e.has(r)){let i=e.get(r);if(!i)throw Error("Assertion error: cached object not found");return i}const t=await dS(r);return e.set(r,t),t}const Lr=new cS(Qm),Xm=6048e5,fS=864e5,Zp=Symbol.for("constructDateFrom");function rr(r,e){return typeof r=="function"?r(e):r&&typeof r=="object"&&Zp in r?r[Zp](e):r instanceof Date?new r.constructor(e):new Date(e)}function Pe(r,e){return rr(e||r,r)}function gi(r,e,t){const i=Pe(r,t==null?void 0:t.in);return isNaN(e)?rr(r,NaN):(e&&i.setDate(i.getDate()+e),i)}function pS(r,e){return Pe(r,e==null?void 0:e.in).getDay()===6}function gS(r,e){return Pe(r,e==null?void 0:e.in).getDay()===0}let mS={};function Rs(){return mS}function Vr(r,e){var d,h,p,m;const t=Rs(),i=(e==null?void 0:e.weekStartsOn)??((h=(d=e==null?void 0:e.locale)==null?void 0:d.options)==null?void 0:h.weekStartsOn)??t.weekStartsOn??((m=(p=t.locale)==null?void 0:p.options)==null?void 0:m.weekStartsOn)??0,o=Pe(r,e==null?void 0:e.in),l=o.getDay(),u=(l<i?7:0)+l-i;return o.setDate(o.getDate()-u),o.setHours(0,0,0,0),o}function ma(r,e){return Vr(r,{...e,weekStartsOn:1})}function Zm(r,e){const t=Pe(r,e==null?void 0:e.in),i=t.getFullYear(),o=rr(t,0);o.setFullYear(i+1,0,4),o.setHours(0,0,0,0);const l=ma(o),u=rr(t,0);u.setFullYear(i,0,4),u.setHours(0,0,0,0);const d=ma(u);return t.getTime()>=l.getTime()?i+1:t.getTime()>=d.getTime()?i:i-1}function eg(r){const e=Pe(r),t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),+r-+t}function Da(r,...e){const t=rr.bind(null,e.find(i=>typeof i=="object"));return e.map(t)}function Gr(r,e){const t=Pe(r,e==null?void 0:e.in);return t.setHours(0,0,0,0),t}function fd(r,e,t){const[i,o]=Da(t==null?void 0:t.in,r,e),l=Gr(i),u=Gr(o),d=+l-eg(l),h=+u-eg(u);return Math.round((d-h)/fS)}function yS(r,e){const t=Zm(r,e),i=rr(r,0);return i.setFullYear(t,0,4),i.setHours(0,0,0,0),ma(i)}function ey(r,e,t){return gi(r,e*7,t)}function vS(r,e,t){const[i,o]=Da(t==null?void 0:t.in,r,e);return+Gr(i)==+Gr(o)}function wS(r){return r instanceof Date||typeof r=="object"&&Object.prototype.toString.call(r)==="[object Date]"}function _S(r){return!(!wS(r)&&typeof r!="number"||isNaN(+Pe(r)))}function SS(r,e,t){const[i,o]=Da(t==null?void 0:t.in,r,e),l=tg(i,o),u=Math.abs(fd(i,o));i.setDate(i.getDate()-l*u);const d=+(tg(i,o)===-l),h=l*(u-d);return h===0?0:h}function tg(r,e){const t=r.getFullYear()-e.getFullYear()||r.getMonth()-e.getMonth()||r.getDate()-e.getDate()||r.getHours()-e.getHours()||r.getMinutes()-e.getMinutes()||r.getSeconds()-e.getSeconds()||r.getMilliseconds()-e.getMilliseconds();return t<0?-1:t>0?1:t}function bS(r){return e=>{const i=(r?Math[r]:Math.trunc)(e);return i===0?0:i}}function ES(r,e,t){const i=SS(r,e,t)/7;return bS(t==null?void 0:t.roundingMethod)(i)}function kS(r,e){const[t,i]=Da(r,e.start,e.end);return{start:t,end:i}}function sa(r,e){const{start:t,end:i}=kS(e==null?void 0:e.in,r);let o=+t>+i;const l=o?+t:+i,u=o?i:t;u.setHours(0,0,0,0);let d=1;const h=[];for(;+u<=l;)h.push(rr(t,u)),u.setDate(u.getDate()+d),u.setHours(0,0,0,0);return o?h.reverse():h}function xS(r,e){const t=Pe(r,e==null?void 0:e.in);return t.setFullYear(t.getFullYear(),0,1),t.setHours(0,0,0,0),t}function Ia(r,e){var d,h,p,m;const t=Rs(),i=(e==null?void 0:e.weekStartsOn)??((h=(d=e==null?void 0:e.locale)==null?void 0:d.options)==null?void 0:h.weekStartsOn)??t.weekStartsOn??((m=(p=t.locale)==null?void 0:p.options)==null?void 0:m.weekStartsOn)??0,o=Pe(r,e==null?void 0:e.in),l=o.getDay(),u=(l<i?-7:0)+6-(l-i);return o.setDate(o.getDate()+u),o.setHours(23,59,59,999),o}const TS={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},OS=(r,e,t)=>{let i;const o=TS[r];return typeof o=="string"?i=o:e===1?i=o.one:i=o.other.replace("{{count}}",e.toString()),t!=null&&t.addSuffix?t.comparison&&t.comparison>0?"in "+i:i+" ago":i};function Hu(r){return(e={})=>{const t=e.width?String(e.width):r.defaultWidth;return r.formats[t]||r.formats[r.defaultWidth]}}const CS={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},PS={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},RS={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},DS={date:Hu({formats:CS,defaultWidth:"full"}),time:Hu({formats:PS,defaultWidth:"full"}),dateTime:Hu({formats:RS,defaultWidth:"full"})},IS={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},AS=(r,e,t,i)=>IS[r];function ls(r){return(e,t)=>{const i=t!=null&&t.context?String(t.context):"standalone";let o;if(i==="formatting"&&r.formattingValues){const u=r.defaultFormattingWidth||r.defaultWidth,d=t!=null&&t.width?String(t.width):u;o=r.formattingValues[d]||r.formattingValues[u]}else{const u=r.defaultWidth,d=t!=null&&t.width?String(t.width):r.defaultWidth;o=r.values[d]||r.values[u]}const l=r.argumentCallback?r.argumentCallback(e):e;return o[l]}}const NS={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},jS={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},MS={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},$S={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},LS={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},US={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},FS=(r,e)=>{const t=Number(r),i=t%100;if(i>20||i<10)switch(i%10){case 1:return t+"st";case 2:return t+"nd";case 3:return t+"rd"}return t+"th"},zS={ordinalNumber:FS,era:ls({values:NS,defaultWidth:"wide"}),quarter:ls({values:jS,defaultWidth:"wide",argumentCallback:r=>r-1}),month:ls({values:MS,defaultWidth:"wide"}),day:ls({values:$S,defaultWidth:"wide"}),dayPeriod:ls({values:LS,defaultWidth:"wide",formattingValues:US,defaultFormattingWidth:"wide"})};function us(r){return(e,t={})=>{const i=t.width,o=i&&r.matchPatterns[i]||r.matchPatterns[r.defaultMatchWidth],l=e.match(o);if(!l)return null;const u=l[0],d=i&&r.parsePatterns[i]||r.parsePatterns[r.defaultParseWidth],h=Array.isArray(d)?WS(d,v=>v.test(u)):BS(d,v=>v.test(u));let p;p=r.valueCallback?r.valueCallback(h):h,p=t.valueCallback?t.valueCallback(p):p;const m=e.slice(u.length);return{value:p,rest:m}}}function BS(r,e){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t)&&e(r[t]))return t}function WS(r,e){for(let t=0;t<r.length;t++)if(e(r[t]))return t}function HS(r){return(e,t={})=>{const i=e.match(r.matchPattern);if(!i)return null;const o=i[0],l=e.match(r.parsePattern);if(!l)return null;let u=r.valueCallback?r.valueCallback(l[0]):l[0];u=t.valueCallback?t.valueCallback(u):u;const d=e.slice(o.length);return{value:u,rest:d}}}const qS=/^(\d+)(th|st|nd|rd)?/i,VS=/\d+/i,GS={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},KS={any:[/^b/i,/^(a|c)/i]},YS={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},JS={any:[/1/i,/2/i,/3/i,/4/i]},QS={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},XS={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},ZS={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},eb={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},tb={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},rb={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},nb={ordinalNumber:HS({matchPattern:qS,parsePattern:VS,valueCallback:r=>parseInt(r,10)}),era:us({matchPatterns:GS,defaultMatchWidth:"wide",parsePatterns:KS,defaultParseWidth:"any"}),quarter:us({matchPatterns:YS,defaultMatchWidth:"wide",parsePatterns:JS,defaultParseWidth:"any",valueCallback:r=>r+1}),month:us({matchPatterns:QS,defaultMatchWidth:"wide",parsePatterns:XS,defaultParseWidth:"any"}),day:us({matchPatterns:ZS,defaultMatchWidth:"wide",parsePatterns:eb,defaultParseWidth:"any"}),dayPeriod:us({matchPatterns:tb,defaultMatchWidth:"any",parsePatterns:rb,defaultParseWidth:"any"})},ib={code:"en-US",formatDistance:OS,formatLong:DS,formatRelative:AS,localize:zS,match:nb,options:{weekStartsOn:0,firstWeekContainsDate:1}};function sb(r,e){const t=Pe(r,e==null?void 0:e.in);return fd(t,xS(t))+1}function ob(r,e){const t=Pe(r,e==null?void 0:e.in),i=+ma(t)-+yS(t);return Math.round(i/Xm)+1}function ty(r,e){var m,v,_,y;const t=Pe(r,e==null?void 0:e.in),i=t.getFullYear(),o=Rs(),l=(e==null?void 0:e.firstWeekContainsDate)??((v=(m=e==null?void 0:e.locale)==null?void 0:m.options)==null?void 0:v.firstWeekContainsDate)??o.firstWeekContainsDate??((y=(_=o.locale)==null?void 0:_.options)==null?void 0:y.firstWeekContainsDate)??1,u=rr((e==null?void 0:e.in)||r,0);u.setFullYear(i+1,0,l),u.setHours(0,0,0,0);const d=Vr(u,e),h=rr((e==null?void 0:e.in)||r,0);h.setFullYear(i,0,l),h.setHours(0,0,0,0);const p=Vr(h,e);return+t>=+d?i+1:+t>=+p?i:i-1}function ab(r,e){var d,h,p,m;const t=Rs(),i=(e==null?void 0:e.firstWeekContainsDate)??((h=(d=e==null?void 0:e.locale)==null?void 0:d.options)==null?void 0:h.firstWeekContainsDate)??t.firstWeekContainsDate??((m=(p=t.locale)==null?void 0:p.options)==null?void 0:m.firstWeekContainsDate)??1,o=ty(r,e),l=rr((e==null?void 0:e.in)||r,0);return l.setFullYear(o,0,i),l.setHours(0,0,0,0),Vr(l,e)}function lb(r,e){const t=Pe(r,e==null?void 0:e.in),i=+Vr(t,e)-+ab(t,e);return Math.round(i/Xm)+1}function Ce(r,e){const t=r<0?"-":"",i=Math.abs(r).toString().padStart(e,"0");return t+i}const $r={y(r,e){const t=r.getFullYear(),i=t>0?t:1-t;return Ce(e==="yy"?i%100:i,e.length)},M(r,e){const t=r.getMonth();return e==="M"?String(t+1):Ce(t+1,2)},d(r,e){return Ce(r.getDate(),e.length)},a(r,e){const t=r.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return t.toUpperCase();case"aaa":return t;case"aaaaa":return t[0];case"aaaa":default:return t==="am"?"a.m.":"p.m."}},h(r,e){return Ce(r.getHours()%12||12,e.length)},H(r,e){return Ce(r.getHours(),e.length)},m(r,e){return Ce(r.getMinutes(),e.length)},s(r,e){return Ce(r.getSeconds(),e.length)},S(r,e){const t=e.length,i=r.getMilliseconds(),o=Math.trunc(i*Math.pow(10,t-3));return Ce(o,e.length)}},Qn={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},rg={G:function(r,e,t){const i=r.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return t.era(i,{width:"abbreviated"});case"GGGGG":return t.era(i,{width:"narrow"});case"GGGG":default:return t.era(i,{width:"wide"})}},y:function(r,e,t){if(e==="yo"){const i=r.getFullYear(),o=i>0?i:1-i;return t.ordinalNumber(o,{unit:"year"})}return $r.y(r,e)},Y:function(r,e,t,i){const o=ty(r,i),l=o>0?o:1-o;if(e==="YY"){const u=l%100;return Ce(u,2)}return e==="Yo"?t.ordinalNumber(l,{unit:"year"}):Ce(l,e.length)},R:function(r,e){const t=Zm(r);return Ce(t,e.length)},u:function(r,e){const t=r.getFullYear();return Ce(t,e.length)},Q:function(r,e,t){const i=Math.ceil((r.getMonth()+1)/3);switch(e){case"Q":return String(i);case"QQ":return Ce(i,2);case"Qo":return t.ordinalNumber(i,{unit:"quarter"});case"QQQ":return t.quarter(i,{width:"abbreviated",context:"formatting"});case"QQQQQ":return t.quarter(i,{width:"narrow",context:"formatting"});case"QQQQ":default:return t.quarter(i,{width:"wide",context:"formatting"})}},q:function(r,e,t){const i=Math.ceil((r.getMonth()+1)/3);switch(e){case"q":return String(i);case"qq":return Ce(i,2);case"qo":return t.ordinalNumber(i,{unit:"quarter"});case"qqq":return t.quarter(i,{width:"abbreviated",context:"standalone"});case"qqqqq":return t.quarter(i,{width:"narrow",context:"standalone"});case"qqqq":default:return t.quarter(i,{width:"wide",context:"standalone"})}},M:function(r,e,t){const i=r.getMonth();switch(e){case"M":case"MM":return $r.M(r,e);case"Mo":return t.ordinalNumber(i+1,{unit:"month"});case"MMM":return t.month(i,{width:"abbreviated",context:"formatting"});case"MMMMM":return t.month(i,{width:"narrow",context:"formatting"});case"MMMM":default:return t.month(i,{width:"wide",context:"formatting"})}},L:function(r,e,t){const i=r.getMonth();switch(e){case"L":return String(i+1);case"LL":return Ce(i+1,2);case"Lo":return t.ordinalNumber(i+1,{unit:"month"});case"LLL":return t.month(i,{width:"abbreviated",context:"standalone"});case"LLLLL":return t.month(i,{width:"narrow",context:"standalone"});case"LLLL":default:return t.month(i,{width:"wide",context:"standalone"})}},w:function(r,e,t,i){const o=lb(r,i);return e==="wo"?t.ordinalNumber(o,{unit:"week"}):Ce(o,e.length)},I:function(r,e,t){const i=ob(r);return e==="Io"?t.ordinalNumber(i,{unit:"week"}):Ce(i,e.length)},d:function(r,e,t){return e==="do"?t.ordinalNumber(r.getDate(),{unit:"date"}):$r.d(r,e)},D:function(r,e,t){const i=sb(r);return e==="Do"?t.ordinalNumber(i,{unit:"dayOfYear"}):Ce(i,e.length)},E:function(r,e,t){const i=r.getDay();switch(e){case"E":case"EE":case"EEE":return t.day(i,{width:"abbreviated",context:"formatting"});case"EEEEE":return t.day(i,{width:"narrow",context:"formatting"});case"EEEEEE":return t.day(i,{width:"short",context:"formatting"});case"EEEE":default:return t.day(i,{width:"wide",context:"formatting"})}},e:function(r,e,t,i){const o=r.getDay(),l=(o-i.weekStartsOn+8)%7||7;switch(e){case"e":return String(l);case"ee":return Ce(l,2);case"eo":return t.ordinalNumber(l,{unit:"day"});case"eee":return t.day(o,{width:"abbreviated",context:"formatting"});case"eeeee":return t.day(o,{width:"narrow",context:"formatting"});case"eeeeee":return t.day(o,{width:"short",context:"formatting"});case"eeee":default:return t.day(o,{width:"wide",context:"formatting"})}},c:function(r,e,t,i){const o=r.getDay(),l=(o-i.weekStartsOn+8)%7||7;switch(e){case"c":return String(l);case"cc":return Ce(l,e.length);case"co":return t.ordinalNumber(l,{unit:"day"});case"ccc":return t.day(o,{width:"abbreviated",context:"standalone"});case"ccccc":return t.day(o,{width:"narrow",context:"standalone"});case"cccccc":return t.day(o,{width:"short",context:"standalone"});case"cccc":default:return t.day(o,{width:"wide",context:"standalone"})}},i:function(r,e,t){const i=r.getDay(),o=i===0?7:i;switch(e){case"i":return String(o);case"ii":return Ce(o,e.length);case"io":return t.ordinalNumber(o,{unit:"day"});case"iii":return t.day(i,{width:"abbreviated",context:"formatting"});case"iiiii":return t.day(i,{width:"narrow",context:"formatting"});case"iiiiii":return t.day(i,{width:"short",context:"formatting"});case"iiii":default:return t.day(i,{width:"wide",context:"formatting"})}},a:function(r,e,t){const o=r.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return t.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"aaa":return t.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return t.dayPeriod(o,{width:"narrow",context:"formatting"});case"aaaa":default:return t.dayPeriod(o,{width:"wide",context:"formatting"})}},b:function(r,e,t){const i=r.getHours();let o;switch(i===12?o=Qn.noon:i===0?o=Qn.midnight:o=i/12>=1?"pm":"am",e){case"b":case"bb":return t.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"bbb":return t.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return t.dayPeriod(o,{width:"narrow",context:"formatting"});case"bbbb":default:return t.dayPeriod(o,{width:"wide",context:"formatting"})}},B:function(r,e,t){const i=r.getHours();let o;switch(i>=17?o=Qn.evening:i>=12?o=Qn.afternoon:i>=4?o=Qn.morning:o=Qn.night,e){case"B":case"BB":case"BBB":return t.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"BBBBB":return t.dayPeriod(o,{width:"narrow",context:"formatting"});case"BBBB":default:return t.dayPeriod(o,{width:"wide",context:"formatting"})}},h:function(r,e,t){if(e==="ho"){let i=r.getHours()%12;return i===0&&(i=12),t.ordinalNumber(i,{unit:"hour"})}return $r.h(r,e)},H:function(r,e,t){return e==="Ho"?t.ordinalNumber(r.getHours(),{unit:"hour"}):$r.H(r,e)},K:function(r,e,t){const i=r.getHours()%12;return e==="Ko"?t.ordinalNumber(i,{unit:"hour"}):Ce(i,e.length)},k:function(r,e,t){let i=r.getHours();return i===0&&(i=24),e==="ko"?t.ordinalNumber(i,{unit:"hour"}):Ce(i,e.length)},m:function(r,e,t){return e==="mo"?t.ordinalNumber(r.getMinutes(),{unit:"minute"}):$r.m(r,e)},s:function(r,e,t){return e==="so"?t.ordinalNumber(r.getSeconds(),{unit:"second"}):$r.s(r,e)},S:function(r,e){return $r.S(r,e)},X:function(r,e,t){const i=r.getTimezoneOffset();if(i===0)return"Z";switch(e){case"X":return ig(i);case"XXXX":case"XX":return pn(i);case"XXXXX":case"XXX":default:return pn(i,":")}},x:function(r,e,t){const i=r.getTimezoneOffset();switch(e){case"x":return ig(i);case"xxxx":case"xx":return pn(i);case"xxxxx":case"xxx":default:return pn(i,":")}},O:function(r,e,t){const i=r.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+ng(i,":");case"OOOO":default:return"GMT"+pn(i,":")}},z:function(r,e,t){const i=r.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+ng(i,":");case"zzzz":default:return"GMT"+pn(i,":")}},t:function(r,e,t){const i=Math.trunc(+r/1e3);return Ce(i,e.length)},T:function(r,e,t){return Ce(+r,e.length)}};function ng(r,e=""){const t=r>0?"-":"+",i=Math.abs(r),o=Math.trunc(i/60),l=i%60;return l===0?t+String(o):t+String(o)+e+Ce(l,2)}function ig(r,e){return r%60===0?(r>0?"-":"+")+Ce(Math.abs(r)/60,2):pn(r,e)}function pn(r,e=""){const t=r>0?"-":"+",i=Math.abs(r),o=Ce(Math.trunc(i/60),2),l=Ce(i%60,2);return t+o+e+l}const sg=(r,e)=>{switch(r){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},ry=(r,e)=>{switch(r){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},ub=(r,e)=>{const t=r.match(/(P+)(p+)?/)||[],i=t[1],o=t[2];if(!o)return sg(r,e);let l;switch(i){case"P":l=e.dateTime({width:"short"});break;case"PP":l=e.dateTime({width:"medium"});break;case"PPP":l=e.dateTime({width:"long"});break;case"PPPP":default:l=e.dateTime({width:"full"});break}return l.replace("{{date}}",sg(i,e)).replace("{{time}}",ry(o,e))},cb={p:ry,P:ub},db=/^D+$/,hb=/^Y+$/,fb=["D","DD","YY","YYYY"];function pb(r){return db.test(r)}function gb(r){return hb.test(r)}function mb(r,e,t){const i=yb(r,e,t);if(console.warn(i),fb.includes(r))throw new RangeError(i)}function yb(r,e,t){const i=r[0]==="Y"?"years":"days of the month";return`Use \`${r.toLowerCase()}\` instead of \`${r}\` (in \`${e}\`) for formatting ${i} to the input \`${t}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const vb=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,wb=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,_b=/^'([^]*?)'?$/,Sb=/''/g,bb=/[a-zA-Z]/;function ya(r,e,t){var m,v,_,y;const i=Rs(),o=i.locale??ib,l=i.firstWeekContainsDate??((v=(m=i.locale)==null?void 0:m.options)==null?void 0:v.firstWeekContainsDate)??1,u=i.weekStartsOn??((y=(_=i.locale)==null?void 0:_.options)==null?void 0:y.weekStartsOn)??0,d=Pe(r,t==null?void 0:t.in);if(!_S(d))throw new RangeError("Invalid time value");let h=e.match(wb).map(w=>{const b=w[0];if(b==="p"||b==="P"){const E=cb[b];return E(w,o.formatLong)}return w}).join("").match(vb).map(w=>{if(w==="''")return{isToken:!1,value:"'"};const b=w[0];if(b==="'")return{isToken:!1,value:Eb(w)};if(rg[b])return{isToken:!0,value:w};if(b.match(bb))throw new RangeError("Format string contains an unescaped latin alphabet character `"+b+"`");return{isToken:!1,value:w}});o.localize.preprocessor&&(h=o.localize.preprocessor(d,h));const p={firstWeekContainsDate:l,weekStartsOn:u,locale:o};return h.map(w=>{if(!w.isToken)return w.value;const b=w.value;(gb(b)||pb(b))&&mb(b,e,String(r));const E=rg[b[0]];return E(d,b,o.localize,p)}).join("")}function Eb(r){const e=r.match(_b);return e?e[1].replace(Sb,"'"):r}function jc(r,e){return+Pe(r)>+Pe(e)}function kb(r,e){return+Pe(r)<+Pe(e)}function xb(r,e){return Pe(r,e==null?void 0:e.in).getDay()===5}function Tb(r,e){return Pe(r,e==null?void 0:e.in).getDay()===1}function Ob(r,e){return Pe(r,e==null?void 0:e.in).getDay()===4}function Cb(r,e){return Pe(r,e==null?void 0:e.in).getDay()===2}function Pb(r,e){return Pe(r,e==null?void 0:e.in).getDay()===3}function ny(r,e,t){const i=+Pe(r,t==null?void 0:t.in),[o,l]=[+Pe(e.start,t==null?void 0:t.in),+Pe(e.end,t==null?void 0:t.in)].sort((u,d)=>u-d);return i>=o&&i<=l}function Rb(r,e,t){return gi(r,-e,t)}const va={Sunday:0,Monday:1,Saturday:6};function Db(r,e,t){const i=r*7,o=Rb(e,i-1),l=Gr(Ia(e,{weekStartsOn:t})),u=Gr(Vr(o,{weekStartsOn:t})),d=1+fd(l,u);if(d%7!==0)throw new Error("total days %7 !==0: "+d);const h=d/7;return{start:u,planStartDate:o,planEndDate:e,end:l,weekCount:h}}function iy(r){return r===va.Monday?["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"]:r===va.Sunday?["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]:["Saturday","Sunday","Monday","Tuesday","Wednesday","Thursday","Friday"]}const ai=r=>ya(r,"yyyy/MM/dd");class pd{constructor(e,t){Wt(this,"_events",new Map);Wt(this,"_min");Wt(this,"_max");Wt(this,"_first");Wt(this,"_last");Wt(this,"_weekCount",0);Wt(this,"_weekStartsOn",va.Monday);this._weekStartsOn=t,e==null||e.forEach((i,o)=>{this.setEvent(o,i)})}get min(){return this._min}get max(){return this._max}get first(){return this._first}get last(){return this._last}get weekCount(){return this._weekCount}get days(){return!this.first||!this.last?[]:sa({start:this.first,end:this.last}).map(i=>({date:i,event:this.getEvent(i)}))}get weeks(){const e=[],t=this.days;for(let i=0;i<this.weekCount;i++){const o=t.slice(i*7,i*7+7),l=i+1;e.push({weekNum:l,dist:[0],desc:`Week ${l}`,days:o})}return e}clone(){const e=new pd(new Map,this._weekStartsOn);return e._events=new Map(this._events),e._min=this._min,e._max=this._max,e._first=this._first,e._last=this._last,e._weekCount=this._weekCount,e}setEvent(e,t){const i=ai(e);t?(this._events.set(i,t),(!this._max||jc(e,this._max))&&(this._max=e),this._last=Gr(Ia(this._max,{weekStartsOn:this._weekStartsOn})),(!this._min||kb(e,this._min))&&(this._min=e),this._first=Vr(this._min,{weekStartsOn:this._weekStartsOn}),this._weekCount=ES(Gr(gi(this._last,1)),this._first)):this._events.delete(i)}getEvent(e){this.validate(e);const t=ai(e);return this._events.get(t)}validate(e){if(!(!this.first||!this.last)&&!ny(e,{start:this.first,end:this.last}))throw new Error(`"date ${ai(e)} is not within interval (${ai(this.first)},${ai(this.last)})`)}swap(e,t){const i=this.getEvent(e),o=this.getEvent(t),l=i;this.setEvent(e,o),this.setEvent(t,l)}swapDow(e,t){if(e===t)return;const i=this.selectAll(e),o=this.selectAll(t);if(i.length!==o.length)throw new Error("selection lengths do not match");for(let l=0;l<i.length;l++)this.swap(i[l],o[l])}selectWeek(e){if(!this.first||!this.last)return[];const t=ey(this.first,e),i=gi(t,6);return sa({start:t,end:i})}selectAll(e){if(!this.first||!this.last)return[];const t=sa({start:this.first,end:this.last});switch(e){case"Monday":return t.filter(i=>Tb(i));case"Tuesday":return t.filter(i=>Cb(i));case"Wednesday":return t.filter(i=>Pb(i));case"Thursday":return t.filter(i=>Ob(i));case"Friday":return t.filter(i=>xb(i));case"Saturday":return t.filter(i=>pS(i));case"Sunday":return t.filter(i=>gS(i));default:throw new Error(`unhandled day of week ${e}`)}}swapWeeks(e,t){if(e===t||!this.first||!this.last)return;const i=this.selectWeek(e),o=this.selectWeek(t);for(let l=0;l<i.length;l++)this.swap(i[l],o[l])}}function Ib(r,e){if(e)return{title:e.title,desc:e.description,tags:e.tags,dist:e.distance,sourceUnits:r}}function Ab(r){const e=new Array;for(let t=0;t<r.schedule.length;t++){const i=r.schedule[t];for(let o=0;o<i.workouts.length;o++)e.push(i.workouts[o])}return e}function qo(r,e,t){const i=Db(r.schedule.length,e,t),o=Ab(r),l=new Map;sa({start:i.planStartDate,end:i.planEndDate}).forEach(d=>{const h=Ib(r.units,o.shift());h&&l.set(d,h)});const u=new pd(l,t);return{raceType:r.type,planDates:i,dateGrid:u,sourceUnits:r.units,description:r.description,sourceUrl:r.source}}function Nb(r,e,t){const i={planDates:r.planDates,raceType:r.raceType,title:r.raceType,dateGrid:r.dateGrid.clone(),sourceUnits:r.sourceUnits,description:r.description,sourceUrl:r.sourceUrl};return i.dateGrid.swap(e,t),i}function jb(r,e,t){const i={planDates:r.planDates,raceType:r.raceType,title:r.raceType,dateGrid:r.dateGrid.clone(),sourceUnits:r.sourceUnits,description:r.description,sourceUrl:r.sourceUrl};return i.dateGrid.swapDow(e,t),i}const sy=N.createContext({dragDropManager:void 0});function It(r){return"Minified Redux error #"+r+"; visit https://redux.js.org/Errors?code="+r+" for the full message or use the non-minified dev environment for full errors. "}var og=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),qu=function(){return Math.random().toString(36).substring(7).split("").join(".")},ag={INIT:"@@redux/INIT"+qu(),REPLACE:"@@redux/REPLACE"+qu(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+qu()}};function Mb(r){if(typeof r!="object"||r===null)return!1;for(var e=r;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(r)===e}function oy(r,e,t){var i;if(typeof e=="function"&&typeof t=="function"||typeof t=="function"&&typeof arguments[3]=="function")throw new Error(It(0));if(typeof e=="function"&&typeof t>"u"&&(t=e,e=void 0),typeof t<"u"){if(typeof t!="function")throw new Error(It(1));return t(oy)(r,e)}if(typeof r!="function")throw new Error(It(2));var o=r,l=e,u=[],d=u,h=!1;function p(){d===u&&(d=u.slice())}function m(){if(h)throw new Error(It(3));return l}function v(b){if(typeof b!="function")throw new Error(It(4));if(h)throw new Error(It(5));var E=!0;return p(),d.push(b),function(){if(E){if(h)throw new Error(It(6));E=!1,p();var O=d.indexOf(b);d.splice(O,1),u=null}}}function _(b){if(!Mb(b))throw new Error(It(7));if(typeof b.type>"u")throw new Error(It(8));if(h)throw new Error(It(9));try{h=!0,l=o(l,b)}finally{h=!1}for(var E=u=d,k=0;k<E.length;k++){var O=E[k];O()}return b}function y(b){if(typeof b!="function")throw new Error(It(10));o=b,_({type:ag.REPLACE})}function w(){var b,E=v;return b={subscribe:function(O){if(typeof O!="object"||O===null)throw new Error(It(11));function j(){O.next&&O.next(m())}j();var H=E(j);return{unsubscribe:H}}},b[og]=function(){return this},b}return _({type:ag.INIT}),i={dispatch:_,subscribe:v,getState:m,replaceReducer:y},i[og]=w,i}function _e(r,e,...t){if($b()&&e===void 0)throw new Error("invariant requires an error message argument");if(!r){let i;if(e===void 0)i=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{let o=0;i=new Error(e.replace(/%s/g,function(){return t[o++]})),i.name="Invariant Violation"}throw i.framesToPop=1,i}}function $b(){return typeof process<"u"&&!0}function Lb(r,e,t){return e.split(".").reduce((i,o)=>i&&i[o]?i[o]:t,r)}function Ub(r,e){return r.filter(t=>t!==e)}function ay(r){return typeof r=="object"}function Fb(r,e){const t=new Map,i=l=>{t.set(l,t.has(l)?t.get(l)+1:1)};r.forEach(i),e.forEach(i);const o=[];return t.forEach((l,u)=>{l===1&&o.push(u)}),o}function zb(r,e){return r.filter(t=>e.indexOf(t)>-1)}const gd="dnd-core/INIT_COORDS",Aa="dnd-core/BEGIN_DRAG",md="dnd-core/PUBLISH_DRAG_SOURCE",Na="dnd-core/HOVER",ja="dnd-core/DROP",Ma="dnd-core/END_DRAG";function lg(r,e){return{type:gd,payload:{sourceClientOffset:e||null,clientOffset:r||null}}}const Bb={type:gd,payload:{clientOffset:null,sourceClientOffset:null}};function Wb(r){return function(t=[],i={publishSource:!0}){const{publishSource:o=!0,clientOffset:l,getSourceClientOffset:u}=i,d=r.getMonitor(),h=r.getRegistry();r.dispatch(lg(l)),Hb(t,d,h);const p=Gb(t,d);if(p==null){r.dispatch(Bb);return}let m=null;if(l){if(!u)throw new Error("getSourceClientOffset must be defined");qb(u),m=u(p)}r.dispatch(lg(l,m));const _=h.getSource(p).beginDrag(d,p);if(_==null)return;Vb(_),h.pinSource(p);const y=h.getSourceType(p);return{type:Aa,payload:{itemType:y,item:_,sourceId:p,clientOffset:l||null,sourceClientOffset:m||null,isSourcePublic:!!o}}}}function Hb(r,e,t){_e(!e.isDragging(),"Cannot call beginDrag while dragging."),r.forEach(function(i){_e(t.getSource(i),"Expected sourceIds to be registered.")})}function qb(r){_e(typeof r=="function","When clientOffset is provided, getSourceClientOffset must be a function.")}function Vb(r){_e(ay(r),"Item must be an object.")}function Gb(r,e){let t=null;for(let i=r.length-1;i>=0;i--)if(e.canDragSource(r[i])){t=r[i];break}return t}function Kb(r,e,t){return e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function Yb(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{},i=Object.keys(t);typeof Object.getOwnPropertySymbols=="function"&&(i=i.concat(Object.getOwnPropertySymbols(t).filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable}))),i.forEach(function(o){Kb(r,o,t[o])})}return r}function Jb(r){return function(t={}){const i=r.getMonitor(),o=r.getRegistry();Qb(i),eE(i).forEach((u,d)=>{const h=Xb(u,d,o,i),p={type:ja,payload:{dropResult:Yb({},t,h)}};r.dispatch(p)})}}function Qb(r){_e(r.isDragging(),"Cannot call drop while not dragging."),_e(!r.didDrop(),"Cannot call drop twice during one drag operation.")}function Xb(r,e,t,i){const o=t.getTarget(r);let l=o?o.drop(i,r):void 0;return Zb(l),typeof l>"u"&&(l=e===0?{}:i.getDropResult()),l}function Zb(r){_e(typeof r>"u"||ay(r),"Drop result must either be an object or undefined.")}function eE(r){const e=r.getTargetIds().filter(r.canDropOnTarget,r);return e.reverse(),e}function tE(r){return function(){const t=r.getMonitor(),i=r.getRegistry();rE(t);const o=t.getSourceId();return o!=null&&(i.getSource(o,!0).endDrag(t,o),i.unpinSource()),{type:Ma}}}function rE(r){_e(r.isDragging(),"Cannot call endDrag while not dragging.")}function Mc(r,e){return e===null?r===null:Array.isArray(r)?r.some(t=>t===e):r===e}function nE(r){return function(t,{clientOffset:i}={}){iE(t);const o=t.slice(0),l=r.getMonitor(),u=r.getRegistry(),d=l.getItemType();return oE(o,u,d),sE(o,l,u),aE(o,l,u),{type:Na,payload:{targetIds:o,clientOffset:i||null}}}}function iE(r){_e(Array.isArray(r),"Expected targetIds to be an array.")}function sE(r,e,t){_e(e.isDragging(),"Cannot call hover while not dragging."),_e(!e.didDrop(),"Cannot call hover after drop.");for(let i=0;i<r.length;i++){const o=r[i];_e(r.lastIndexOf(o)===i,"Expected targetIds to be unique in the passed array.");const l=t.getTarget(o);_e(l,"Expected targetIds to be registered.")}}function oE(r,e,t){for(let i=r.length-1;i>=0;i--){const o=r[i],l=e.getTargetType(o);Mc(l,t)||r.splice(i,1)}}function aE(r,e,t){r.forEach(function(i){t.getTarget(i).hover(e,i)})}function lE(r){return function(){if(r.getMonitor().isDragging())return{type:md}}}function uE(r){return{beginDrag:Wb(r),publishDragSource:lE(r),hover:nE(r),drop:Jb(r),endDrag:tE(r)}}class cE{receiveBackend(e){this.backend=e}getMonitor(){return this.monitor}getBackend(){return this.backend}getRegistry(){return this.monitor.registry}getActions(){const e=this,{dispatch:t}=this.store;function i(l){return(...u)=>{const d=l.apply(e,u);typeof d<"u"&&t(d)}}const o=uE(this);return Object.keys(o).reduce((l,u)=>{const d=o[u];return l[u]=i(d),l},{})}dispatch(e){this.store.dispatch(e)}constructor(e,t){this.isSetUp=!1,this.handleRefCountChange=()=>{const i=this.store.getState().refCount>0;this.backend&&(i&&!this.isSetUp?(this.backend.setup(),this.isSetUp=!0):!i&&this.isSetUp&&(this.backend.teardown(),this.isSetUp=!1))},this.store=e,this.monitor=t,e.subscribe(this.handleRefCountChange)}}function dE(r,e){return{x:r.x+e.x,y:r.y+e.y}}function ly(r,e){return{x:r.x-e.x,y:r.y-e.y}}function hE(r){const{clientOffset:e,initialClientOffset:t,initialSourceClientOffset:i}=r;return!e||!t||!i?null:ly(dE(e,i),t)}function fE(r){const{clientOffset:e,initialClientOffset:t}=r;return!e||!t?null:ly(e,t)}const ms=[],yd=[];ms.__IS_NONE__=!0;yd.__IS_ALL__=!0;function pE(r,e){return r===ms?!1:r===yd||typeof e>"u"?!0:zb(e,r).length>0}class gE{subscribeToStateChange(e,t={}){const{handlerIds:i}=t;_e(typeof e=="function","listener must be a function."),_e(typeof i>"u"||Array.isArray(i),"handlerIds, when specified, must be an array of strings.");let o=this.store.getState().stateId;const l=()=>{const u=this.store.getState(),d=u.stateId;try{d===o||d===o+1&&!pE(u.dirtyHandlerIds,i)||e()}finally{o=d}};return this.store.subscribe(l)}subscribeToOffsetChange(e){_e(typeof e=="function","listener must be a function.");let t=this.store.getState().dragOffset;const i=()=>{const o=this.store.getState().dragOffset;o!==t&&(t=o,e())};return this.store.subscribe(i)}canDragSource(e){if(!e)return!1;const t=this.registry.getSource(e);return _e(t,`Expected to find a valid source. sourceId=${e}`),this.isDragging()?!1:t.canDrag(this,e)}canDropOnTarget(e){if(!e)return!1;const t=this.registry.getTarget(e);if(_e(t,`Expected to find a valid target. targetId=${e}`),!this.isDragging()||this.didDrop())return!1;const i=this.registry.getTargetType(e),o=this.getItemType();return Mc(i,o)&&t.canDrop(this,e)}isDragging(){return!!this.getItemType()}isDraggingSource(e){if(!e)return!1;const t=this.registry.getSource(e,!0);if(_e(t,`Expected to find a valid source. sourceId=${e}`),!this.isDragging()||!this.isSourcePublic())return!1;const i=this.registry.getSourceType(e),o=this.getItemType();return i!==o?!1:t.isDragging(this,e)}isOverTarget(e,t={shallow:!1}){if(!e)return!1;const{shallow:i}=t;if(!this.isDragging())return!1;const o=this.registry.getTargetType(e),l=this.getItemType();if(l&&!Mc(o,l))return!1;const u=this.getTargetIds();if(!u.length)return!1;const d=u.indexOf(e);return i?d===u.length-1:d>-1}getItemType(){return this.store.getState().dragOperation.itemType}getItem(){return this.store.getState().dragOperation.item}getSourceId(){return this.store.getState().dragOperation.sourceId}getTargetIds(){return this.store.getState().dragOperation.targetIds}getDropResult(){return this.store.getState().dragOperation.dropResult}didDrop(){return this.store.getState().dragOperation.didDrop}isSourcePublic(){return!!this.store.getState().dragOperation.isSourcePublic}getInitialClientOffset(){return this.store.getState().dragOffset.initialClientOffset}getInitialSourceClientOffset(){return this.store.getState().dragOffset.initialSourceClientOffset}getClientOffset(){return this.store.getState().dragOffset.clientOffset}getSourceClientOffset(){return hE(this.store.getState().dragOffset)}getDifferenceFromInitialOffset(){return fE(this.store.getState().dragOffset)}constructor(e,t){this.store=e,this.registry=t}}const ug=typeof global<"u"?global:self,uy=ug.MutationObserver||ug.WebKitMutationObserver;function cy(r){return function(){const t=setTimeout(o,0),i=setInterval(o,50);function o(){clearTimeout(t),clearInterval(i),r()}}}function mE(r){let e=1;const t=new uy(r),i=document.createTextNode("");return t.observe(i,{characterData:!0}),function(){e=-e,i.data=e}}const yE=typeof uy=="function"?mE:cy;class vE{enqueueTask(e){const{queue:t,requestFlush:i}=this;t.length||(i(),this.flushing=!0),t[t.length]=e}constructor(){this.queue=[],this.pendingErrors=[],this.flushing=!1,this.index=0,this.capacity=1024,this.flush=()=>{const{queue:e}=this;for(;this.index<e.length;){const t=this.index;if(this.index++,e[t].call(),this.index>this.capacity){for(let i=0,o=e.length-this.index;i<o;i++)e[i]=e[i+this.index];e.length-=this.index,this.index=0}}e.length=0,this.index=0,this.flushing=!1},this.registerPendingError=e=>{this.pendingErrors.push(e),this.requestErrorThrow()},this.requestFlush=yE(this.flush),this.requestErrorThrow=cy(()=>{if(this.pendingErrors.length)throw this.pendingErrors.shift()})}}class wE{call(){try{this.task&&this.task()}catch(e){this.onError(e)}finally{this.task=null,this.release(this)}}constructor(e,t){this.onError=e,this.release=t,this.task=null}}class _E{create(e){const t=this.freeTasks,i=t.length?t.pop():new wE(this.onError,o=>t[t.length]=o);return i.task=e,i}constructor(e){this.onError=e,this.freeTasks=[]}}const dy=new vE,SE=new _E(dy.registerPendingError);function bE(r){dy.enqueueTask(SE.create(r))}const vd="dnd-core/ADD_SOURCE",wd="dnd-core/ADD_TARGET",_d="dnd-core/REMOVE_SOURCE",$a="dnd-core/REMOVE_TARGET";function EE(r){return{type:vd,payload:{sourceId:r}}}function kE(r){return{type:wd,payload:{targetId:r}}}function xE(r){return{type:_d,payload:{sourceId:r}}}function TE(r){return{type:$a,payload:{targetId:r}}}function OE(r){_e(typeof r.canDrag=="function","Expected canDrag to be a function."),_e(typeof r.beginDrag=="function","Expected beginDrag to be a function."),_e(typeof r.endDrag=="function","Expected endDrag to be a function.")}function CE(r){_e(typeof r.canDrop=="function","Expected canDrop to be a function."),_e(typeof r.hover=="function","Expected hover to be a function."),_e(typeof r.drop=="function","Expected beginDrag to be a function.")}function $c(r,e){if(e&&Array.isArray(r)){r.forEach(t=>$c(t,!1));return}_e(typeof r=="string"||typeof r=="symbol",e?"Type can only be a string, a symbol, or an array of either.":"Type can only be a string or a symbol.")}var Nt;(function(r){r.SOURCE="SOURCE",r.TARGET="TARGET"})(Nt||(Nt={}));let PE=0;function RE(){return PE++}function DE(r){const e=RE().toString();switch(r){case Nt.SOURCE:return`S${e}`;case Nt.TARGET:return`T${e}`;default:throw new Error(`Unknown Handler Role: ${r}`)}}function cg(r){switch(r[0]){case"S":return Nt.SOURCE;case"T":return Nt.TARGET;default:throw new Error(`Cannot parse handler ID: ${r}`)}}function dg(r,e){const t=r.entries();let i=!1;do{const{done:o,value:[,l]}=t.next();if(l===e)return!0;i=!!o}while(!i);return!1}class IE{addSource(e,t){$c(e),OE(t);const i=this.addHandler(Nt.SOURCE,e,t);return this.store.dispatch(EE(i)),i}addTarget(e,t){$c(e,!0),CE(t);const i=this.addHandler(Nt.TARGET,e,t);return this.store.dispatch(kE(i)),i}containsHandler(e){return dg(this.dragSources,e)||dg(this.dropTargets,e)}getSource(e,t=!1){return _e(this.isSourceId(e),"Expected a valid source ID."),t&&e===this.pinnedSourceId?this.pinnedSource:this.dragSources.get(e)}getTarget(e){return _e(this.isTargetId(e),"Expected a valid target ID."),this.dropTargets.get(e)}getSourceType(e){return _e(this.isSourceId(e),"Expected a valid source ID."),this.types.get(e)}getTargetType(e){return _e(this.isTargetId(e),"Expected a valid target ID."),this.types.get(e)}isSourceId(e){return cg(e)===Nt.SOURCE}isTargetId(e){return cg(e)===Nt.TARGET}removeSource(e){_e(this.getSource(e),"Expected an existing source."),this.store.dispatch(xE(e)),bE(()=>{this.dragSources.delete(e),this.types.delete(e)})}removeTarget(e){_e(this.getTarget(e),"Expected an existing target."),this.store.dispatch(TE(e)),this.dropTargets.delete(e),this.types.delete(e)}pinSource(e){const t=this.getSource(e);_e(t,"Expected an existing source."),this.pinnedSourceId=e,this.pinnedSource=t}unpinSource(){_e(this.pinnedSource,"No source is pinned at the time."),this.pinnedSourceId=null,this.pinnedSource=null}addHandler(e,t,i){const o=DE(e);return this.types.set(o,t),e===Nt.SOURCE?this.dragSources.set(o,i):e===Nt.TARGET&&this.dropTargets.set(o,i),o}constructor(e){this.types=new Map,this.dragSources=new Map,this.dropTargets=new Map,this.pinnedSourceId=null,this.pinnedSource=null,this.store=e}}const AE=(r,e)=>r===e;function NE(r,e){return!r&&!e?!0:!r||!e?!1:r.x===e.x&&r.y===e.y}function jE(r,e,t=AE){if(r.length!==e.length)return!1;for(let i=0;i<r.length;++i)if(!t(r[i],e[i]))return!1;return!0}function ME(r=ms,e){switch(e.type){case Na:break;case vd:case wd:case $a:case _d:return ms;case Aa:case md:case Ma:case ja:default:return yd}const{targetIds:t=[],prevTargetIds:i=[]}=e.payload,o=Fb(t,i);if(!(o.length>0||!jE(t,i)))return ms;const u=i[i.length-1],d=t[t.length-1];return u!==d&&(u&&o.push(u),d&&o.push(d)),o}function $E(r,e,t){return e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function LE(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{},i=Object.keys(t);typeof Object.getOwnPropertySymbols=="function"&&(i=i.concat(Object.getOwnPropertySymbols(t).filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable}))),i.forEach(function(o){$E(r,o,t[o])})}return r}const hg={initialSourceClientOffset:null,initialClientOffset:null,clientOffset:null};function UE(r=hg,e){const{payload:t}=e;switch(e.type){case gd:case Aa:return{initialSourceClientOffset:t.sourceClientOffset,initialClientOffset:t.clientOffset,clientOffset:t.clientOffset};case Na:return NE(r.clientOffset,t.clientOffset)?r:LE({},r,{clientOffset:t.clientOffset});case Ma:case ja:return hg;default:return r}}function FE(r,e,t){return e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function Xn(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{},i=Object.keys(t);typeof Object.getOwnPropertySymbols=="function"&&(i=i.concat(Object.getOwnPropertySymbols(t).filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable}))),i.forEach(function(o){FE(r,o,t[o])})}return r}const zE={itemType:null,item:null,sourceId:null,targetIds:[],dropResult:null,didDrop:!1,isSourcePublic:null};function BE(r=zE,e){const{payload:t}=e;switch(e.type){case Aa:return Xn({},r,{itemType:t.itemType,item:t.item,sourceId:t.sourceId,isSourcePublic:t.isSourcePublic,dropResult:null,didDrop:!1});case md:return Xn({},r,{isSourcePublic:!0});case Na:return Xn({},r,{targetIds:t.targetIds});case $a:return r.targetIds.indexOf(t.targetId)===-1?r:Xn({},r,{targetIds:Ub(r.targetIds,t.targetId)});case ja:return Xn({},r,{dropResult:t.dropResult,didDrop:!0,targetIds:[]});case Ma:return Xn({},r,{itemType:null,item:null,sourceId:null,dropResult:null,didDrop:!1,isSourcePublic:null,targetIds:[]});default:return r}}function WE(r=0,e){switch(e.type){case vd:case wd:return r+1;case _d:case $a:return r-1;default:return r}}function HE(r=0){return r+1}function qE(r,e,t){return e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function VE(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{},i=Object.keys(t);typeof Object.getOwnPropertySymbols=="function"&&(i=i.concat(Object.getOwnPropertySymbols(t).filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable}))),i.forEach(function(o){qE(r,o,t[o])})}return r}function GE(r={},e){return{dirtyHandlerIds:ME(r.dirtyHandlerIds,{type:e.type,payload:VE({},e.payload,{prevTargetIds:Lb(r,"dragOperation.targetIds",[])})}),dragOffset:UE(r.dragOffset,e),refCount:WE(r.refCount,e),dragOperation:BE(r.dragOperation,e),stateId:HE(r.stateId)}}function KE(r,e=void 0,t={},i=!1){const o=YE(i),l=new gE(o,new IE(o)),u=new cE(o,l),d=r(u,e,t);return u.receiveBackend(d),u}function YE(r){const e=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION__;return oy(GE,r&&e&&e({name:"dnd-core",instanceId:"dnd-core"}))}function JE(r,e){if(r==null)return{};var t=QE(r,e),i,o;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(r);for(o=0;o<l.length;o++)i=l[o],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(r,i)&&(t[i]=r[i])}return t}function QE(r,e){if(r==null)return{};var t={},i=Object.keys(r),o,l;for(l=0;l<i.length;l++)o=i[l],!(e.indexOf(o)>=0)&&(t[o]=r[o]);return t}let fg=0;const oa=Symbol.for("__REACT_DND_CONTEXT_INSTANCE__");var XE=N.memo(function(e){var{children:t}=e,i=JE(e,["children"]);const[o,l]=ZE(i);return N.useEffect(()=>{if(l){const u=hy();return++fg,()=>{--fg===0&&(u[oa]=null)}}},[]),x.jsx(sy.Provider,{value:o,children:t})});function ZE(r){if("manager"in r)return[{dragDropManager:r.manager},!1];const e=e1(r.backend,r.context,r.options,r.debugMode),t=!r.context;return[e,t]}function e1(r,e=hy(),t,i){const o=e;return o[oa]||(o[oa]={dragDropManager:KE(r,e,t,i)}),o[oa]}function hy(){return typeof global<"u"?global:window}var Vu,pg;function t1(){return pg||(pg=1,Vu=function r(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;var i,o,l;if(Array.isArray(e)){if(i=e.length,i!=t.length)return!1;for(o=i;o--!==0;)if(!r(e[o],t[o]))return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===t.toString();if(l=Object.keys(e),i=l.length,i!==Object.keys(t).length)return!1;for(o=i;o--!==0;)if(!Object.prototype.hasOwnProperty.call(t,l[o]))return!1;for(o=i;o--!==0;){var u=l[o];if(!r(e[u],t[u]))return!1}return!0}return e!==e&&t!==t}),Vu}var r1=t1();const n1=Ca(r1),bn=typeof window<"u"?N.useLayoutEffect:N.useEffect;function i1(r,e,t){const[i,o]=N.useState(()=>e(r)),l=N.useCallback(()=>{const u=e(r);n1(i,u)||(o(u),t())},[i,r,t]);return bn(l),[i,l]}function s1(r,e,t){const[i,o]=i1(r,e,t);return bn(function(){const u=r.getHandlerId();if(u!=null)return r.subscribeToStateChange(o,{handlerIds:[u]})},[r,o]),i}function fy(r,e,t){return s1(e,r||(()=>({})),()=>t.reconnect())}function py(r,e){const t=[];return typeof r!="function"&&t.push(r),N.useMemo(()=>typeof r=="function"?r():r,t)}function o1(r){return N.useMemo(()=>r.hooks.dragSource(),[r])}function a1(r){return N.useMemo(()=>r.hooks.dragPreview(),[r])}let Gu=!1,Ku=!1;class l1{receiveHandlerId(e){this.sourceId=e}getHandlerId(){return this.sourceId}canDrag(){_e(!Gu,"You may not call monitor.canDrag() inside your canDrag() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor");try{return Gu=!0,this.internalMonitor.canDragSource(this.sourceId)}finally{Gu=!1}}isDragging(){if(!this.sourceId)return!1;_e(!Ku,"You may not call monitor.isDragging() inside your isDragging() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor");try{return Ku=!0,this.internalMonitor.isDraggingSource(this.sourceId)}finally{Ku=!1}}subscribeToStateChange(e,t){return this.internalMonitor.subscribeToStateChange(e,t)}isDraggingSource(e){return this.internalMonitor.isDraggingSource(e)}isOverTarget(e,t){return this.internalMonitor.isOverTarget(e,t)}getTargetIds(){return this.internalMonitor.getTargetIds()}isSourcePublic(){return this.internalMonitor.isSourcePublic()}getSourceId(){return this.internalMonitor.getSourceId()}subscribeToOffsetChange(e){return this.internalMonitor.subscribeToOffsetChange(e)}canDragSource(e){return this.internalMonitor.canDragSource(e)}canDropOnTarget(e){return this.internalMonitor.canDropOnTarget(e)}getItemType(){return this.internalMonitor.getItemType()}getItem(){return this.internalMonitor.getItem()}getDropResult(){return this.internalMonitor.getDropResult()}didDrop(){return this.internalMonitor.didDrop()}getInitialClientOffset(){return this.internalMonitor.getInitialClientOffset()}getInitialSourceClientOffset(){return this.internalMonitor.getInitialSourceClientOffset()}getSourceClientOffset(){return this.internalMonitor.getSourceClientOffset()}getClientOffset(){return this.internalMonitor.getClientOffset()}getDifferenceFromInitialOffset(){return this.internalMonitor.getDifferenceFromInitialOffset()}constructor(e){this.sourceId=null,this.internalMonitor=e.getMonitor()}}let Yu=!1;class u1{receiveHandlerId(e){this.targetId=e}getHandlerId(){return this.targetId}subscribeToStateChange(e,t){return this.internalMonitor.subscribeToStateChange(e,t)}canDrop(){if(!this.targetId)return!1;_e(!Yu,"You may not call monitor.canDrop() inside your canDrop() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target-monitor");try{return Yu=!0,this.internalMonitor.canDropOnTarget(this.targetId)}finally{Yu=!1}}isOver(e){return this.targetId?this.internalMonitor.isOverTarget(this.targetId,e):!1}getItemType(){return this.internalMonitor.getItemType()}getItem(){return this.internalMonitor.getItem()}getDropResult(){return this.internalMonitor.getDropResult()}didDrop(){return this.internalMonitor.didDrop()}getInitialClientOffset(){return this.internalMonitor.getInitialClientOffset()}getInitialSourceClientOffset(){return this.internalMonitor.getInitialSourceClientOffset()}getSourceClientOffset(){return this.internalMonitor.getSourceClientOffset()}getClientOffset(){return this.internalMonitor.getClientOffset()}getDifferenceFromInitialOffset(){return this.internalMonitor.getDifferenceFromInitialOffset()}constructor(e){this.targetId=null,this.internalMonitor=e.getMonitor()}}function c1(r,e,t){const i=t.getRegistry(),o=i.addTarget(r,e);return[o,()=>i.removeTarget(o)]}function d1(r,e,t){const i=t.getRegistry(),o=i.addSource(r,e);return[o,()=>i.removeSource(o)]}function Lc(r,e,t,i){let o;if(o!==void 0)return!!o;if(r===e)return!0;if(typeof r!="object"||!r||typeof e!="object"||!e)return!1;const l=Object.keys(r),u=Object.keys(e);if(l.length!==u.length)return!1;const d=Object.prototype.hasOwnProperty.bind(e);for(let h=0;h<l.length;h++){const p=l[h];if(!d(p))return!1;const m=r[p],v=e[p];if(o=void 0,o===!1||o===void 0&&m!==v)return!1}return!0}function Uc(r){return r!==null&&typeof r=="object"&&Object.prototype.hasOwnProperty.call(r,"current")}function h1(r){if(typeof r.type=="string")return;const e=r.type.displayName||r.type.name||"the component";throw new Error(`Only native element nodes can now be passed to React DnD connectors.You can either wrap ${e} into a <div>, or turn it into a drag source or a drop target itself.`)}function f1(r){return(e=null,t=null)=>{if(!N.isValidElement(e)){const l=e;return r(l,t),l}const i=e;return h1(i),p1(i,t?l=>r(l,t):r)}}function gy(r){const e={};return Object.keys(r).forEach(t=>{const i=r[t];if(t.endsWith("Ref"))e[t]=r[t];else{const o=f1(i);e[t]=()=>o}}),e}function gg(r,e){typeof r=="function"?r(e):r.current=e}function p1(r,e){const t=r.ref;return _e(typeof t!="string","Cannot connect React DnD to an element with an existing string ref. Please convert it to use a callback ref instead, or wrap it into a <span> or <div>. Read more: https://reactjs.org/docs/refs-and-the-dom.html#callback-refs"),t?N.cloneElement(r,{ref:i=>{gg(t,i),gg(e,i)}}):N.cloneElement(r,{ref:e})}class g1{receiveHandlerId(e){this.handlerId!==e&&(this.handlerId=e,this.reconnect())}get connectTarget(){return this.dragSource}get dragSourceOptions(){return this.dragSourceOptionsInternal}set dragSourceOptions(e){this.dragSourceOptionsInternal=e}get dragPreviewOptions(){return this.dragPreviewOptionsInternal}set dragPreviewOptions(e){this.dragPreviewOptionsInternal=e}reconnect(){const e=this.reconnectDragSource();this.reconnectDragPreview(e)}reconnectDragSource(){const e=this.dragSource,t=this.didHandlerIdChange()||this.didConnectedDragSourceChange()||this.didDragSourceOptionsChange();return t&&this.disconnectDragSource(),this.handlerId?e?(t&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDragSource=e,this.lastConnectedDragSourceOptions=this.dragSourceOptions,this.dragSourceUnsubscribe=this.backend.connectDragSource(this.handlerId,e,this.dragSourceOptions)),t):(this.lastConnectedDragSource=e,t):t}reconnectDragPreview(e=!1){const t=this.dragPreview,i=e||this.didHandlerIdChange()||this.didConnectedDragPreviewChange()||this.didDragPreviewOptionsChange();if(i&&this.disconnectDragPreview(),!!this.handlerId){if(!t){this.lastConnectedDragPreview=t;return}i&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDragPreview=t,this.lastConnectedDragPreviewOptions=this.dragPreviewOptions,this.dragPreviewUnsubscribe=this.backend.connectDragPreview(this.handlerId,t,this.dragPreviewOptions))}}didHandlerIdChange(){return this.lastConnectedHandlerId!==this.handlerId}didConnectedDragSourceChange(){return this.lastConnectedDragSource!==this.dragSource}didConnectedDragPreviewChange(){return this.lastConnectedDragPreview!==this.dragPreview}didDragSourceOptionsChange(){return!Lc(this.lastConnectedDragSourceOptions,this.dragSourceOptions)}didDragPreviewOptionsChange(){return!Lc(this.lastConnectedDragPreviewOptions,this.dragPreviewOptions)}disconnectDragSource(){this.dragSourceUnsubscribe&&(this.dragSourceUnsubscribe(),this.dragSourceUnsubscribe=void 0)}disconnectDragPreview(){this.dragPreviewUnsubscribe&&(this.dragPreviewUnsubscribe(),this.dragPreviewUnsubscribe=void 0,this.dragPreviewNode=null,this.dragPreviewRef=null)}get dragSource(){return this.dragSourceNode||this.dragSourceRef&&this.dragSourceRef.current}get dragPreview(){return this.dragPreviewNode||this.dragPreviewRef&&this.dragPreviewRef.current}clearDragSource(){this.dragSourceNode=null,this.dragSourceRef=null}clearDragPreview(){this.dragPreviewNode=null,this.dragPreviewRef=null}constructor(e){this.hooks=gy({dragSource:(t,i)=>{this.clearDragSource(),this.dragSourceOptions=i||null,Uc(t)?this.dragSourceRef=t:this.dragSourceNode=t,this.reconnectDragSource()},dragPreview:(t,i)=>{this.clearDragPreview(),this.dragPreviewOptions=i||null,Uc(t)?this.dragPreviewRef=t:this.dragPreviewNode=t,this.reconnectDragPreview()}}),this.handlerId=null,this.dragSourceRef=null,this.dragSourceOptionsInternal=null,this.dragPreviewRef=null,this.dragPreviewOptionsInternal=null,this.lastConnectedHandlerId=null,this.lastConnectedDragSource=null,this.lastConnectedDragSourceOptions=null,this.lastConnectedDragPreview=null,this.lastConnectedDragPreviewOptions=null,this.backend=e}}class m1{get connectTarget(){return this.dropTarget}reconnect(){const e=this.didHandlerIdChange()||this.didDropTargetChange()||this.didOptionsChange();e&&this.disconnectDropTarget();const t=this.dropTarget;if(this.handlerId){if(!t){this.lastConnectedDropTarget=t;return}e&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDropTarget=t,this.lastConnectedDropTargetOptions=this.dropTargetOptions,this.unsubscribeDropTarget=this.backend.connectDropTarget(this.handlerId,t,this.dropTargetOptions))}}receiveHandlerId(e){e!==this.handlerId&&(this.handlerId=e,this.reconnect())}get dropTargetOptions(){return this.dropTargetOptionsInternal}set dropTargetOptions(e){this.dropTargetOptionsInternal=e}didHandlerIdChange(){return this.lastConnectedHandlerId!==this.handlerId}didDropTargetChange(){return this.lastConnectedDropTarget!==this.dropTarget}didOptionsChange(){return!Lc(this.lastConnectedDropTargetOptions,this.dropTargetOptions)}disconnectDropTarget(){this.unsubscribeDropTarget&&(this.unsubscribeDropTarget(),this.unsubscribeDropTarget=void 0)}get dropTarget(){return this.dropTargetNode||this.dropTargetRef&&this.dropTargetRef.current}clearDropTarget(){this.dropTargetRef=null,this.dropTargetNode=null}constructor(e){this.hooks=gy({dropTarget:(t,i)=>{this.clearDropTarget(),this.dropTargetOptions=i,Uc(t)?this.dropTargetRef=t:this.dropTargetNode=t,this.reconnect()}}),this.handlerId=null,this.dropTargetRef=null,this.dropTargetOptionsInternal=null,this.lastConnectedHandlerId=null,this.lastConnectedDropTarget=null,this.lastConnectedDropTargetOptions=null,this.backend=e}}function vi(){const{dragDropManager:r}=N.useContext(sy);return _e(r!=null,"Expected drag drop context"),r}function y1(r,e){const t=vi(),i=N.useMemo(()=>new g1(t.getBackend()),[t]);return bn(()=>(i.dragSourceOptions=r||null,i.reconnect(),()=>i.disconnectDragSource()),[i,r]),bn(()=>(i.dragPreviewOptions=e||null,i.reconnect(),()=>i.disconnectDragPreview()),[i,e]),i}function v1(){const r=vi();return N.useMemo(()=>new l1(r),[r])}class w1{beginDrag(){const e=this.spec,t=this.monitor;let i=null;return typeof e.item=="object"?i=e.item:typeof e.item=="function"?i=e.item(t):i={},i??null}canDrag(){const e=this.spec,t=this.monitor;return typeof e.canDrag=="boolean"?e.canDrag:typeof e.canDrag=="function"?e.canDrag(t):!0}isDragging(e,t){const i=this.spec,o=this.monitor,{isDragging:l}=i;return l?l(o):t===e.getSourceId()}endDrag(){const e=this.spec,t=this.monitor,i=this.connector,{end:o}=e;o&&o(t.getItem(),t),i.reconnect()}constructor(e,t,i){this.spec=e,this.monitor=t,this.connector=i}}function _1(r,e,t){const i=N.useMemo(()=>new w1(r,e,t),[e,t]);return N.useEffect(()=>{i.spec=r},[r]),i}function S1(r){return N.useMemo(()=>{const e=r.type;return _e(e!=null,"spec.type must be defined"),e},[r])}function b1(r,e,t){const i=vi(),o=_1(r,e,t),l=S1(r);bn(function(){if(l!=null){const[d,h]=d1(l,o,i);return e.receiveHandlerId(d),t.receiveHandlerId(d),h}},[i,e,t,o,l])}function my(r,e){const t=py(r);_e(!t.begin,"useDrag::spec.begin was deprecated in v14. Replace spec.begin() with spec.item(). (see more here - https://react-dnd.github.io/react-dnd/docs/api/use-drag)");const i=v1(),o=y1(t.options,t.previewOptions);return b1(t,i,o),[fy(t.collect,i,o),o1(o),a1(o)]}function E1(r){return N.useMemo(()=>r.hooks.dropTarget(),[r])}function k1(r){const e=vi(),t=N.useMemo(()=>new m1(e.getBackend()),[e]);return bn(()=>(t.dropTargetOptions=r||null,t.reconnect(),()=>t.disconnectDropTarget()),[r]),t}function x1(){const r=vi();return N.useMemo(()=>new u1(r),[r])}function T1(r){const{accept:e}=r;return N.useMemo(()=>(_e(r.accept!=null,"accept must be defined"),Array.isArray(e)?e:[e]),[e])}class O1{canDrop(){const e=this.spec,t=this.monitor;return e.canDrop?e.canDrop(t.getItem(),t):!0}hover(){const e=this.spec,t=this.monitor;e.hover&&e.hover(t.getItem(),t)}drop(){const e=this.spec,t=this.monitor;if(e.drop)return e.drop(t.getItem(),t)}constructor(e,t){this.spec=e,this.monitor=t}}function C1(r,e){const t=N.useMemo(()=>new O1(r,e),[e]);return N.useEffect(()=>{t.spec=r},[r]),t}function P1(r,e,t){const i=vi(),o=C1(r,e),l=T1(r);bn(function(){const[d,h]=c1(l,o,i);return e.receiveHandlerId(d),t.receiveHandlerId(d),h},[i,e,o,t,l.map(u=>u.toString()).join("|")])}function yy(r,e){const t=py(r),i=x1(),o=k1(t.options);return P1(t,i,o),[fy(t.collect,i,o),E1(o)]}const wa={DAY:"DAY",DOW:"DOW",WEEK:"WEEK"};var aa={exports:{}},R1=aa.exports,mg;function D1(){return mg||(mg=1,function(r){(function(e,t){r.exports?r.exports=t():e.moo=t()})(R1,function(){var e=Object.prototype.hasOwnProperty,t=Object.prototype.toString,i=typeof new RegExp().sticky=="boolean";function o(I){return I&&t.call(I)==="[object RegExp]"}function l(I){return I&&typeof I=="object"&&!o(I)&&!Array.isArray(I)}function u(I){return I.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function d(I){var q=new RegExp("|"+I);return q.exec("").length-1}function h(I){return"("+I+")"}function p(I){if(!I.length)return"(?!)";var q=I.map(function(J){return"(?:"+J+")"}).join("|");return"(?:"+q+")"}function m(I){if(typeof I=="string")return"(?:"+u(I)+")";if(o(I)){if(I.ignoreCase)throw new Error("RegExp /i flag not allowed");if(I.global)throw new Error("RegExp /g flag is implied");if(I.sticky)throw new Error("RegExp /y flag is implied");if(I.multiline)throw new Error("RegExp /m flag is implied");return I.source}else throw new Error("Not a pattern: "+I)}function v(I,q){return I.length>q?I:Array(q-I.length+1).join(" ")+I}function _(I,q){for(var J=I.length,ee=0;;){var D=I.lastIndexOf(`
`,J-1);if(D===-1||(ee++,J=D,ee===q)||J===0)break}var C=ee<q?0:J+1;return I.substring(C).split(`
`)}function y(I){for(var q=Object.getOwnPropertyNames(I),J=[],ee=0;ee<q.length;ee++){var D=q[ee],C=I[D],V=[].concat(C);if(D==="include"){for(var z=0;z<V.length;z++)J.push({include:V[z]});continue}var K=[];V.forEach(function(M){l(M)?(K.length&&J.push(b(D,K)),J.push(b(D,M)),K=[]):K.push(M)}),K.length&&J.push(b(D,K))}return J}function w(I){for(var q=[],J=0;J<I.length;J++){var ee=I[J];if(ee.include){for(var D=[].concat(ee.include),C=0;C<D.length;C++)q.push({include:D[C]});continue}if(!ee.type)throw new Error("Rule has no type: "+JSON.stringify(ee));q.push(b(ee.type,ee))}return q}function b(I,q){if(l(q)||(q={match:q}),q.include)throw new Error("Matching rules cannot also include states");var J={defaultType:I,lineBreaks:!!q.error||!!q.fallback,pop:!1,next:null,push:null,error:!1,fallback:!1,value:null,type:null,shouldThrow:!1};for(var ee in q)e.call(q,ee)&&(J[ee]=q[ee]);if(typeof J.type=="string"&&I!==J.type)throw new Error("Type transform cannot be a string (type '"+J.type+"' for token '"+I+"')");var D=J.match;return J.match=Array.isArray(D)?D:D?[D]:[],J.match.sort(function(C,V){return o(C)&&o(V)?0:o(V)?-1:o(C)?1:V.length-C.length}),J}function E(I){return Array.isArray(I)?w(I):y(I)}var k=b("error",{lineBreaks:!0,shouldThrow:!0});function O(I,q){for(var J=null,ee=Object.create(null),D=!0,C=null,V=[],z=[],K=0;K<I.length;K++)I[K].fallback&&(D=!1);for(var K=0;K<I.length;K++){var M=I[K];if(M.include)throw new Error("Inheritance is not allowed in stateless lexers");if(M.error||M.fallback){if(J)throw!M.fallback==!J.fallback?new Error("Multiple "+(M.fallback?"fallback":"error")+" rules not allowed (for token '"+M.defaultType+"')"):new Error("fallback and error are mutually exclusive (for token '"+M.defaultType+"')");J=M}var R=M.match.slice();if(D)for(;R.length&&typeof R[0]=="string"&&R[0].length===1;){var G=R.shift();ee[G.charCodeAt(0)]=M}if(M.pop||M.push||M.next){if(!q)throw new Error("State-switching options are not allowed in stateless lexers (for token '"+M.defaultType+"')");if(M.fallback)throw new Error("State-switching options are not allowed on fallback tokens (for token '"+M.defaultType+"')")}if(R.length!==0){D=!1,V.push(M);for(var oe=0;oe<R.length;oe++){var de=R[oe];if(o(de)){if(C===null)C=de.unicode;else if(C!==de.unicode&&M.fallback===!1)throw new Error("If one rule is /u then all must be")}}var we=p(R.map(m)),ve=new RegExp(we);if(ve.test(""))throw new Error("RegExp matches empty string: "+ve);var ke=d(we);if(ke>0)throw new Error("RegExp has capture groups: "+ve+`
Use (?:  ) instead`);if(!M.lineBreaks&&ve.test(`
`))throw new Error("Rule should declare lineBreaks: "+ve);z.push(h(we))}}var be=J&&J.fallback,Te=i&&!be?"ym":"gm",Ke=i||be?"":"|";C===!0&&(Te+="u");var xn=new RegExp(p(z)+Ke,Te);return{regexp:xn,groups:V,fast:ee,error:J||k}}function j(I){var q=O(E(I));return new $({start:q},"start")}function H(I,q,J){var ee=I&&(I.push||I.next);if(ee&&!J[ee])throw new Error("Missing state '"+ee+"' (in token '"+I.defaultType+"' of state '"+q+"')");if(I&&I.pop&&+I.pop!=1)throw new Error("pop must be 1 (in token '"+I.defaultType+"' of state '"+q+"')")}function B(I,q){var J=I.$all?E(I.$all):[];delete I.$all;var ee=Object.getOwnPropertyNames(I);q||(q=ee[0]);for(var D=Object.create(null),C=0;C<ee.length;C++){var V=ee[C];D[V]=E(I[V]).concat(J)}for(var C=0;C<ee.length;C++)for(var V=ee[C],z=D[V],K=Object.create(null),M=0;M<z.length;M++){var R=z[M];if(R.include){var G=[M,1];if(R.include!==V&&!K[R.include]){K[R.include]=!0;var oe=D[R.include];if(!oe)throw new Error("Cannot include nonexistent state '"+R.include+"' (in state '"+V+"')");for(var de=0;de<oe.length;de++){var we=oe[de];z.indexOf(we)===-1&&G.push(we)}}z.splice.apply(z,G),M--}}for(var ve=Object.create(null),C=0;C<ee.length;C++){var V=ee[C];ve[V]=O(D[V],!0)}for(var C=0;C<ee.length;C++){for(var ke=ee[C],be=ve[ke],Te=be.groups,M=0;M<Te.length;M++)H(Te[M],ke,ve);for(var Ke=Object.getOwnPropertyNames(be.fast),M=0;M<Ke.length;M++)H(be.fast[Ke[M]],ke,ve)}return new $(ve,q)}function U(I){for(var q=typeof Map<"u",J=q?new Map:Object.create(null),ee=Object.getOwnPropertyNames(I),D=0;D<ee.length;D++){var C=ee[D],V=I[C],z=Array.isArray(V)?V:[V];z.forEach(function(K){if(typeof K!="string")throw new Error("keyword must be string (in keyword '"+C+"')");q?J.set(K,C):J[K]=C})}return function(K){return q?J.get(K):J[K]}}var $=function(I,q){this.startState=q,this.states=I,this.buffer="",this.stack=[],this.reset()};$.prototype.reset=function(I,q){return this.buffer=I||"",this.index=0,this.line=q?q.line:1,this.col=q?q.col:1,this.queuedToken=q?q.queuedToken:null,this.queuedText=q?q.queuedText:"",this.queuedThrow=q?q.queuedThrow:null,this.setState(q?q.state:this.startState),this.stack=q&&q.stack?q.stack.slice():[],this},$.prototype.save=function(){return{line:this.line,col:this.col,state:this.state,stack:this.stack.slice(),queuedToken:this.queuedToken,queuedText:this.queuedText,queuedThrow:this.queuedThrow}},$.prototype.setState=function(I){if(!(!I||this.state===I)){this.state=I;var q=this.states[I];this.groups=q.groups,this.error=q.error,this.re=q.regexp,this.fast=q.fast}},$.prototype.popState=function(){this.setState(this.stack.pop())},$.prototype.pushState=function(I){this.stack.push(this.state),this.setState(I)};var Y=i?function(I,q){return I.exec(q)}:function(I,q){var J=I.exec(q);return J[0].length===0?null:J};$.prototype._getGroup=function(I){for(var q=this.groups.length,J=0;J<q;J++)if(I[J+1]!==void 0)return this.groups[J];throw new Error("Cannot find token type for matched text")};function te(){return this.value}if($.prototype.next=function(){var I=this.index;if(this.queuedGroup){var q=this._token(this.queuedGroup,this.queuedText,I);return this.queuedGroup=null,this.queuedText="",q}var J=this.buffer;if(I!==J.length){var V=this.fast[J.charCodeAt(I)];if(V)return this._token(V,J.charAt(I),I);var ee=this.re;ee.lastIndex=I;var D=Y(ee,J),C=this.error;if(D==null)return this._token(C,J.slice(I,J.length),I);var V=this._getGroup(D),z=D[0];return C.fallback&&D.index!==I?(this.queuedGroup=V,this.queuedText=z,this._token(C,J.slice(I,D.index),I)):this._token(V,z,I)}},$.prototype._token=function(I,q,J){var ee=0;if(I.lineBreaks){var D=/\n/g,C=1;if(q===`
`)ee=1;else for(;D.exec(q);)ee++,C=D.lastIndex}var V={type:typeof I.type=="function"&&I.type(q)||I.defaultType,value:typeof I.value=="function"?I.value(q):q,text:q,toString:te,offset:J,lineBreaks:ee,line:this.line,col:this.col},z=q.length;if(this.index+=z,this.line+=ee,ee!==0?this.col=z-C+1:this.col+=z,I.shouldThrow){var K=new Error(this.formatError(V,"invalid syntax"));throw K}return I.pop?this.popState():I.push?this.pushState(I.push):I.next&&this.setState(I.next),V},typeof Symbol<"u"&&Symbol.iterator){var ne=function(I){this.lexer=I};ne.prototype.next=function(){var I=this.lexer.next();return{value:I,done:!I}},ne.prototype[Symbol.iterator]=function(){return this},$.prototype[Symbol.iterator]=function(){return new ne(this)}}return $.prototype.formatError=function(I,q){if(I==null)var J=this.buffer.slice(this.index),I={text:J,offset:this.index,lineBreaks:J.indexOf(`
`)===-1?0:1,line:this.line,col:this.col};var ee=2,D=Math.max(I.line-ee,1),C=I.line+ee,V=String(C).length,z=_(this.buffer,this.line-I.line+ee+1).slice(0,5),K=[];K.push(q+" at line "+I.line+" col "+I.col+":"),K.push("");for(var M=0;M<z.length;M++){var R=z[M],G=D+M;K.push(v(String(G),V)+"  "+R),G===I.line&&K.push(v("",V+I.col+1)+"^")}return K.join(`
`)},$.prototype.clone=function(){return new $(this.states,this.state)},$.prototype.has=function(I){return!0},{compile:j,states:B,error:Object.freeze({error:!0}),fallback:Object.freeze({fallback:!0}),keywords:U}})}(aa)),aa.exports}var I1=D1();function Ju(r){return r/.62137}function Sd(r,e){let t=0,i=0,o=!1;for(const l of r.days){const u=l.event;if(!(!u||!u.dist)){if(typeof u.dist=="number"){const d=e==="mi"?u.dist:Ju(u.dist);t+=d,i+=d}else if(Array.isArray(u.dist)&&u.dist.length===2){let[d,h]=u.dist;e==="km"&&(d=Ju(d),h=Ju(h)),t+=d,i+=h,o=!0}}}return o?[t,i]:[i]}function Br(r,e,t){function i(l){return e===t?l:e==="mi"?l/.62137:l*.62137}function o(l){return Number.isInteger(l)?l.toFixed(0):l.toFixed(1)}if(Array.isArray(r)){if(r.length===1){const l=i(r[0]);return o(l)+" "+t}if(r.length===2){const[l,u]=r.map(i);return o(l)+"-"+o(u)+" "+t}}return""}let Qu=I1.compile({with_range:[{match:/{\d+-\d+:\d+-\d+}/,value:r=>r.slice(1,-1)}],with_conversion:[{match:/{\d+(?:\.\d+)?:\d+(?:\.\d+)?}/,value:r=>r.slice(1,-1)}],single:[{match:/{\d+(?:\.\d+)?}/,value:r=>r.slice(1,-1)}],text:/[^{\n}]+/,NL:{match:/\n/,lineBreaks:!0}});function yg(r,e,t){let i="";Qu.reset(r);let o=Qu.next();for(;o;){if(o.type==="single"){const l=Br([Number(o.value)],e,t);i+=l}else if(o.type==="with_conversion"){const[l,u]=o.value.split(":").map(Number),d=e===t?Br([l],e,e):Br([u],t,t);i+=d}else if(o.type==="with_range"){const[l,u]=o.value.split(":"),[d,h]=l.split("-").map(Number),[p,m]=u.split("-").map(Number),v=e===t?Br([d,h],e,e):Br([p,m],t,t);i+=v}else i+=o.value;o=Qu.next()}return i}function La(r,e,t){let i=yg(r.title,e,t),o=yg(r.desc,e,t);return[i,o]}const A1=new Intl.DateTimeFormat(navigator.language);function N1(r){return A1.format(r)}function j1(){return navigator.language==="en"||navigator.language==="en-US"?"mi":"km"}const vy=({$date:r})=>x.jsx(x.Fragment,{children:x.jsx("div",{className:"dateline",children:N1(r)})}),wy=({viewBox:r="0 0 32 52"})=>x.jsxs("svg",{className:"drag-handle",viewBox:r,children:[x.jsx("rect",{height:"4",width:"4",y:"4",x:"0"}),x.jsx("rect",{height:"4",width:"4",y:"12",x:"0"}),x.jsx("rect",{height:"4",width:"4",y:"20",x:"0"}),x.jsx("rect",{height:"4",width:"4",y:"28",x:"0"}),x.jsx("rect",{height:"4",width:"4",y:"36",x:"0"}),x.jsx("rect",{height:"4",width:"4",y:"44",x:"0"}),x.jsx("rect",{height:"4",width:"4",y:"52",x:"0"}),x.jsx("rect",{height:"4",width:"4",y:"4",x:"8"}),x.jsx("rect",{height:"4",width:"4",y:"12",x:"8"}),x.jsx("rect",{height:"4",width:"4",y:"20",x:"8"}),x.jsx("rect",{height:"4",width:"4",y:"28",x:"8"}),x.jsx("rect",{height:"4",width:"4",y:"36",x:"8"}),x.jsx("rect",{height:"4",width:"4",y:"44",x:"8"}),x.jsx("rect",{height:"4",width:"4",y:"52",x:"8"}),x.jsx("rect",{height:"4",width:"4",y:"4",x:"16"}),x.jsx("rect",{height:"4",width:"4",y:"12",x:"16"}),x.jsx("rect",{height:"4",width:"4",y:"20",x:"16"}),x.jsx("rect",{height:"4",width:"4",y:"28",x:"16"}),x.jsx("rect",{height:"4",width:"4",y:"36",x:"16"}),x.jsx("rect",{height:"4",width:"4",y:"44",x:"16"}),x.jsx("rect",{height:"4",width:"4",y:"52",x:"16"}),x.jsx("rect",{height:"4",width:"4",y:"4",x:"24"}),x.jsx("rect",{height:"4",width:"4",y:"12",x:"24"}),x.jsx("rect",{height:"4",width:"4",y:"20",x:"24"}),x.jsx("rect",{height:"4",width:"4",y:"28",x:"24"}),x.jsx("rect",{height:"4",width:"4",y:"36",x:"24"}),x.jsx("rect",{height:"4",width:"4",y:"44",x:"24"}),x.jsx("rect",{height:"4",width:"4",y:"52",x:"24"}),x.jsx("rect",{height:"4",width:"4",y:"4",x:"32"}),x.jsx("rect",{height:"4",width:"4",y:"12",x:"32"}),x.jsx("rect",{height:"4",width:"4",y:"20",x:"32"}),x.jsx("rect",{height:"4",width:"4",y:"28",x:"32"}),x.jsx("rect",{height:"4",width:"4",y:"36",x:"32"}),x.jsx("rect",{height:"4",width:"4",y:"44",x:"32"}),x.jsx("rect",{height:"4",width:"4",y:"52",x:"32"})]});function Ua(r,e){var t={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&e.indexOf(i)<0&&(t[i]=r[i]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(r);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(r,i[o])&&(t[i[o]]=r[i[o]]);return t}function M1(r,e,t,i){function o(l){return l instanceof t?l:new t(function(u){u(l)})}return new(t||(t=Promise))(function(l,u){function d(m){try{p(i.next(m))}catch(v){u(v)}}function h(m){try{p(i.throw(m))}catch(v){u(v)}}function p(m){m.done?l(m.value):o(m.value).then(d,h)}p((i=i.apply(r,e||[])).next())})}const $1=r=>r?(...e)=>r(...e):(...e)=>fetch(...e);class bd extends Error{constructor(e,t="FunctionsError",i){super(e),this.name=t,this.context=i}}class L1 extends bd{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class vg extends bd{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class wg extends bd{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Fc;(function(r){r.Any="any",r.ApNortheast1="ap-northeast-1",r.ApNortheast2="ap-northeast-2",r.ApSouth1="ap-south-1",r.ApSoutheast1="ap-southeast-1",r.ApSoutheast2="ap-southeast-2",r.CaCentral1="ca-central-1",r.EuCentral1="eu-central-1",r.EuWest1="eu-west-1",r.EuWest2="eu-west-2",r.EuWest3="eu-west-3",r.SaEast1="sa-east-1",r.UsEast1="us-east-1",r.UsWest1="us-west-1",r.UsWest2="us-west-2"})(Fc||(Fc={}));class U1{constructor(e,{headers:t={},customFetch:i,region:o=Fc.Any}={}){this.url=e,this.headers=t,this.region=o,this.fetch=$1(i)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return M1(this,arguments,void 0,function*(t,i={}){var o;let l,u;try{const{headers:d,method:h,body:p,signal:m,timeout:v}=i;let _={},{region:y}=i;y||(y=this.region);const w=new URL(`${this.url}/${t}`);y&&y!=="any"&&(_["x-region"]=y,w.searchParams.set("forceFunctionRegion",y));let b;p&&(d&&!Object.prototype.hasOwnProperty.call(d,"Content-Type")||!d)?typeof Blob<"u"&&p instanceof Blob||p instanceof ArrayBuffer?(_["Content-Type"]="application/octet-stream",b=p):typeof p=="string"?(_["Content-Type"]="text/plain",b=p):typeof FormData<"u"&&p instanceof FormData?b=p:(_["Content-Type"]="application/json",b=JSON.stringify(p)):b=p;let E=m;v&&(u=new AbortController,l=setTimeout(()=>u.abort(),v),m?(E=u.signal,m.addEventListener("abort",()=>u.abort())):E=u.signal);const k=yield this.fetch(w.toString(),{method:h||"POST",headers:Object.assign(Object.assign(Object.assign({},_),this.headers),d),body:b,signal:E}).catch(B=>{throw new L1(B)}),O=k.headers.get("x-relay-error");if(O&&O==="true")throw new vg(k);if(!k.ok)throw new wg(k);let j=((o=k.headers.get("Content-Type"))!==null&&o!==void 0?o:"text/plain").split(";")[0].trim(),H;return j==="application/json"?H=yield k.json():j==="application/octet-stream"||j==="application/pdf"?H=yield k.blob():j==="text/event-stream"?H=k:j==="multipart/form-data"?H=yield k.formData():H=yield k.text(),{data:H,error:null,response:k}}catch(d){return{data:null,error:d,response:d instanceof wg||d instanceof vg?d.context:void 0}}finally{l&&clearTimeout(l)}})}}var F1=class extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}},z1=class{constructor(r){var e,t;this.shouldThrowOnError=!1,this.method=r.method,this.url=r.url,this.headers=new Headers(r.headers),this.schema=r.schema,this.body=r.body,this.shouldThrowOnError=(e=r.shouldThrowOnError)!==null&&e!==void 0?e:!1,this.signal=r.signal,this.isMaybeSingle=(t=r.isMaybeSingle)!==null&&t!==void 0?t:!1,r.fetch?this.fetch=r.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(r,e){return this.headers=new Headers(this.headers),this.headers.set(r,e),this}then(r,e){var t=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const i=this.fetch;let o=i(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async l=>{let u=null,d=null,h=null,p=l.status,m=l.statusText;if(l.ok){var v,_;if(t.method!=="HEAD"){var y;const k=await l.text();k===""||(t.headers.get("Accept")==="text/csv"||t.headers.get("Accept")&&(!((y=t.headers.get("Accept"))===null||y===void 0)&&y.includes("application/vnd.pgrst.plan+text"))?d=k:d=JSON.parse(k))}const b=(v=t.headers.get("Prefer"))===null||v===void 0?void 0:v.match(/count=(exact|planned|estimated)/),E=(_=l.headers.get("content-range"))===null||_===void 0?void 0:_.split("/");b&&E&&E.length>1&&(h=parseInt(E[1])),t.isMaybeSingle&&t.method==="GET"&&Array.isArray(d)&&(d.length>1?(u={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,h=null,p=406,m="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{var w;const b=await l.text();try{u=JSON.parse(b),Array.isArray(u)&&l.status===404&&(d=[],u=null,p=200,m="OK")}catch{l.status===404&&b===""?(p=204,m="No Content"):u={message:b}}if(u&&t.isMaybeSingle&&(!(u==null||(w=u.details)===null||w===void 0)&&w.includes("0 rows"))&&(u=null,p=200,m="OK"),u&&t.shouldThrowOnError)throw new F1(u)}return{error:u,data:d,count:h,status:p,statusText:m}});return this.shouldThrowOnError||(o=o.catch(l=>{var u;let d="";const h=l==null?void 0:l.cause;if(h){var p,m,v,_;const w=(p=h==null?void 0:h.message)!==null&&p!==void 0?p:"",b=(m=h==null?void 0:h.code)!==null&&m!==void 0?m:"";d=`${(v=l==null?void 0:l.name)!==null&&v!==void 0?v:"FetchError"}: ${l==null?void 0:l.message}`,d+=`

Caused by: ${(_=h==null?void 0:h.name)!==null&&_!==void 0?_:"Error"}: ${w}`,b&&(d+=` (${b})`),h!=null&&h.stack&&(d+=`
${h.stack}`)}else{var y;d=(y=l==null?void 0:l.stack)!==null&&y!==void 0?y:""}return{error:{message:`${(u=l==null?void 0:l.name)!==null&&u!==void 0?u:"FetchError"}: ${l==null?void 0:l.message}`,details:d,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),o.then(r,e)}returns(){return this}overrideTypes(){return this}},B1=class extends z1{select(r){let e=!1;const t=(r??"*").split("").map(i=>/\s/.test(i)&&!e?"":(i==='"'&&(e=!e),i)).join("");return this.url.searchParams.set("select",t),this.headers.append("Prefer","return=representation"),this}order(r,{ascending:e=!0,nullsFirst:t,foreignTable:i,referencedTable:o=i}={}){const l=o?`${o}.order`:"order",u=this.url.searchParams.get(l);return this.url.searchParams.set(l,`${u?`${u},`:""}${r}.${e?"asc":"desc"}${t===void 0?"":t?".nullsfirst":".nullslast"}`),this}limit(r,{foreignTable:e,referencedTable:t=e}={}){const i=typeof t>"u"?"limit":`${t}.limit`;return this.url.searchParams.set(i,`${r}`),this}range(r,e,{foreignTable:t,referencedTable:i=t}={}){const o=typeof i>"u"?"offset":`${i}.offset`,l=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(o,`${r}`),this.url.searchParams.set(l,`${e-r+1}`),this}abortSignal(r){return this.signal=r,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:r=!1,verbose:e=!1,settings:t=!1,buffers:i=!1,wal:o=!1,format:l="text"}={}){var u;const d=[r?"analyze":null,e?"verbose":null,t?"settings":null,i?"buffers":null,o?"wal":null].filter(Boolean).join("|"),h=(u=this.headers.get("Accept"))!==null&&u!==void 0?u:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${l}; for="${h}"; options=${d};`),l==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(r){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${r}`),this}};const _g=new RegExp("[,()]");var li=class extends B1{eq(r,e){return this.url.searchParams.append(r,`eq.${e}`),this}neq(r,e){return this.url.searchParams.append(r,`neq.${e}`),this}gt(r,e){return this.url.searchParams.append(r,`gt.${e}`),this}gte(r,e){return this.url.searchParams.append(r,`gte.${e}`),this}lt(r,e){return this.url.searchParams.append(r,`lt.${e}`),this}lte(r,e){return this.url.searchParams.append(r,`lte.${e}`),this}like(r,e){return this.url.searchParams.append(r,`like.${e}`),this}likeAllOf(r,e){return this.url.searchParams.append(r,`like(all).{${e.join(",")}}`),this}likeAnyOf(r,e){return this.url.searchParams.append(r,`like(any).{${e.join(",")}}`),this}ilike(r,e){return this.url.searchParams.append(r,`ilike.${e}`),this}ilikeAllOf(r,e){return this.url.searchParams.append(r,`ilike(all).{${e.join(",")}}`),this}ilikeAnyOf(r,e){return this.url.searchParams.append(r,`ilike(any).{${e.join(",")}}`),this}regexMatch(r,e){return this.url.searchParams.append(r,`match.${e}`),this}regexIMatch(r,e){return this.url.searchParams.append(r,`imatch.${e}`),this}is(r,e){return this.url.searchParams.append(r,`is.${e}`),this}isDistinct(r,e){return this.url.searchParams.append(r,`isdistinct.${e}`),this}in(r,e){const t=Array.from(new Set(e)).map(i=>typeof i=="string"&&_g.test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(r,`in.(${t})`),this}notIn(r,e){const t=Array.from(new Set(e)).map(i=>typeof i=="string"&&_g.test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(r,`not.in.(${t})`),this}contains(r,e){return typeof e=="string"?this.url.searchParams.append(r,`cs.${e}`):Array.isArray(e)?this.url.searchParams.append(r,`cs.{${e.join(",")}}`):this.url.searchParams.append(r,`cs.${JSON.stringify(e)}`),this}containedBy(r,e){return typeof e=="string"?this.url.searchParams.append(r,`cd.${e}`):Array.isArray(e)?this.url.searchParams.append(r,`cd.{${e.join(",")}}`):this.url.searchParams.append(r,`cd.${JSON.stringify(e)}`),this}rangeGt(r,e){return this.url.searchParams.append(r,`sr.${e}`),this}rangeGte(r,e){return this.url.searchParams.append(r,`nxl.${e}`),this}rangeLt(r,e){return this.url.searchParams.append(r,`sl.${e}`),this}rangeLte(r,e){return this.url.searchParams.append(r,`nxr.${e}`),this}rangeAdjacent(r,e){return this.url.searchParams.append(r,`adj.${e}`),this}overlaps(r,e){return typeof e=="string"?this.url.searchParams.append(r,`ov.${e}`):this.url.searchParams.append(r,`ov.{${e.join(",")}}`),this}textSearch(r,e,{config:t,type:i}={}){let o="";i==="plain"?o="pl":i==="phrase"?o="ph":i==="websearch"&&(o="w");const l=t===void 0?"":`(${t})`;return this.url.searchParams.append(r,`${o}fts${l}.${e}`),this}match(r){return Object.entries(r).forEach(([e,t])=>{this.url.searchParams.append(e,`eq.${t}`)}),this}not(r,e,t){return this.url.searchParams.append(r,`not.${e}.${t}`),this}or(r,{foreignTable:e,referencedTable:t=e}={}){const i=t?`${t}.or`:"or";return this.url.searchParams.append(i,`(${r})`),this}filter(r,e,t){return this.url.searchParams.append(r,`${e}.${t}`),this}},W1=class{constructor(r,{headers:e={},schema:t,fetch:i}){this.url=r,this.headers=new Headers(e),this.schema=t,this.fetch=i}select(r,e){const{head:t=!1,count:i}=e??{},o=t?"HEAD":"GET";let l=!1;const u=(r??"*").split("").map(d=>/\s/.test(d)&&!l?"":(d==='"'&&(l=!l),d)).join("");return this.url.searchParams.set("select",u),i&&this.headers.append("Prefer",`count=${i}`),new li({method:o,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(r,{count:e,defaultToNull:t=!0}={}){var i;const o="POST";if(e&&this.headers.append("Prefer",`count=${e}`),t||this.headers.append("Prefer","missing=default"),Array.isArray(r)){const l=r.reduce((u,d)=>u.concat(Object.keys(d)),[]);if(l.length>0){const u=[...new Set(l)].map(d=>`"${d}"`);this.url.searchParams.set("columns",u.join(","))}}return new li({method:o,url:this.url,headers:this.headers,schema:this.schema,body:r,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}upsert(r,{onConflict:e,ignoreDuplicates:t=!1,count:i,defaultToNull:o=!0}={}){var l;const u="POST";if(this.headers.append("Prefer",`resolution=${t?"ignore":"merge"}-duplicates`),e!==void 0&&this.url.searchParams.set("on_conflict",e),i&&this.headers.append("Prefer",`count=${i}`),o||this.headers.append("Prefer","missing=default"),Array.isArray(r)){const d=r.reduce((h,p)=>h.concat(Object.keys(p)),[]);if(d.length>0){const h=[...new Set(d)].map(p=>`"${p}"`);this.url.searchParams.set("columns",h.join(","))}}return new li({method:u,url:this.url,headers:this.headers,schema:this.schema,body:r,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}update(r,{count:e}={}){var t;const i="PATCH";return e&&this.headers.append("Prefer",`count=${e}`),new li({method:i,url:this.url,headers:this.headers,schema:this.schema,body:r,fetch:(t=this.fetch)!==null&&t!==void 0?t:fetch})}delete({count:r}={}){var e;const t="DELETE";return r&&this.headers.append("Prefer",`count=${r}`),new li({method:t,url:this.url,headers:this.headers,schema:this.schema,fetch:(e=this.fetch)!==null&&e!==void 0?e:fetch})}},H1=class _y{constructor(e,{headers:t={},schema:i,fetch:o}={}){this.url=e,this.headers=new Headers(t),this.schemaName=i,this.fetch=o}from(e){if(!e||typeof e!="string"||e.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new W1(new URL(`${this.url}/${e}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new _y(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,t={},{head:i=!1,get:o=!1,count:l}={}){var u;let d;const h=new URL(`${this.url}/rpc/${e}`);let p;i||o?(d=i?"HEAD":"GET",Object.entries(t).filter(([v,_])=>_!==void 0).map(([v,_])=>[v,Array.isArray(_)?`{${_.join(",")}}`:`${_}`]).forEach(([v,_])=>{h.searchParams.append(v,_)})):(d="POST",p=t);const m=new Headers(this.headers);return l&&m.set("Prefer",`count=${l}`),new li({method:d,url:h,headers:m,schema:this.schemaName,body:p,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}};class q1{constructor(){}static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const t=process.versions;if(t&&t.node){const i=t.node,o=parseInt(i.replace(/^v/,"").split(".")[0]);return o>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${o} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${o} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let t=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(t+=`

Suggested solution: ${e.workaround}`),new Error(t)}static createWebSocket(e,t){const i=this.getWebSocketConstructor();return new i(e,t)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const V1="2.89.0",G1=`realtime-js/${V1}`,Sy="1.0.0",K1="2.0.0",Sg=Sy,zc=1e4,Y1=1e3,J1=100;var zr;(function(r){r[r.connecting=0]="connecting",r[r.open=1]="open",r[r.closing=2]="closing",r[r.closed=3]="closed"})(zr||(zr={}));var Ge;(function(r){r.closed="closed",r.errored="errored",r.joined="joined",r.joining="joining",r.leaving="leaving"})(Ge||(Ge={}));var Vt;(function(r){r.close="phx_close",r.error="phx_error",r.join="phx_join",r.reply="phx_reply",r.leave="phx_leave",r.access_token="access_token"})(Vt||(Vt={}));var Bc;(function(r){r.websocket="websocket"})(Bc||(Bc={}));var vn;(function(r){r.Connecting="connecting",r.Open="open",r.Closing="closing",r.Closed="closed"})(vn||(vn={}));class Q1{constructor(e){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=e??[]}encode(e,t){if(e.event===this.BROADCAST_EVENT&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event=="string")return t(this._binaryEncodeUserBroadcastPush(e));let i=[e.join_ref,e.ref,e.topic,e.event,e.payload];return t(JSON.stringify(i))}_binaryEncodeUserBroadcastPush(e){var t;return this._isArrayBuffer((t=e.payload)===null||t===void 0?void 0:t.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var t,i;const o=(i=(t=e.payload)===null||t===void 0?void 0:t.payload)!==null&&i!==void 0?i:new ArrayBuffer(0);return this._encodeUserBroadcastPush(e,this.BINARY_ENCODING,o)}_encodeJsonUserBroadcastPush(e){var t,i;const o=(i=(t=e.payload)===null||t===void 0?void 0:t.payload)!==null&&i!==void 0?i:{},u=new TextEncoder().encode(JSON.stringify(o)).buffer;return this._encodeUserBroadcastPush(e,this.JSON_ENCODING,u)}_encodeUserBroadcastPush(e,t,i){var o,l;const u=e.topic,d=(o=e.ref)!==null&&o!==void 0?o:"",h=(l=e.join_ref)!==null&&l!==void 0?l:"",p=e.payload.event,m=this.allowedMetadataKeys?this._pick(e.payload,this.allowedMetadataKeys):{},v=Object.keys(m).length===0?"":JSON.stringify(m);if(h.length>255)throw new Error(`joinRef length ${h.length} exceeds maximum of 255`);if(d.length>255)throw new Error(`ref length ${d.length} exceeds maximum of 255`);if(u.length>255)throw new Error(`topic length ${u.length} exceeds maximum of 255`);if(p.length>255)throw new Error(`userEvent length ${p.length} exceeds maximum of 255`);if(v.length>255)throw new Error(`metadata length ${v.length} exceeds maximum of 255`);const _=this.USER_BROADCAST_PUSH_META_LENGTH+h.length+d.length+u.length+p.length+v.length,y=new ArrayBuffer(this.HEADER_LENGTH+_);let w=new DataView(y),b=0;w.setUint8(b++,this.KINDS.userBroadcastPush),w.setUint8(b++,h.length),w.setUint8(b++,d.length),w.setUint8(b++,u.length),w.setUint8(b++,p.length),w.setUint8(b++,v.length),w.setUint8(b++,t),Array.from(h,k=>w.setUint8(b++,k.charCodeAt(0))),Array.from(d,k=>w.setUint8(b++,k.charCodeAt(0))),Array.from(u,k=>w.setUint8(b++,k.charCodeAt(0))),Array.from(p,k=>w.setUint8(b++,k.charCodeAt(0))),Array.from(v,k=>w.setUint8(b++,k.charCodeAt(0)));var E=new Uint8Array(y.byteLength+i.byteLength);return E.set(new Uint8Array(y),0),E.set(new Uint8Array(i),y.byteLength),E.buffer}decode(e,t){if(this._isArrayBuffer(e)){let i=this._binaryDecode(e);return t(i)}if(typeof e=="string"){const i=JSON.parse(e),[o,l,u,d,h]=i;return t({join_ref:o,ref:l,topic:u,event:d,payload:h})}return t({})}_binaryDecode(e){const t=new DataView(e),i=t.getUint8(0),o=new TextDecoder;switch(i){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(e,t,o)}}_decodeUserBroadcast(e,t,i){const o=t.getUint8(1),l=t.getUint8(2),u=t.getUint8(3),d=t.getUint8(4);let h=this.HEADER_LENGTH+4;const p=i.decode(e.slice(h,h+o));h=h+o;const m=i.decode(e.slice(h,h+l));h=h+l;const v=i.decode(e.slice(h,h+u));h=h+u;const _=e.slice(h,e.byteLength),y=d===this.JSON_ENCODING?JSON.parse(i.decode(_)):_,w={type:this.BROADCAST_EVENT,event:m,payload:y};return u>0&&(w.meta=JSON.parse(v)),{join_ref:null,ref:null,topic:p,event:this.BROADCAST_EVENT,payload:w}}_isArrayBuffer(e){var t;return e instanceof ArrayBuffer||((t=e==null?void 0:e.constructor)===null||t===void 0?void 0:t.name)==="ArrayBuffer"}_pick(e,t){return!e||typeof e!="object"?{}:Object.fromEntries(Object.entries(e).filter(([i])=>t.includes(i)))}}class by{constructor(e,t){this.callback=e,this.timerCalc=t,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=t}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var De;(function(r){r.abstime="abstime",r.bool="bool",r.date="date",r.daterange="daterange",r.float4="float4",r.float8="float8",r.int2="int2",r.int4="int4",r.int4range="int4range",r.int8="int8",r.int8range="int8range",r.json="json",r.jsonb="jsonb",r.money="money",r.numeric="numeric",r.oid="oid",r.reltime="reltime",r.text="text",r.time="time",r.timestamp="timestamp",r.timestamptz="timestamptz",r.timetz="timetz",r.tsrange="tsrange",r.tstzrange="tstzrange"})(De||(De={}));const bg=(r,e,t={})=>{var i;const o=(i=t.skipTypes)!==null&&i!==void 0?i:[];return e?Object.keys(e).reduce((l,u)=>(l[u]=X1(u,r,e,o),l),{}):{}},X1=(r,e,t,i)=>{const o=e.find(d=>d.name===r),l=o==null?void 0:o.type,u=t[r];return l&&!i.includes(l)?Ey(l,u):Wc(u)},Ey=(r,e)=>{if(r.charAt(0)==="_"){const t=r.slice(1,r.length);return rk(e,t)}switch(r){case De.bool:return Z1(e);case De.float4:case De.float8:case De.int2:case De.int4:case De.int8:case De.numeric:case De.oid:return ek(e);case De.json:case De.jsonb:return tk(e);case De.timestamp:return nk(e);case De.abstime:case De.date:case De.daterange:case De.int4range:case De.int8range:case De.money:case De.reltime:case De.text:case De.time:case De.timestamptz:case De.timetz:case De.tsrange:case De.tstzrange:return Wc(e);default:return Wc(e)}},Wc=r=>r,Z1=r=>{switch(r){case"t":return!0;case"f":return!1;default:return r}},ek=r=>{if(typeof r=="string"){const e=parseFloat(r);if(!Number.isNaN(e))return e}return r},tk=r=>{if(typeof r=="string")try{return JSON.parse(r)}catch{return r}return r},rk=(r,e)=>{if(typeof r!="string")return r;const t=r.length-1,i=r[t];if(r[0]==="{"&&i==="}"){let l;const u=r.slice(1,t);try{l=JSON.parse("["+u+"]")}catch{l=u?u.split(","):[]}return l.map(d=>Ey(e,d))}return r},nk=r=>typeof r=="string"?r.replace(" ","T"):r,ky=r=>{const e=new URL(r);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class Xu{constructor(e,t,i={},o=zc){this.channel=e,this.event=t,this.payload=i,this.timeout=o,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,t){var i;return this._hasReceived(e)&&t((i=this.receivedResp)===null||i===void 0?void 0:i.response),this.recHooks.push({status:e,callback:t}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=t=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=t,this._matchReceive(t)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,t){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:t})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:t}){this.recHooks.filter(i=>i.status===e).forEach(i=>i.callback(t))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var Eg;(function(r){r.SYNC="sync",r.JOIN="join",r.LEAVE="leave"})(Eg||(Eg={}));class ys{constructor(e,t){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const i=(t==null?void 0:t.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(i.state,{},o=>{const{onJoin:l,onLeave:u,onSync:d}=this.caller;this.joinRef=this.channel._joinRef(),this.state=ys.syncState(this.state,o,l,u),this.pendingDiffs.forEach(h=>{this.state=ys.syncDiff(this.state,h,l,u)}),this.pendingDiffs=[],d()}),this.channel._on(i.diff,{},o=>{const{onJoin:l,onLeave:u,onSync:d}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(o):(this.state=ys.syncDiff(this.state,o,l,u),d())}),this.onJoin((o,l,u)=>{this.channel._trigger("presence",{event:"join",key:o,currentPresences:l,newPresences:u})}),this.onLeave((o,l,u)=>{this.channel._trigger("presence",{event:"leave",key:o,currentPresences:l,leftPresences:u})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,t,i,o){const l=this.cloneDeep(e),u=this.transformState(t),d={},h={};return this.map(l,(p,m)=>{u[p]||(h[p]=m)}),this.map(u,(p,m)=>{const v=l[p];if(v){const _=m.map(E=>E.presence_ref),y=v.map(E=>E.presence_ref),w=m.filter(E=>y.indexOf(E.presence_ref)<0),b=v.filter(E=>_.indexOf(E.presence_ref)<0);w.length>0&&(d[p]=w),b.length>0&&(h[p]=b)}else d[p]=m}),this.syncDiff(l,{joins:d,leaves:h},i,o)}static syncDiff(e,t,i,o){const{joins:l,leaves:u}={joins:this.transformState(t.joins),leaves:this.transformState(t.leaves)};return i||(i=()=>{}),o||(o=()=>{}),this.map(l,(d,h)=>{var p;const m=(p=e[d])!==null&&p!==void 0?p:[];if(e[d]=this.cloneDeep(h),m.length>0){const v=e[d].map(y=>y.presence_ref),_=m.filter(y=>v.indexOf(y.presence_ref)<0);e[d].unshift(..._)}i(d,m,h)}),this.map(u,(d,h)=>{let p=e[d];if(!p)return;const m=h.map(v=>v.presence_ref);p=p.filter(v=>m.indexOf(v.presence_ref)<0),e[d]=p,o(d,p,h),p.length===0&&delete e[d]}),e}static map(e,t){return Object.getOwnPropertyNames(e).map(i=>t(i,e[i]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((t,i)=>{const o=e[i];return"metas"in o?t[i]=o.metas.map(l=>(l.presence_ref=l.phx_ref,delete l.phx_ref,delete l.phx_ref_prev,l)):t[i]=o,t},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var kg;(function(r){r.ALL="*",r.INSERT="INSERT",r.UPDATE="UPDATE",r.DELETE="DELETE"})(kg||(kg={}));var vs;(function(r){r.BROADCAST="broadcast",r.PRESENCE="presence",r.POSTGRES_CHANGES="postgres_changes",r.SYSTEM="system"})(vs||(vs={}));var gr;(function(r){r.SUBSCRIBED="SUBSCRIBED",r.TIMED_OUT="TIMED_OUT",r.CLOSED="CLOSED",r.CHANNEL_ERROR="CHANNEL_ERROR"})(gr||(gr={}));class di{constructor(e,t={config:{}},i){var o,l;if(this.topic=e,this.params=t,this.socket=i,this.bindings={},this.state=Ge.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},t.config),this.timeout=this.socket.timeout,this.joinPush=new Xu(this,Vt.join,this.params,this.timeout),this.rejoinTimer=new by(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Ge.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(u=>u.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Ge.closed,this.socket._remove(this)}),this._onError(u=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,u),this.state=Ge.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Ge.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",u=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,u),this.state=Ge.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Vt.reply,{},(u,d)=>{this._trigger(this._replyEventName(d),u)}),this.presence=new ys(this),this.broadcastEndpointURL=ky(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((l=(o=this.params.config)===null||o===void 0?void 0:o.broadcast)===null||l===void 0)&&l.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,t=this.timeout){var i,o,l;if(this.socket.isConnected()||this.socket.connect(),this.state==Ge.closed){const{config:{broadcast:u,presence:d,private:h}}=this.params,p=(o=(i=this.bindings.postgres_changes)===null||i===void 0?void 0:i.map(y=>y.filter))!==null&&o!==void 0?o:[],m=!!this.bindings[vs.PRESENCE]&&this.bindings[vs.PRESENCE].length>0||((l=this.params.config.presence)===null||l===void 0?void 0:l.enabled)===!0,v={},_={broadcast:u,presence:Object.assign(Object.assign({},d),{enabled:m}),postgres_changes:p,private:h};this.socket.accessTokenValue&&(v.access_token=this.socket.accessTokenValue),this._onError(y=>e==null?void 0:e(gr.CHANNEL_ERROR,y)),this._onClose(()=>e==null?void 0:e(gr.CLOSED)),this.updateJoinPayload(Object.assign({config:_},v)),this.joinedOnce=!0,this._rejoin(t),this.joinPush.receive("ok",async({postgres_changes:y})=>{var w;if(this.socket._isManualToken()||this.socket.setAuth(),y===void 0){e==null||e(gr.SUBSCRIBED);return}else{const b=this.bindings.postgres_changes,E=(w=b==null?void 0:b.length)!==null&&w!==void 0?w:0,k=[];for(let O=0;O<E;O++){const j=b[O],{filter:{event:H,schema:B,table:U,filter:$}}=j,Y=y&&y[O];if(Y&&Y.event===H&&di.isFilterValueEqual(Y.schema,B)&&di.isFilterValueEqual(Y.table,U)&&di.isFilterValueEqual(Y.filter,$))k.push(Object.assign(Object.assign({},j),{id:Y.id}));else{this.unsubscribe(),this.state=Ge.errored,e==null||e(gr.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=k,e&&e(gr.SUBSCRIBED);return}}).receive("error",y=>{this.state=Ge.errored,e==null||e(gr.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(y).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(gr.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,t={}){return await this.send({type:"presence",event:"track",payload:e},t.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,t,i){return this.state===Ge.joined&&e===vs.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(e,t,i)}async httpSend(e,t,i={}){var o;if(t==null)return Promise.reject("Payload is required for httpSend()");const l={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(l.Authorization=`Bearer ${this.socket.accessTokenValue}`);const u={method:"POST",headers:l,body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:t,private:this.private}]})},d=await this._fetchWithTimeout(this.broadcastEndpointURL,u,(o=i.timeout)!==null&&o!==void 0?o:this.timeout);if(d.status===202)return{success:!0};let h=d.statusText;try{const p=await d.json();h=p.error||p.message||h}catch{}return Promise.reject(new Error(h))}async send(e,t={}){var i,o;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:l,payload:u}=e,d={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(d.Authorization=`Bearer ${this.socket.accessTokenValue}`);const h={method:"POST",headers:d,body:JSON.stringify({messages:[{topic:this.subTopic,event:l,payload:u,private:this.private}]})};try{const p=await this._fetchWithTimeout(this.broadcastEndpointURL,h,(i=t.timeout)!==null&&i!==void 0?i:this.timeout);return await((o=p.body)===null||o===void 0?void 0:o.cancel()),p.ok?"ok":"error"}catch(p){return p.name==="AbortError"?"timed out":"error"}}else return new Promise(l=>{var u,d,h;const p=this._push(e.type,e,t.timeout||this.timeout);e.type==="broadcast"&&!(!((h=(d=(u=this.params)===null||u===void 0?void 0:u.config)===null||d===void 0?void 0:d.broadcast)===null||h===void 0)&&h.ack)&&l("ok"),p.receive("ok",()=>l("ok")),p.receive("error",()=>l("error")),p.receive("timeout",()=>l("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Ge.leaving;const t=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Vt.close,"leave",this._joinRef())};this.joinPush.destroy();let i=null;return new Promise(o=>{i=new Xu(this,Vt.leave,{},e),i.receive("ok",()=>{t(),o("ok")}).receive("timeout",()=>{t(),o("timed out")}).receive("error",()=>{o("error")}),i.send(),this._canPush()||i.trigger("ok",{})}).finally(()=>{i==null||i.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Ge.closed,this.bindings={}}async _fetchWithTimeout(e,t,i){const o=new AbortController,l=setTimeout(()=>o.abort(),i),u=await this.socket.fetch(e,Object.assign(Object.assign({},t),{signal:o.signal}));return clearTimeout(l),u}_push(e,t,i=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let o=new Xu(this,e,t,i);return this._canPush()?o.send():this._addToPushBuffer(o),o}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>J1){const t=this.pushBuffer.shift();t&&(t.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${t.event}`,t.payload))}}_onMessage(e,t,i){return t}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,t,i){var o,l;const u=e.toLocaleLowerCase(),{close:d,error:h,leave:p,join:m}=Vt;if(i&&[d,h,p,m].indexOf(u)>=0&&i!==this._joinRef())return;let _=this._onMessage(u,t,i);if(t&&!_)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(u)?(o=this.bindings.postgres_changes)===null||o===void 0||o.filter(y=>{var w,b,E;return((w=y.filter)===null||w===void 0?void 0:w.event)==="*"||((E=(b=y.filter)===null||b===void 0?void 0:b.event)===null||E===void 0?void 0:E.toLocaleLowerCase())===u}).map(y=>y.callback(_,i)):(l=this.bindings[u])===null||l===void 0||l.filter(y=>{var w,b,E,k,O,j;if(["broadcast","presence","postgres_changes"].includes(u))if("id"in y){const H=y.id,B=(w=y.filter)===null||w===void 0?void 0:w.event;return H&&((b=t.ids)===null||b===void 0?void 0:b.includes(H))&&(B==="*"||(B==null?void 0:B.toLocaleLowerCase())===((E=t.data)===null||E===void 0?void 0:E.type.toLocaleLowerCase()))}else{const H=(O=(k=y==null?void 0:y.filter)===null||k===void 0?void 0:k.event)===null||O===void 0?void 0:O.toLocaleLowerCase();return H==="*"||H===((j=t==null?void 0:t.event)===null||j===void 0?void 0:j.toLocaleLowerCase())}else return y.type.toLocaleLowerCase()===u}).map(y=>{if(typeof _=="object"&&"ids"in _){const w=_.data,{schema:b,table:E,commit_timestamp:k,type:O,errors:j}=w;_=Object.assign(Object.assign({},{schema:b,table:E,commit_timestamp:k,eventType:O,new:{},old:{},errors:j}),this._getPayloadRecords(w))}y.callback(_,i)})}_isClosed(){return this.state===Ge.closed}_isJoined(){return this.state===Ge.joined}_isJoining(){return this.state===Ge.joining}_isLeaving(){return this.state===Ge.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,t,i){const o=e.toLocaleLowerCase(),l={type:o,filter:t,callback:i};return this.bindings[o]?this.bindings[o].push(l):this.bindings[o]=[l],this}_off(e,t){const i=e.toLocaleLowerCase();return this.bindings[i]&&(this.bindings[i]=this.bindings[i].filter(o=>{var l;return!(((l=o.type)===null||l===void 0?void 0:l.toLocaleLowerCase())===i&&di.isEqual(o.filter,t))})),this}static isEqual(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const i in e)if(e[i]!==t[i])return!1;return!0}static isFilterValueEqual(e,t){return(e??void 0)===(t??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Vt.close,{},e)}_onError(e){this._on(Vt.error,{},t=>e(t))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Ge.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const t={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(t.new=bg(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(t.old=bg(e.columns,e.old_record)),t}}const Zu=()=>{},Vo={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},ik=[1e3,2e3,5e3,1e4],sk=1e4,ok=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class ak{constructor(e,t){var i;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=zc,this.transport=null,this.heartbeatIntervalMs=Vo.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Zu,this.ref=0,this.reconnectTimer=null,this.vsn=Sg,this.logger=Zu,this.conn=null,this.sendBuffer=[],this.serializer=new Q1,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=o=>o?(...l)=>o(...l):(...l)=>fetch(...l),!(!((i=t==null?void 0:t.params)===null||i===void 0)&&i.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=t.params.apikey,this.endPoint=`${e}/${Bc.websocket}`,this.httpEndpoint=ky(e),this._initializeOptions(t),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(t==null?void 0:t.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=q1.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const t=e.message;throw t.includes("Node.js")?new Error(`${t}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${t}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,t){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const i=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(i),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(e?this.conn.close(e,t??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const t=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),t}async removeAllChannels(){const e=await Promise.all(this.channels.map(t=>t.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,t,i){this.logger(e,t,i)}connectionState(){switch(this.conn&&this.conn.readyState){case zr.connecting:return vn.Connecting;case zr.open:return vn.Open;case zr.closing:return vn.Closing;default:return vn.Closed}}isConnected(){return this.connectionState()===vn.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,t={config:{}}){const i=`realtime:${e}`,o=this.getChannels().find(l=>l.topic===i);if(o)return o;{const l=new di(`realtime:${e}`,t,this);return this.channels.push(l),l}}push(e){const{topic:t,event:i,payload:o,ref:l}=e,u=()=>{this.encode(e,d=>{var h;(h=this.conn)===null||h===void 0||h.send(d)})};this.log("push",`${t} ${i} (${l})`,o),this.isConnected()?u():this.sendBuffer.push(u)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(t){this.log("error","error in heartbeat callback",t)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(t){this.log("error","error in heartbeat callback",t)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(Y1,"heartbeat timeout"),setTimeout(()=>{var t;this.isConnected()||(t=this.reconnectTimer)===null||t===void 0||t.scheduleTimeout()},Vo.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(t){this.log("error","error in heartbeat callback",t)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let t=this.channels.find(i=>i.topic===e&&(i._isJoined()||i._isJoining()));t&&(this.log("transport",`leaving duplicate topic "${e}"`),t.unsubscribe())}_remove(e){this.channels=this.channels.filter(t=>t.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,t=>{if(t.topic==="phoenix"&&t.event==="phx_reply")try{this.heartbeatCallback(t.payload.status==="ok"?"ok":"error")}catch(p){this.log("error","error in heartbeat callback",p)}t.ref&&t.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:i,event:o,payload:l,ref:u}=t,d=u?`(${u})`:"",h=l.status||"";this.log("receive",`${h} ${i} ${o} ${d}`.trim(),l),this.channels.filter(p=>p._isMember(i)).forEach(p=>p._trigger(o,l,u)),this._triggerStateCallbacks("message",t)})}_clearTimer(e){var t;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((t=this.reconnectTimer)===null||t===void 0||t.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e),this.conn.readyState===zr.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===zr.open||this.conn.readyState===zr.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(t=>{this.log("error","error waiting for auth on connect",t),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=t=>{this.log("worker","worker error",t.message),this._terminateWorker()},this.workerRef.onmessage=t=>{t.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(e){var t;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(t=this.reconnectTimer)===null||t===void 0||t.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(Vt.error))}_appendParams(e,t){if(Object.keys(t).length===0)return e;const i=e.match(/\?/)?"&":"?",o=new URLSearchParams(t);return`${e}${i}${o}`}_workerObjectUrl(e){let t;if(e)t=e;else{const i=new Blob([ok],{type:"application/javascript"});t=URL.createObjectURL(i)}return t}_setConnectionState(e,t=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=t)}async _performAuth(e=null){let t,i=!1;if(e)t=e,i=!0;else if(this.accessToken)try{t=await this.accessToken()}catch(o){this.log("error","Error fetching access token from callback",o),t=this.accessTokenValue}else t=this.accessTokenValue;i?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=t&&(this.accessTokenValue=t,this.channels.forEach(o=>{const l={access_token:t,version:G1};t&&o.updateJoinPayload(l),o.joinedOnce&&o._isJoined()&&o._push(Vt.access_token,{access_token:t})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this._isManualToken()||this.setAuth().catch(t=>{this.log("error",`Error setting auth in ${e}`,t)})}_triggerStateCallbacks(e,t){try{this.stateChangeCallbacks[e].forEach(i=>{try{i(t)}catch(o){this.log("error",`error in ${e} callback`,o)}})}catch(i){this.log("error",`error triggering ${e} callbacks`,i)}}_setupReconnectionTimer(){this.reconnectTimer=new by(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Vo.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var t,i,o,l,u,d,h,p,m,v,_,y;switch(this.transport=(t=e==null?void 0:e.transport)!==null&&t!==void 0?t:null,this.timeout=(i=e==null?void 0:e.timeout)!==null&&i!==void 0?i:zc,this.heartbeatIntervalMs=(o=e==null?void 0:e.heartbeatIntervalMs)!==null&&o!==void 0?o:Vo.HEARTBEAT_INTERVAL,this.worker=(l=e==null?void 0:e.worker)!==null&&l!==void 0?l:!1,this.accessToken=(u=e==null?void 0:e.accessToken)!==null&&u!==void 0?u:null,this.heartbeatCallback=(d=e==null?void 0:e.heartbeatCallback)!==null&&d!==void 0?d:Zu,this.vsn=(h=e==null?void 0:e.vsn)!==null&&h!==void 0?h:Sg,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(p=e==null?void 0:e.reconnectAfterMs)!==null&&p!==void 0?p:w=>ik[w-1]||sk,this.vsn){case Sy:this.encode=(m=e==null?void 0:e.encode)!==null&&m!==void 0?m:(w,b)=>b(JSON.stringify(w)),this.decode=(v=e==null?void 0:e.decode)!==null&&v!==void 0?v:(w,b)=>b(JSON.parse(w));break;case K1:this.encode=(_=e==null?void 0:e.encode)!==null&&_!==void 0?_:this.serializer.encode.bind(this.serializer),this.decode=(y=e==null?void 0:e.decode)!==null&&y!==void 0?y:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}var Ss=class extends Error{constructor(r,e){var t;super(r),this.name="IcebergError",this.status=e.status,this.icebergType=e.icebergType,this.icebergCode=e.icebergCode,this.details=e.details,this.isCommitStateUnknown=e.icebergType==="CommitStateUnknownException"||[500,502,504].includes(e.status)&&((t=e.icebergType)==null?void 0:t.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function lk(r,e,t){const i=new URL(e,r);if(t)for(const[o,l]of Object.entries(t))l!==void 0&&i.searchParams.set(o,l);return i.toString()}async function uk(r){return!r||r.type==="none"?{}:r.type==="bearer"?{Authorization:`Bearer ${r.token}`}:r.type==="header"?{[r.name]:r.value}:r.type==="custom"?await r.getHeaders():{}}function ck(r){const e=r.fetchImpl??globalThis.fetch;return{async request({method:t,path:i,query:o,body:l,headers:u}){const d=lk(r.baseUrl,i,o),h=await uk(r.auth),p=await e(d,{method:t,headers:{...l?{"Content-Type":"application/json"}:{},...h,...u},body:l?JSON.stringify(l):void 0}),m=await p.text(),v=(p.headers.get("content-type")||"").includes("application/json"),_=v&&m?JSON.parse(m):m;if(!p.ok){const y=v?_:void 0,w=y==null?void 0:y.error;throw new Ss((w==null?void 0:w.message)??`Request failed with status ${p.status}`,{status:p.status,icebergType:w==null?void 0:w.type,icebergCode:w==null?void 0:w.code,details:y})}return{status:p.status,headers:p.headers,data:_}}}}function Go(r){return r.join("")}var dk=class{constructor(r,e=""){this.client=r,this.prefix=e}async listNamespaces(r){const e=r?{parent:Go(r.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:e})).data.namespaces.map(i=>({namespace:i}))}async createNamespace(r,e){const t={namespace:r.namespace,properties:e==null?void 0:e.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:t})).data}async dropNamespace(r){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Go(r.namespace)}`})}async loadNamespaceMetadata(r){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Go(r.namespace)}`})).data.properties}}async namespaceExists(r){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Go(r.namespace)}`}),!0}catch(e){if(e instanceof Ss&&e.status===404)return!1;throw e}}async createNamespaceIfNotExists(r,e){try{return await this.createNamespace(r,e)}catch(t){if(t instanceof Ss&&t.status===409)return;throw t}}};function Zn(r){return r.join("")}var hk=class{constructor(r,e="",t){this.client=r,this.prefix=e,this.accessDelegation=t}async listTables(r){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Zn(r.namespace)}/tables`})).data.identifiers}async createTable(r,e){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Zn(r.namespace)}/tables`,body:e,headers:t})).data.metadata}async updateTable(r,e){const t=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Zn(r.namespace)}/tables/${r.name}`,body:e});return{"metadata-location":t.data["metadata-location"],metadata:t.data.metadata}}async dropTable(r,e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Zn(r.namespace)}/tables/${r.name}`,query:{purgeRequested:String((e==null?void 0:e.purge)??!1)}})}async loadTable(r){const e={};return this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Zn(r.namespace)}/tables/${r.name}`,headers:e})).data.metadata}async tableExists(r){const e={};this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Zn(r.namespace)}/tables/${r.name}`,headers:e}),!0}catch(t){if(t instanceof Ss&&t.status===404)return!1;throw t}}async createTableIfNotExists(r,e){try{return await this.createTable(r,e)}catch(t){if(t instanceof Ss&&t.status===409)return await this.loadTable({namespace:r.namespace,name:e.name});throw t}}},fk=class{constructor(r){var i;let e="v1";r.catalogName&&(e+=`/${r.catalogName}`);const t=r.baseUrl.endsWith("/")?r.baseUrl:`${r.baseUrl}/`;this.client=ck({baseUrl:t,auth:r.auth,fetchImpl:r.fetch}),this.accessDelegation=(i=r.accessDelegation)==null?void 0:i.join(","),this.namespaceOps=new dk(this.client,e),this.tableOps=new hk(this.client,e,this.accessDelegation)}async listNamespaces(r){return this.namespaceOps.listNamespaces(r)}async createNamespace(r,e){return this.namespaceOps.createNamespace(r,e)}async dropNamespace(r){await this.namespaceOps.dropNamespace(r)}async loadNamespaceMetadata(r){return this.namespaceOps.loadNamespaceMetadata(r)}async listTables(r){return this.tableOps.listTables(r)}async createTable(r,e){return this.tableOps.createTable(r,e)}async updateTable(r,e){return this.tableOps.updateTable(r,e)}async dropTable(r,e){await this.tableOps.dropTable(r,e)}async loadTable(r){return this.tableOps.loadTable(r)}async namespaceExists(r){return this.namespaceOps.namespaceExists(r)}async tableExists(r){return this.tableOps.tableExists(r)}async createNamespaceIfNotExists(r,e){return this.namespaceOps.createNamespaceIfNotExists(r,e)}async createTableIfNotExists(r,e){return this.tableOps.createTableIfNotExists(r,e)}},Fa=class extends Error{constructor(r){super(r),this.__isStorageError=!0,this.name="StorageError"}};function $e(r){return typeof r=="object"&&r!==null&&"__isStorageError"in r}var pk=class extends Fa{constructor(r,e,t){super(r),this.name="StorageApiError",this.status=e,this.statusCode=t}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},Hc=class extends Fa{constructor(r,e){super(r),this.name="StorageUnknownError",this.originalError=e}};const Ed=r=>r?(...e)=>r(...e):(...e)=>fetch(...e),gk=()=>Response,qc=r=>{if(Array.isArray(r))return r.map(t=>qc(t));if(typeof r=="function"||r!==Object(r))return r;const e={};return Object.entries(r).forEach(([t,i])=>{const o=t.replace(/([-_][a-z])/gi,l=>l.toUpperCase().replace(/[-_]/g,""));e[o]=qc(i)}),e},mk=r=>{if(typeof r!="object"||r===null)return!1;const e=Object.getPrototypeOf(r);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in r)&&!(Symbol.iterator in r)},yk=r=>!r||typeof r!="string"||r.length===0||r.length>100||r.trim()!==r||r.includes("/")||r.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(r);function bs(r){"@babel/helpers - typeof";return bs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bs(r)}function vk(r,e){if(bs(r)!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var i=t.call(r,e||"default");if(bs(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function wk(r){var e=vk(r,"string");return bs(e)=="symbol"?e:e+""}function _k(r,e,t){return(e=wk(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function xg(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(r);e&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(r,o).enumerable})),t.push.apply(t,i)}return t}function ge(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?xg(Object(t),!0).forEach(function(i){_k(r,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):xg(Object(t)).forEach(function(i){Object.defineProperty(r,i,Object.getOwnPropertyDescriptor(t,i))})}return r}const ec=r=>{var e;return r.msg||r.message||r.error_description||(typeof r.error=="string"?r.error:(e=r.error)===null||e===void 0?void 0:e.message)||JSON.stringify(r)},Sk=async(r,e,t)=>{r instanceof await gk()&&!(t!=null&&t.noResolveJson)?r.json().then(i=>{const o=r.status||500,l=(i==null?void 0:i.statusCode)||o+"";e(new pk(ec(i),o,l))}).catch(i=>{e(new Hc(ec(i),i))}):e(new Hc(ec(r),r))},bk=(r,e,t,i)=>{const o={method:r,headers:(e==null?void 0:e.headers)||{}};return r==="GET"||!i?o:(mk(i)?(o.headers=ge({"Content-Type":"application/json"},e==null?void 0:e.headers),o.body=JSON.stringify(i)):o.body=i,e!=null&&e.duplex&&(o.duplex=e.duplex),ge(ge({},o),t))};async function Ds(r,e,t,i,o,l){return new Promise((u,d)=>{r(t,bk(e,i,o,l)).then(h=>{if(!h.ok)throw h;return i!=null&&i.noResolveJson?h:h.json()}).then(h=>u(h)).catch(h=>Sk(h,d,i))})}async function Es(r,e,t,i){return Ds(r,"GET",e,t,i)}async function qt(r,e,t,i,o){return Ds(r,"POST",e,i,o,t)}async function Vc(r,e,t,i,o){return Ds(r,"PUT",e,i,o,t)}async function Ek(r,e,t,i){return Ds(r,"HEAD",e,ge(ge({},t),{},{noResolveJson:!0}),i)}async function kd(r,e,t,i,o){return Ds(r,"DELETE",e,i,o,t)}var kk=class{constructor(r,e){this.downloadFn=r,this.shouldThrowOnError=e}then(r,e){return this.execute().then(r,e)}async execute(){var r=this;try{return{data:(await r.downloadFn()).body,error:null}}catch(e){if(r.shouldThrowOnError)throw e;if($e(e))return{data:null,error:e};throw e}}};let xy;xy=Symbol.toStringTag;var xk=class{constructor(r,e){this.downloadFn=r,this.shouldThrowOnError=e,this[xy]="BlobDownloadBuilder",this.promise=null}asStream(){return new kk(this.downloadFn,this.shouldThrowOnError)}then(r,e){return this.getPromise().then(r,e)}catch(r){return this.getPromise().catch(r)}finally(r){return this.getPromise().finally(r)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var r=this;try{return{data:await(await r.downloadFn()).blob(),error:null}}catch(e){if(r.shouldThrowOnError)throw e;if($e(e))return{data:null,error:e};throw e}}};const Tk={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Tg={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var Ok=class{constructor(r,e={},t,i){this.shouldThrowOnError=!1,this.url=r,this.headers=e,this.bucketId=t,this.fetch=Ed(i)}throwOnError(){return this.shouldThrowOnError=!0,this}async uploadOrUpdate(r,e,t,i){var o=this;try{let l;const u=ge(ge({},Tg),i);let d=ge(ge({},o.headers),r==="POST"&&{"x-upsert":String(u.upsert)});const h=u.metadata;typeof Blob<"u"&&t instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),h&&l.append("metadata",o.encodeMetadata(h)),l.append("",t)):typeof FormData<"u"&&t instanceof FormData?(l=t,l.has("cacheControl")||l.append("cacheControl",u.cacheControl),h&&!l.has("metadata")&&l.append("metadata",o.encodeMetadata(h))):(l=t,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType,h&&(d["x-metadata"]=o.toBase64(o.encodeMetadata(h))),(typeof ReadableStream<"u"&&l instanceof ReadableStream||l&&typeof l=="object"&&"pipe"in l&&typeof l.pipe=="function")&&!u.duplex&&(u.duplex="half")),i!=null&&i.headers&&(d=ge(ge({},d),i.headers));const p=o._removeEmptyFolders(e),m=o._getFinalPath(p),v=await(r=="PUT"?Vc:qt)(o.fetch,`${o.url}/object/${m}`,l,ge({headers:d},u!=null&&u.duplex?{duplex:u.duplex}:{}));return{data:{path:p,id:v.Id,fullPath:v.Key},error:null}}catch(l){if(o.shouldThrowOnError)throw l;if($e(l))return{data:null,error:l};throw l}}async upload(r,e,t){return this.uploadOrUpdate("POST",r,e,t)}async uploadToSignedUrl(r,e,t,i){var o=this;const l=o._removeEmptyFolders(r),u=o._getFinalPath(l),d=new URL(o.url+`/object/upload/sign/${u}`);d.searchParams.set("token",e);try{let h;const p=ge({upsert:Tg.upsert},i),m=ge(ge({},o.headers),{"x-upsert":String(p.upsert)});return typeof Blob<"u"&&t instanceof Blob?(h=new FormData,h.append("cacheControl",p.cacheControl),h.append("",t)):typeof FormData<"u"&&t instanceof FormData?(h=t,h.append("cacheControl",p.cacheControl)):(h=t,m["cache-control"]=`max-age=${p.cacheControl}`,m["content-type"]=p.contentType),{data:{path:l,fullPath:(await Vc(o.fetch,d.toString(),h,{headers:m})).Key},error:null}}catch(h){if(o.shouldThrowOnError)throw h;if($e(h))return{data:null,error:h};throw h}}async createSignedUploadUrl(r,e){var t=this;try{let i=t._getFinalPath(r);const o=ge({},t.headers);e!=null&&e.upsert&&(o["x-upsert"]="true");const l=await qt(t.fetch,`${t.url}/object/upload/sign/${i}`,{},{headers:o}),u=new URL(t.url+l.url),d=u.searchParams.get("token");if(!d)throw new Fa("No token returned by API");return{data:{signedUrl:u.toString(),path:r,token:d},error:null}}catch(i){if(t.shouldThrowOnError)throw i;if($e(i))return{data:null,error:i};throw i}}async update(r,e,t){return this.uploadOrUpdate("PUT",r,e,t)}async move(r,e,t){var i=this;try{return{data:await qt(i.fetch,`${i.url}/object/move`,{bucketId:i.bucketId,sourceKey:r,destinationKey:e,destinationBucket:t==null?void 0:t.destinationBucket},{headers:i.headers}),error:null}}catch(o){if(i.shouldThrowOnError)throw o;if($e(o))return{data:null,error:o};throw o}}async copy(r,e,t){var i=this;try{return{data:{path:(await qt(i.fetch,`${i.url}/object/copy`,{bucketId:i.bucketId,sourceKey:r,destinationKey:e,destinationBucket:t==null?void 0:t.destinationBucket},{headers:i.headers})).Key},error:null}}catch(o){if(i.shouldThrowOnError)throw o;if($e(o))return{data:null,error:o};throw o}}async createSignedUrl(r,e,t){var i=this;try{let o=i._getFinalPath(r),l=await qt(i.fetch,`${i.url}/object/sign/${o}`,ge({expiresIn:e},t!=null&&t.transform?{transform:t.transform}:{}),{headers:i.headers});const u=t!=null&&t.download?`&download=${t.download===!0?"":t.download}`:"";return l={signedUrl:encodeURI(`${i.url}${l.signedURL}${u}`)},{data:l,error:null}}catch(o){if(i.shouldThrowOnError)throw o;if($e(o))return{data:null,error:o};throw o}}async createSignedUrls(r,e,t){var i=this;try{const o=await qt(i.fetch,`${i.url}/object/sign/${i.bucketId}`,{expiresIn:e,paths:r},{headers:i.headers}),l=t!=null&&t.download?`&download=${t.download===!0?"":t.download}`:"";return{data:o.map(u=>ge(ge({},u),{},{signedUrl:u.signedURL?encodeURI(`${i.url}${u.signedURL}${l}`):null})),error:null}}catch(o){if(i.shouldThrowOnError)throw o;if($e(o))return{data:null,error:o};throw o}}download(r,e){const t=typeof(e==null?void 0:e.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((e==null?void 0:e.transform)||{}),o=i?`?${i}`:"",l=this._getFinalPath(r),u=()=>Es(this.fetch,`${this.url}/${t}/${l}${o}`,{headers:this.headers,noResolveJson:!0});return new xk(u,this.shouldThrowOnError)}async info(r){var e=this;const t=e._getFinalPath(r);try{return{data:qc(await Es(e.fetch,`${e.url}/object/info/${t}`,{headers:e.headers})),error:null}}catch(i){if(e.shouldThrowOnError)throw i;if($e(i))return{data:null,error:i};throw i}}async exists(r){var e=this;const t=e._getFinalPath(r);try{return await Ek(e.fetch,`${e.url}/object/${t}`,{headers:e.headers}),{data:!0,error:null}}catch(i){if(e.shouldThrowOnError)throw i;if($e(i)&&i instanceof Hc){const o=i.originalError;if([400,404].includes(o==null?void 0:o.status))return{data:!1,error:i}}throw i}}getPublicUrl(r,e){const t=this._getFinalPath(r),i=[],o=e!=null&&e.download?`download=${e.download===!0?"":e.download}`:"";o!==""&&i.push(o);const l=typeof(e==null?void 0:e.transform)<"u"?"render/image":"object",u=this.transformOptsToQueryString((e==null?void 0:e.transform)||{});u!==""&&i.push(u);let d=i.join("&");return d!==""&&(d=`?${d}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${t}${d}`)}}}async remove(r){var e=this;try{return{data:await kd(e.fetch,`${e.url}/object/${e.bucketId}`,{prefixes:r},{headers:e.headers}),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if($e(t))return{data:null,error:t};throw t}}async list(r,e,t){var i=this;try{const o=ge(ge(ge({},Tk),e),{},{prefix:r||""});return{data:await qt(i.fetch,`${i.url}/object/list/${i.bucketId}`,o,{headers:i.headers},t),error:null}}catch(o){if(i.shouldThrowOnError)throw o;if($e(o))return{data:null,error:o};throw o}}async listV2(r,e){var t=this;try{const i=ge({},r);return{data:await qt(t.fetch,`${t.url}/object/list-v2/${t.bucketId}`,i,{headers:t.headers},e),error:null}}catch(i){if(t.shouldThrowOnError)throw i;if($e(i))return{data:null,error:i};throw i}}encodeMetadata(r){return JSON.stringify(r)}toBase64(r){return typeof Buffer<"u"?Buffer.from(r).toString("base64"):btoa(r)}_getFinalPath(r){return`${this.bucketId}/${r.replace(/^\/+/,"")}`}_removeEmptyFolders(r){return r.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(r){const e=[];return r.width&&e.push(`width=${r.width}`),r.height&&e.push(`height=${r.height}`),r.resize&&e.push(`resize=${r.resize}`),r.format&&e.push(`format=${r.format}`),r.quality&&e.push(`quality=${r.quality}`),e.join("&")}};const Ty="2.89.0",Oy={"X-Client-Info":`storage-js/${Ty}`};var Ck=class{constructor(r,e={},t,i){this.shouldThrowOnError=!1;const o=new URL(r);i!=null&&i.useNewHostname&&/supabase\.(co|in|red)$/.test(o.hostname)&&!o.hostname.includes("storage.supabase.")&&(o.hostname=o.hostname.replace("supabase.","storage.supabase.")),this.url=o.href.replace(/\/$/,""),this.headers=ge(ge({},Oy),e),this.fetch=Ed(t)}throwOnError(){return this.shouldThrowOnError=!0,this}async listBuckets(r){var e=this;try{const t=e.listBucketOptionsToQueryString(r);return{data:await Es(e.fetch,`${e.url}/bucket${t}`,{headers:e.headers}),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if($e(t))return{data:null,error:t};throw t}}async getBucket(r){var e=this;try{return{data:await Es(e.fetch,`${e.url}/bucket/${r}`,{headers:e.headers}),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if($e(t))return{data:null,error:t};throw t}}async createBucket(r,e={public:!1}){var t=this;try{return{data:await qt(t.fetch,`${t.url}/bucket`,{id:r,name:r,type:e.type,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:t.headers}),error:null}}catch(i){if(t.shouldThrowOnError)throw i;if($e(i))return{data:null,error:i};throw i}}async updateBucket(r,e){var t=this;try{return{data:await Vc(t.fetch,`${t.url}/bucket/${r}`,{id:r,name:r,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:t.headers}),error:null}}catch(i){if(t.shouldThrowOnError)throw i;if($e(i))return{data:null,error:i};throw i}}async emptyBucket(r){var e=this;try{return{data:await qt(e.fetch,`${e.url}/bucket/${r}/empty`,{},{headers:e.headers}),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if($e(t))return{data:null,error:t};throw t}}async deleteBucket(r){var e=this;try{return{data:await kd(e.fetch,`${e.url}/bucket/${r}`,{},{headers:e.headers}),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if($e(t))return{data:null,error:t};throw t}}listBucketOptionsToQueryString(r){const e={};return r&&("limit"in r&&(e.limit=String(r.limit)),"offset"in r&&(e.offset=String(r.offset)),r.search&&(e.search=r.search),r.sortColumn&&(e.sortColumn=r.sortColumn),r.sortOrder&&(e.sortOrder=r.sortOrder)),Object.keys(e).length>0?"?"+new URLSearchParams(e).toString():""}},Pk=class{constructor(r,e={},t){this.shouldThrowOnError=!1,this.url=r.replace(/\/$/,""),this.headers=ge(ge({},Oy),e),this.fetch=Ed(t)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(r){var e=this;try{return{data:await qt(e.fetch,`${e.url}/bucket`,{name:r},{headers:e.headers}),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if($e(t))return{data:null,error:t};throw t}}async listBuckets(r){var e=this;try{const t=new URLSearchParams;(r==null?void 0:r.limit)!==void 0&&t.set("limit",r.limit.toString()),(r==null?void 0:r.offset)!==void 0&&t.set("offset",r.offset.toString()),r!=null&&r.sortColumn&&t.set("sortColumn",r.sortColumn),r!=null&&r.sortOrder&&t.set("sortOrder",r.sortOrder),r!=null&&r.search&&t.set("search",r.search);const i=t.toString(),o=i?`${e.url}/bucket?${i}`:`${e.url}/bucket`;return{data:await Es(e.fetch,o,{headers:e.headers}),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if($e(t))return{data:null,error:t};throw t}}async deleteBucket(r){var e=this;try{return{data:await kd(e.fetch,`${e.url}/bucket/${r}`,{},{headers:e.headers}),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if($e(t))return{data:null,error:t};throw t}}from(r){var e=this;if(!yk(r))throw new Fa("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const t=new fk({baseUrl:this.url,catalogName:r,auth:{type:"custom",getHeaders:async()=>e.headers},fetch:this.fetch}),i=this.shouldThrowOnError;return new Proxy(t,{get(o,l){const u=o[l];return typeof u!="function"?u:async(...d)=>{try{return{data:await u.apply(o,d),error:null}}catch(h){if(i)throw h;return{data:null,error:h}}}}})}};const xd={"X-Client-Info":`storage-js/${Ty}`,"Content-Type":"application/json"};var Cy=class extends Error{constructor(r){super(r),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function kt(r){return typeof r=="object"&&r!==null&&"__isStorageVectorsError"in r}var tc=class extends Cy{constructor(r,e,t){super(r),this.name="StorageVectorsApiError",this.status=e,this.statusCode=t}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},Rk=class extends Cy{constructor(r,e){super(r),this.name="StorageVectorsUnknownError",this.originalError=e}};const Td=r=>r?(...e)=>r(...e):(...e)=>fetch(...e),Dk=r=>{if(typeof r!="object"||r===null)return!1;const e=Object.getPrototypeOf(r);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in r)&&!(Symbol.iterator in r)},Og=r=>r.msg||r.message||r.error_description||r.error||JSON.stringify(r),Ik=async(r,e,t)=>{if(r&&typeof r=="object"&&"status"in r&&"ok"in r&&typeof r.status=="number"&&!(t!=null&&t.noResolveJson)){const i=r.status||500,o=r;if(typeof o.json=="function")o.json().then(l=>{const u=(l==null?void 0:l.statusCode)||(l==null?void 0:l.code)||i+"";e(new tc(Og(l),i,u))}).catch(()=>{const l=i+"";e(new tc(o.statusText||`HTTP ${i} error`,i,l))});else{const l=i+"";e(new tc(o.statusText||`HTTP ${i} error`,i,l))}}else e(new Rk(Og(r),r))},Ak=(r,e,t,i)=>{const o={method:r,headers:(e==null?void 0:e.headers)||{}};return i?(Dk(i)?(o.headers=ge({"Content-Type":"application/json"},e==null?void 0:e.headers),o.body=JSON.stringify(i)):o.body=i,ge(ge({},o),t)):o};async function Nk(r,e,t,i,o,l){return new Promise((u,d)=>{r(t,Ak(e,i,o,l)).then(h=>{if(!h.ok)throw h;if(i!=null&&i.noResolveJson)return h;const p=h.headers.get("content-type");return!p||!p.includes("application/json")?{}:h.json()}).then(h=>u(h)).catch(h=>Ik(h,d,i))})}async function xt(r,e,t,i,o){return Nk(r,"POST",e,i,o,t)}var jk=class{constructor(r,e={},t){this.shouldThrowOnError=!1,this.url=r.replace(/\/$/,""),this.headers=ge(ge({},xd),e),this.fetch=Td(t)}throwOnError(){return this.shouldThrowOnError=!0,this}async createIndex(r){var e=this;try{return{data:await xt(e.fetch,`${e.url}/CreateIndex`,r,{headers:e.headers})||{},error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(kt(t))return{data:null,error:t};throw t}}async getIndex(r,e){var t=this;try{return{data:await xt(t.fetch,`${t.url}/GetIndex`,{vectorBucketName:r,indexName:e},{headers:t.headers}),error:null}}catch(i){if(t.shouldThrowOnError)throw i;if(kt(i))return{data:null,error:i};throw i}}async listIndexes(r){var e=this;try{return{data:await xt(e.fetch,`${e.url}/ListIndexes`,r,{headers:e.headers}),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(kt(t))return{data:null,error:t};throw t}}async deleteIndex(r,e){var t=this;try{return{data:await xt(t.fetch,`${t.url}/DeleteIndex`,{vectorBucketName:r,indexName:e},{headers:t.headers})||{},error:null}}catch(i){if(t.shouldThrowOnError)throw i;if(kt(i))return{data:null,error:i};throw i}}},Mk=class{constructor(r,e={},t){this.shouldThrowOnError=!1,this.url=r.replace(/\/$/,""),this.headers=ge(ge({},xd),e),this.fetch=Td(t)}throwOnError(){return this.shouldThrowOnError=!0,this}async putVectors(r){var e=this;try{if(r.vectors.length<1||r.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:await xt(e.fetch,`${e.url}/PutVectors`,r,{headers:e.headers})||{},error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(kt(t))return{data:null,error:t};throw t}}async getVectors(r){var e=this;try{return{data:await xt(e.fetch,`${e.url}/GetVectors`,r,{headers:e.headers}),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(kt(t))return{data:null,error:t};throw t}}async listVectors(r){var e=this;try{if(r.segmentCount!==void 0){if(r.segmentCount<1||r.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(r.segmentIndex!==void 0&&(r.segmentIndex<0||r.segmentIndex>=r.segmentCount))throw new Error(`segmentIndex must be between 0 and ${r.segmentCount-1}`)}return{data:await xt(e.fetch,`${e.url}/ListVectors`,r,{headers:e.headers}),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(kt(t))return{data:null,error:t};throw t}}async queryVectors(r){var e=this;try{return{data:await xt(e.fetch,`${e.url}/QueryVectors`,r,{headers:e.headers}),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(kt(t))return{data:null,error:t};throw t}}async deleteVectors(r){var e=this;try{if(r.keys.length<1||r.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:await xt(e.fetch,`${e.url}/DeleteVectors`,r,{headers:e.headers})||{},error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(kt(t))return{data:null,error:t};throw t}}},$k=class{constructor(r,e={},t){this.shouldThrowOnError=!1,this.url=r.replace(/\/$/,""),this.headers=ge(ge({},xd),e),this.fetch=Td(t)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(r){var e=this;try{return{data:await xt(e.fetch,`${e.url}/CreateVectorBucket`,{vectorBucketName:r},{headers:e.headers})||{},error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(kt(t))return{data:null,error:t};throw t}}async getBucket(r){var e=this;try{return{data:await xt(e.fetch,`${e.url}/GetVectorBucket`,{vectorBucketName:r},{headers:e.headers}),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(kt(t))return{data:null,error:t};throw t}}async listBuckets(r={}){var e=this;try{return{data:await xt(e.fetch,`${e.url}/ListVectorBuckets`,r,{headers:e.headers}),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(kt(t))return{data:null,error:t};throw t}}async deleteBucket(r){var e=this;try{return{data:await xt(e.fetch,`${e.url}/DeleteVectorBucket`,{vectorBucketName:r},{headers:e.headers})||{},error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(kt(t))return{data:null,error:t};throw t}}},Lk=class extends $k{constructor(r,e={}){super(r,e.headers||{},e.fetch)}from(r){return new Uk(this.url,this.headers,r,this.fetch)}async createBucket(r){var e=()=>super.createBucket,t=this;return e().call(t,r)}async getBucket(r){var e=()=>super.getBucket,t=this;return e().call(t,r)}async listBuckets(r={}){var e=()=>super.listBuckets,t=this;return e().call(t,r)}async deleteBucket(r){var e=()=>super.deleteBucket,t=this;return e().call(t,r)}},Uk=class extends jk{constructor(r,e,t,i){super(r,e,i),this.vectorBucketName=t}async createIndex(r){var e=()=>super.createIndex,t=this;return e().call(t,ge(ge({},r),{},{vectorBucketName:t.vectorBucketName}))}async listIndexes(r={}){var e=()=>super.listIndexes,t=this;return e().call(t,ge(ge({},r),{},{vectorBucketName:t.vectorBucketName}))}async getIndex(r){var e=()=>super.getIndex,t=this;return e().call(t,t.vectorBucketName,r)}async deleteIndex(r){var e=()=>super.deleteIndex,t=this;return e().call(t,t.vectorBucketName,r)}index(r){return new Fk(this.url,this.headers,this.vectorBucketName,r,this.fetch)}},Fk=class extends Mk{constructor(r,e,t,i,o){super(r,e,o),this.vectorBucketName=t,this.indexName=i}async putVectors(r){var e=()=>super.putVectors,t=this;return e().call(t,ge(ge({},r),{},{vectorBucketName:t.vectorBucketName,indexName:t.indexName}))}async getVectors(r){var e=()=>super.getVectors,t=this;return e().call(t,ge(ge({},r),{},{vectorBucketName:t.vectorBucketName,indexName:t.indexName}))}async listVectors(r={}){var e=()=>super.listVectors,t=this;return e().call(t,ge(ge({},r),{},{vectorBucketName:t.vectorBucketName,indexName:t.indexName}))}async queryVectors(r){var e=()=>super.queryVectors,t=this;return e().call(t,ge(ge({},r),{},{vectorBucketName:t.vectorBucketName,indexName:t.indexName}))}async deleteVectors(r){var e=()=>super.deleteVectors,t=this;return e().call(t,ge(ge({},r),{},{vectorBucketName:t.vectorBucketName,indexName:t.indexName}))}},zk=class extends Ck{constructor(r,e={},t,i){super(r,e,t,i)}from(r){return new Ok(this.url,this.headers,r,this.fetch)}get vectors(){return new Lk(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new Pk(this.url+"/iceberg",this.headers,this.fetch)}};const Py="2.89.0",ui=30*1e3,Gc=3,rc=Gc*ui,Bk="http://localhost:9999",Wk="supabase.auth.token",Hk={"X-Client-Info":`gotrue-js/${Py}`},Kc="X-Supabase-Api-Version",Ry={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},qk=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Vk=10*60*1e3;class ks extends Error{constructor(e,t,i){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=t,this.code=i}}function ce(r){return typeof r=="object"&&r!==null&&"__isAuthError"in r}class Gk extends ks{constructor(e,t,i){super(e,t,i),this.name="AuthApiError",this.status=t,this.code=i}}function Kk(r){return ce(r)&&r.name==="AuthApiError"}class wn extends ks{constructor(e,t){super(e),this.name="AuthUnknownError",this.originalError=t}}class yr extends ks{constructor(e,t,i,o){super(e,i,o),this.name=t,this.status=i}}class St extends yr{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Yk(r){return ce(r)&&r.name==="AuthSessionMissingError"}class ei extends yr{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Ko extends yr{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Yo extends yr{constructor(e,t=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Jk(r){return ce(r)&&r.name==="AuthImplicitGrantRedirectError"}class Cg extends yr{constructor(e,t=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Qk extends yr{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class Yc extends yr{constructor(e,t){super(e,"AuthRetryableFetchError",t,void 0)}}function nc(r){return ce(r)&&r.name==="AuthRetryableFetchError"}class Pg extends yr{constructor(e,t,i){super(e,"AuthWeakPasswordError",t,"weak_password"),this.reasons=i}}class Jc extends yr{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const _a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Rg=` 	
\r=`.split(""),Xk=(()=>{const r=new Array(128);for(let e=0;e<r.length;e+=1)r[e]=-1;for(let e=0;e<Rg.length;e+=1)r[Rg[e].charCodeAt(0)]=-2;for(let e=0;e<_a.length;e+=1)r[_a[e].charCodeAt(0)]=e;return r})();function Dg(r,e,t){if(r!==null)for(e.queue=e.queue<<8|r,e.queuedBits+=8;e.queuedBits>=6;){const i=e.queue>>e.queuedBits-6&63;t(_a[i]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const i=e.queue>>e.queuedBits-6&63;t(_a[i]),e.queuedBits-=6}}function Dy(r,e,t){const i=Xk[r];if(i>-1)for(e.queue=e.queue<<6|i,e.queuedBits+=6;e.queuedBits>=8;)t(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(i===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(r)}"`)}}function Ig(r){const e=[],t=u=>{e.push(String.fromCodePoint(u))},i={utf8seq:0,codepoint:0},o={queue:0,queuedBits:0},l=u=>{tx(u,i,t)};for(let u=0;u<r.length;u+=1)Dy(r.charCodeAt(u),o,l);return e.join("")}function Zk(r,e){if(r<=127){e(r);return}else if(r<=2047){e(192|r>>6),e(128|r&63);return}else if(r<=65535){e(224|r>>12),e(128|r>>6&63),e(128|r&63);return}else if(r<=1114111){e(240|r>>18),e(128|r>>12&63),e(128|r>>6&63),e(128|r&63);return}throw new Error(`Unrecognized Unicode codepoint: ${r.toString(16)}`)}function ex(r,e){for(let t=0;t<r.length;t+=1){let i=r.charCodeAt(t);if(i>55295&&i<=56319){const o=(i-55296)*1024&65535;i=(r.charCodeAt(t+1)-56320&65535|o)+65536,t+=1}Zk(i,e)}}function tx(r,e,t){if(e.utf8seq===0){if(r<=127){t(r);return}for(let i=1;i<6;i+=1)if(!(r>>7-i&1)){e.utf8seq=i;break}if(e.utf8seq===2)e.codepoint=r&31;else if(e.utf8seq===3)e.codepoint=r&15;else if(e.utf8seq===4)e.codepoint=r&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(r<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|r&63,e.utf8seq-=1,e.utf8seq===0&&t(e.codepoint)}}function pi(r){const e=[],t={queue:0,queuedBits:0},i=o=>{e.push(o)};for(let o=0;o<r.length;o+=1)Dy(r.charCodeAt(o),t,i);return new Uint8Array(e)}function rx(r){const e=[];return ex(r,t=>e.push(t)),new Uint8Array(e)}function _n(r){const e=[],t={queue:0,queuedBits:0},i=o=>{e.push(o)};return r.forEach(o=>Dg(o,t,i)),Dg(null,t,i),e.join("")}function nx(r){return Math.round(Date.now()/1e3)+r}function ix(){return Symbol("auth-callback")}const tt=()=>typeof window<"u"&&typeof document<"u",un={tested:!1,writable:!1},Iy=()=>{if(!tt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(un.tested)return un.writable;const r=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(r,r),globalThis.localStorage.removeItem(r),un.tested=!0,un.writable=!0}catch{un.tested=!0,un.writable=!1}return un.writable};function sx(r){const e={},t=new URL(r);if(t.hash&&t.hash[0]==="#")try{new URLSearchParams(t.hash.substring(1)).forEach((o,l)=>{e[l]=o})}catch{}return t.searchParams.forEach((i,o)=>{e[o]=i}),e}const Ay=r=>r?(...e)=>r(...e):(...e)=>fetch(...e),ox=r=>typeof r=="object"&&r!==null&&"status"in r&&"ok"in r&&"json"in r&&typeof r.json=="function",ci=async(r,e,t)=>{await r.setItem(e,JSON.stringify(t))},cn=async(r,e)=>{const t=await r.getItem(e);if(!t)return null;try{return JSON.parse(t)}catch{return t}},et=async(r,e)=>{await r.removeItem(e)};class za{constructor(){this.promise=new za.promiseConstructor((e,t)=>{this.resolve=e,this.reject=t})}}za.promiseConstructor=Promise;function ic(r){const e=r.split(".");if(e.length!==3)throw new Jc("Invalid JWT structure");for(let i=0;i<e.length;i++)if(!qk.test(e[i]))throw new Jc("JWT not in base64url format");return{header:JSON.parse(Ig(e[0])),payload:JSON.parse(Ig(e[1])),signature:pi(e[2]),raw:{header:e[0],payload:e[1]}}}async function ax(r){return await new Promise(e=>{setTimeout(()=>e(null),r)})}function lx(r,e){return new Promise((i,o)=>{(async()=>{for(let l=0;l<1/0;l++)try{const u=await r(l);if(!e(l,null,u)){i(u);return}}catch(u){if(!e(l,u)){o(u);return}}})()})}function ux(r){return("0"+r.toString(16)).substr(-2)}function cx(){const e=new Uint32Array(56);if(typeof crypto>"u"){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",i=t.length;let o="";for(let l=0;l<56;l++)o+=t.charAt(Math.floor(Math.random()*i));return o}return crypto.getRandomValues(e),Array.from(e,ux).join("")}async function dx(r){const t=new TextEncoder().encode(r),i=await crypto.subtle.digest("SHA-256",t),o=new Uint8Array(i);return Array.from(o).map(l=>String.fromCharCode(l)).join("")}async function hx(r){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),r;const t=await dx(r);return btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function ti(r,e,t=!1){const i=cx();let o=i;t&&(o+="/PASSWORD_RECOVERY"),await ci(r,`${e}-code-verifier`,o);const l=await hx(i);return[l,i===l?"plain":"s256"]}const fx=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function px(r){const e=r.headers.get(Kc);if(!e||!e.match(fx))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function gx(r){if(!r)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(r<=e)throw new Error("JWT has expired")}function mx(r){switch(r){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const yx=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function ri(r){if(!yx.test(r))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function sc(){const r={};return new Proxy(r,{get:(e,t)=>{if(t==="__isUserNotAvailableProxy")return!0;if(typeof t=="symbol"){const i=t.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${t}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,t)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${t}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,t)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${t}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function vx(r,e){return new Proxy(r,{get:(t,i,o)=>{if(i==="__isInsecureUserWarningProxy")return!0;if(typeof i=="symbol"){const l=i.toString();if(l==="Symbol(Symbol.toPrimitive)"||l==="Symbol(Symbol.toStringTag)"||l==="Symbol(util.inspect.custom)"||l==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(t,i,o)}return!e.value&&typeof i=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(t,i,o)}})}function Ag(r){return JSON.parse(JSON.stringify(r))}const gn=r=>r.msg||r.message||r.error_description||r.error||JSON.stringify(r),wx=[502,503,504];async function Ng(r){var e;if(!ox(r))throw new Yc(gn(r),0);if(wx.includes(r.status))throw new Yc(gn(r),r.status);let t;try{t=await r.json()}catch(l){throw new wn(gn(l),l)}let i;const o=px(r);if(o&&o.getTime()>=Ry["2024-01-01"].timestamp&&typeof t=="object"&&t&&typeof t.code=="string"?i=t.code:typeof t=="object"&&t&&typeof t.error_code=="string"&&(i=t.error_code),i){if(i==="weak_password")throw new Pg(gn(t),r.status,((e=t.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(i==="session_not_found")throw new St}else if(typeof t=="object"&&t&&typeof t.weak_password=="object"&&t.weak_password&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.reasons.reduce((l,u)=>l&&typeof u=="string",!0))throw new Pg(gn(t),r.status,t.weak_password.reasons);throw new Gk(gn(t),r.status||500,i)}const _x=(r,e,t,i)=>{const o={method:r,headers:(e==null?void 0:e.headers)||{}};return r==="GET"?o:(o.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),o.body=JSON.stringify(i),Object.assign(Object.assign({},o),t))};async function pe(r,e,t,i){var o;const l=Object.assign({},i==null?void 0:i.headers);l[Kc]||(l[Kc]=Ry["2024-01-01"].name),i!=null&&i.jwt&&(l.Authorization=`Bearer ${i.jwt}`);const u=(o=i==null?void 0:i.query)!==null&&o!==void 0?o:{};i!=null&&i.redirectTo&&(u.redirect_to=i.redirectTo);const d=Object.keys(u).length?"?"+new URLSearchParams(u).toString():"",h=await Sx(r,e,t+d,{headers:l,noResolveJson:i==null?void 0:i.noResolveJson},{},i==null?void 0:i.body);return i!=null&&i.xform?i==null?void 0:i.xform(h):{data:Object.assign({},h),error:null}}async function Sx(r,e,t,i,o,l){const u=_x(e,i,o,l);let d;try{d=await r(t,Object.assign({},u))}catch(h){throw console.error(h),new Yc(gn(h),0)}if(d.ok||await Ng(d),i!=null&&i.noResolveJson)return d;try{return await d.json()}catch(h){await Ng(h)}}function Ht(r){var e;let t=null;kx(r)&&(t=Object.assign({},r),r.expires_at||(t.expires_at=nx(r.expires_in)));const i=(e=r.user)!==null&&e!==void 0?e:r;return{data:{session:t,user:i},error:null}}function jg(r){const e=Ht(r);return!e.error&&r.weak_password&&typeof r.weak_password=="object"&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.message&&typeof r.weak_password.message=="string"&&r.weak_password.reasons.reduce((t,i)=>t&&typeof i=="string",!0)&&(e.data.weak_password=r.weak_password),e}function Wr(r){var e;return{data:{user:(e=r.user)!==null&&e!==void 0?e:r},error:null}}function bx(r){return{data:r,error:null}}function Ex(r){const{action_link:e,email_otp:t,hashed_token:i,redirect_to:o,verification_type:l}=r,u=Ua(r,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),d={action_link:e,email_otp:t,hashed_token:i,redirect_to:o,verification_type:l},h=Object.assign({},u);return{data:{properties:d,user:h},error:null}}function Mg(r){return r}function kx(r){return r.access_token&&r.refresh_token&&r.expires_in}const oc=["global","local","others"];class xx{constructor({url:e="",headers:t={},fetch:i}){this.url=e,this.headers=t,this.fetch=Ay(i),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,t=oc[0]){if(oc.indexOf(t)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${oc.join(", ")}`);try{return await pe(this.fetch,"POST",`${this.url}/logout?scope=${t}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(i){if(ce(i))return{data:null,error:i};throw i}}async inviteUserByEmail(e,t={}){try{return await pe(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:t.data},headers:this.headers,redirectTo:t.redirectTo,xform:Wr})}catch(i){if(ce(i))return{data:{user:null},error:i};throw i}}async generateLink(e){try{const{options:t}=e,i=Ua(e,["options"]),o=Object.assign(Object.assign({},i),t);return"newEmail"in i&&(o.new_email=i==null?void 0:i.newEmail,delete o.newEmail),await pe(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:o,headers:this.headers,xform:Ex,redirectTo:t==null?void 0:t.redirectTo})}catch(t){if(ce(t))return{data:{properties:null,user:null},error:t};throw t}}async createUser(e){try{return await pe(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Wr})}catch(t){if(ce(t))return{data:{user:null},error:t};throw t}}async listUsers(e){var t,i,o,l,u,d,h;try{const p={nextPage:null,lastPage:0,total:0},m=await pe(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(i=(t=e==null?void 0:e.page)===null||t===void 0?void 0:t.toString())!==null&&i!==void 0?i:"",per_page:(l=(o=e==null?void 0:e.perPage)===null||o===void 0?void 0:o.toString())!==null&&l!==void 0?l:""},xform:Mg});if(m.error)throw m.error;const v=await m.json(),_=(u=m.headers.get("x-total-count"))!==null&&u!==void 0?u:0,y=(h=(d=m.headers.get("link"))===null||d===void 0?void 0:d.split(","))!==null&&h!==void 0?h:[];return y.length>0&&(y.forEach(w=>{const b=parseInt(w.split(";")[0].split("=")[1].substring(0,1)),E=JSON.parse(w.split(";")[1].split("=")[1]);p[`${E}Page`]=b}),p.total=parseInt(_)),{data:Object.assign(Object.assign({},v),p),error:null}}catch(p){if(ce(p))return{data:{users:[]},error:p};throw p}}async getUserById(e){ri(e);try{return await pe(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Wr})}catch(t){if(ce(t))return{data:{user:null},error:t};throw t}}async updateUserById(e,t){ri(e);try{return await pe(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:t,headers:this.headers,xform:Wr})}catch(i){if(ce(i))return{data:{user:null},error:i};throw i}}async deleteUser(e,t=!1){ri(e);try{return await pe(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:t},xform:Wr})}catch(i){if(ce(i))return{data:{user:null},error:i};throw i}}async _listFactors(e){ri(e.userId);try{const{data:t,error:i}=await pe(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:o=>({data:{factors:o},error:null})});return{data:t,error:i}}catch(t){if(ce(t))return{data:null,error:t};throw t}}async _deleteFactor(e){ri(e.userId),ri(e.id);try{return{data:await pe(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(t){if(ce(t))return{data:null,error:t};throw t}}async _listOAuthClients(e){var t,i,o,l,u,d,h;try{const p={nextPage:null,lastPage:0,total:0},m=await pe(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(i=(t=e==null?void 0:e.page)===null||t===void 0?void 0:t.toString())!==null&&i!==void 0?i:"",per_page:(l=(o=e==null?void 0:e.perPage)===null||o===void 0?void 0:o.toString())!==null&&l!==void 0?l:""},xform:Mg});if(m.error)throw m.error;const v=await m.json(),_=(u=m.headers.get("x-total-count"))!==null&&u!==void 0?u:0,y=(h=(d=m.headers.get("link"))===null||d===void 0?void 0:d.split(","))!==null&&h!==void 0?h:[];return y.length>0&&(y.forEach(w=>{const b=parseInt(w.split(";")[0].split("=")[1].substring(0,1)),E=JSON.parse(w.split(";")[1].split("=")[1]);p[`${E}Page`]=b}),p.total=parseInt(_)),{data:Object.assign(Object.assign({},v),p),error:null}}catch(p){if(ce(p))return{data:{clients:[]},error:p};throw p}}async _createOAuthClient(e){try{return await pe(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:t=>({data:t,error:null})})}catch(t){if(ce(t))return{data:null,error:t};throw t}}async _getOAuthClient(e){try{return await pe(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:t=>({data:t,error:null})})}catch(t){if(ce(t))return{data:null,error:t};throw t}}async _updateOAuthClient(e,t){try{return await pe(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:t,headers:this.headers,xform:i=>({data:i,error:null})})}catch(i){if(ce(i))return{data:null,error:i};throw i}}async _deleteOAuthClient(e){try{return await pe(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(t){if(ce(t))return{data:null,error:t};throw t}}async _regenerateOAuthClientSecret(e){try{return await pe(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:t=>({data:t,error:null})})}catch(t){if(ce(t))return{data:null,error:t};throw t}}}function $g(r={}){return{getItem:e=>r[e]||null,setItem:(e,t)=>{r[e]=t},removeItem:e=>{delete r[e]}}}const ni={debug:!!(globalThis&&Iy()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Ny extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class Tx extends Ny{}async function Ox(r,e,t){ni.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",r,e);const i=new globalThis.AbortController;return e>0&&setTimeout(()=>{i.abort(),ni.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",r)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(r,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:i.signal},async o=>{if(o){ni.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",r,o.name);try{return await t()}finally{ni.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",r,o.name)}}else{if(e===0)throw ni.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",r),new Tx(`Acquiring an exclusive Navigator LockManager lock "${r}" immediately failed`);if(ni.debug)try{const l=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(l,null,"  "))}catch(l){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",l)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await t()}}))}function Cx(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function jy(r){if(!/^0x[a-fA-F0-9]{40}$/.test(r))throw new Error(`@supabase/auth-js: Address "${r}" is invalid.`);return r.toLowerCase()}function Px(r){return parseInt(r,16)}function Rx(r){const e=new TextEncoder().encode(r);return"0x"+Array.from(e,i=>i.toString(16).padStart(2,"0")).join("")}function Dx(r){var e;const{chainId:t,domain:i,expirationTime:o,issuedAt:l=new Date,nonce:u,notBefore:d,requestId:h,resources:p,scheme:m,uri:v,version:_}=r;{if(!Number.isInteger(t))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${t}`);if(!i)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(u&&u.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${u}`);if(!v)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(_!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${_}`);if(!((e=r.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${r.statement}`)}const y=jy(r.address),w=m?`${m}://${i}`:i,b=r.statement?`${r.statement}
`:"",E=`${w} wants you to sign in with your Ethereum account:
${y}

${b}`;let k=`URI: ${v}
Version: ${_}
Chain ID: ${t}${u?`
Nonce: ${u}`:""}
Issued At: ${l.toISOString()}`;if(o&&(k+=`
Expiration Time: ${o.toISOString()}`),d&&(k+=`
Not Before: ${d.toISOString()}`),h&&(k+=`
Request ID: ${h}`),p){let O=`
Resources:`;for(const j of p){if(!j||typeof j!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${j}`);O+=`
- ${j}`}k+=O}return`${E}
${k}`}class He extends Error{constructor({message:e,code:t,cause:i,name:o}){var l;super(e,{cause:i}),this.__isWebAuthnError=!0,this.name=(l=o??(i instanceof Error?i.name:void 0))!==null&&l!==void 0?l:"Unknown Error",this.code=t}}class Sa extends He{constructor(e,t){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t,message:e}),this.name="WebAuthnUnknownError",this.originalError=t}}function Ix({error:r,options:e}){var t,i,o;const{publicKey:l}=e;if(!l)throw Error("options was missing required publicKey property");if(r.name==="AbortError"){if(e.signal instanceof AbortSignal)return new He({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:r})}else if(r.name==="ConstraintError"){if(((t=l.authenticatorSelection)===null||t===void 0?void 0:t.requireResidentKey)===!0)return new He({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:r});if(e.mediation==="conditional"&&((i=l.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new He({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:r});if(((o=l.authenticatorSelection)===null||o===void 0?void 0:o.userVerification)==="required")return new He({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:r})}else{if(r.name==="InvalidStateError")return new He({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:r});if(r.name==="NotAllowedError")return new He({message:r.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r});if(r.name==="NotSupportedError")return l.pubKeyCredParams.filter(d=>d.type==="public-key").length===0?new He({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:r}):new He({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:r});if(r.name==="SecurityError"){const u=window.location.hostname;if(My(u)){if(l.rp.id!==u)return new He({message:`The RP ID "${l.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:r})}else return new He({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:r})}else if(r.name==="TypeError"){if(l.user.id.byteLength<1||l.user.id.byteLength>64)return new He({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:r})}else if(r.name==="UnknownError")return new He({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:r})}return new He({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r})}function Ax({error:r,options:e}){const{publicKey:t}=e;if(!t)throw Error("options was missing required publicKey property");if(r.name==="AbortError"){if(e.signal instanceof AbortSignal)return new He({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:r})}else{if(r.name==="NotAllowedError")return new He({message:r.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r});if(r.name==="SecurityError"){const i=window.location.hostname;if(My(i)){if(t.rpId!==i)return new He({message:`The RP ID "${t.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:r})}else return new He({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:r})}else if(r.name==="UnknownError")return new He({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:r})}return new He({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r})}class Nx{createNewAbortSignal(){if(this.controller){const t=new Error("Cancelling existing WebAuthn API call for new one");t.name="AbortError",this.controller.abort(t)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const jx=new Nx;function Mx(r){if(!r)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(r);const{challenge:e,user:t,excludeCredentials:i}=r,o=Ua(r,["challenge","user","excludeCredentials"]),l=pi(e).buffer,u=Object.assign(Object.assign({},t),{id:pi(t.id).buffer}),d=Object.assign(Object.assign({},o),{challenge:l,user:u});if(i&&i.length>0){d.excludeCredentials=new Array(i.length);for(let h=0;h<i.length;h++){const p=i[h];d.excludeCredentials[h]=Object.assign(Object.assign({},p),{id:pi(p.id).buffer,type:p.type||"public-key",transports:p.transports})}}return d}function $x(r){if(!r)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(r);const{challenge:e,allowCredentials:t}=r,i=Ua(r,["challenge","allowCredentials"]),o=pi(e).buffer,l=Object.assign(Object.assign({},i),{challenge:o});if(t&&t.length>0){l.allowCredentials=new Array(t.length);for(let u=0;u<t.length;u++){const d=t[u];l.allowCredentials[u]=Object.assign(Object.assign({},d),{id:pi(d.id).buffer,type:d.type||"public-key",transports:d.transports})}}return l}function Lx(r){var e;if("toJSON"in r&&typeof r.toJSON=="function")return r.toJSON();const t=r;return{id:r.id,rawId:r.id,response:{attestationObject:_n(new Uint8Array(r.response.attestationObject)),clientDataJSON:_n(new Uint8Array(r.response.clientDataJSON))},type:"public-key",clientExtensionResults:r.getClientExtensionResults(),authenticatorAttachment:(e=t.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function Ux(r){var e;if("toJSON"in r&&typeof r.toJSON=="function")return r.toJSON();const t=r,i=r.getClientExtensionResults(),o=r.response;return{id:r.id,rawId:r.id,response:{authenticatorData:_n(new Uint8Array(o.authenticatorData)),clientDataJSON:_n(new Uint8Array(o.clientDataJSON)),signature:_n(new Uint8Array(o.signature)),userHandle:o.userHandle?_n(new Uint8Array(o.userHandle)):void 0},type:"public-key",clientExtensionResults:i,authenticatorAttachment:(e=t.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function My(r){return r==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(r)}function Lg(){var r,e;return!!(tt()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((r=navigator==null?void 0:navigator.credentials)===null||r===void 0?void 0:r.create)=="function"&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.get)=="function")}async function Fx(r){try{const e=await navigator.credentials.create(r);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Sa("Browser returned unexpected credential type",e)}:{data:null,error:new Sa("Empty credential response",e)}}catch(e){return{data:null,error:Ix({error:e,options:r})}}}async function zx(r){try{const e=await navigator.credentials.get(r);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Sa("Browser returned unexpected credential type",e)}:{data:null,error:new Sa("Empty credential response",e)}}catch(e){return{data:null,error:Ax({error:e,options:r})}}}const Bx={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},Wx={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function ba(...r){const e=o=>o!==null&&typeof o=="object"&&!Array.isArray(o),t=o=>o instanceof ArrayBuffer||ArrayBuffer.isView(o),i={};for(const o of r)if(o)for(const l in o){const u=o[l];if(u!==void 0)if(Array.isArray(u))i[l]=u;else if(t(u))i[l]=u;else if(e(u)){const d=i[l];e(d)?i[l]=ba(d,u):i[l]=ba(u)}else i[l]=u}return i}function Hx(r,e){return ba(Bx,r,e||{})}function qx(r,e){return ba(Wx,r,e||{})}class Vx{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:t,friendlyName:i,signal:o},l){try{const{data:u,error:d}=await this.client.mfa.challenge({factorId:e,webauthn:t});if(!u)return{data:null,error:d};const h=o??jx.createNewAbortSignal();if(u.webauthn.type==="create"){const{user:p}=u.webauthn.credential_options.publicKey;p.name||(p.name=`${p.id}:${i}`),p.displayName||(p.displayName=p.name)}switch(u.webauthn.type){case"create":{const p=Hx(u.webauthn.credential_options.publicKey,l==null?void 0:l.create),{data:m,error:v}=await Fx({publicKey:p,signal:h});return m?{data:{factorId:e,challengeId:u.id,webauthn:{type:u.webauthn.type,credential_response:m}},error:null}:{data:null,error:v}}case"request":{const p=qx(u.webauthn.credential_options.publicKey,l==null?void 0:l.request),{data:m,error:v}=await zx(Object.assign(Object.assign({},u.webauthn.credential_options),{publicKey:p,signal:h}));return m?{data:{factorId:e,challengeId:u.id,webauthn:{type:u.webauthn.type,credential_response:m}},error:null}:{data:null,error:v}}}}catch(u){return ce(u)?{data:null,error:u}:{data:null,error:new wn("Unexpected error in challenge",u)}}}async _verify({challengeId:e,factorId:t,webauthn:i}){return this.client.mfa.verify({factorId:t,challengeId:e,webauthn:i})}async _authenticate({factorId:e,webauthn:{rpId:t=typeof window<"u"?window.location.hostname:void 0,rpOrigins:i=typeof window<"u"?[window.location.origin]:void 0,signal:o}={}},l){if(!t)return{data:null,error:new ks("rpId is required for WebAuthn authentication")};try{if(!Lg())return{data:null,error:new wn("Browser does not support WebAuthn",null)};const{data:u,error:d}=await this.challenge({factorId:e,webauthn:{rpId:t,rpOrigins:i},signal:o},{request:l});if(!u)return{data:null,error:d};const{webauthn:h}=u;return this._verify({factorId:e,challengeId:u.challengeId,webauthn:{type:h.type,rpId:t,rpOrigins:i,credential_response:h.credential_response}})}catch(u){return ce(u)?{data:null,error:u}:{data:null,error:new wn("Unexpected error in authenticate",u)}}}async _register({friendlyName:e,webauthn:{rpId:t=typeof window<"u"?window.location.hostname:void 0,rpOrigins:i=typeof window<"u"?[window.location.origin]:void 0,signal:o}={}},l){if(!t)return{data:null,error:new ks("rpId is required for WebAuthn registration")};try{if(!Lg())return{data:null,error:new wn("Browser does not support WebAuthn",null)};const{data:u,error:d}=await this._enroll({friendlyName:e});if(!u)return await this.client.mfa.listFactors().then(m=>{var v;return(v=m.data)===null||v===void 0?void 0:v.all.find(_=>_.factor_type==="webauthn"&&_.friendly_name===e&&_.status!=="unverified")}).then(m=>m?this.client.mfa.unenroll({factorId:m==null?void 0:m.id}):void 0),{data:null,error:d};const{data:h,error:p}=await this._challenge({factorId:u.id,friendlyName:u.friendly_name,webauthn:{rpId:t,rpOrigins:i},signal:o},{create:l});return h?this._verify({factorId:u.id,challengeId:h.challengeId,webauthn:{rpId:t,rpOrigins:i,type:h.webauthn.type,credential_response:h.webauthn.credential_response}}):{data:null,error:p}}catch(u){return ce(u)?{data:null,error:u}:{data:null,error:new wn("Unexpected error in register",u)}}}}Cx();const Gx={url:Bk,storageKey:Wk,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Hk,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function Ug(r,e,t){return await t()}const ii={};class xs{get jwks(){var e,t;return(t=(e=ii[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&t!==void 0?t:{keys:[]}}set jwks(e){ii[this.storageKey]=Object.assign(Object.assign({},ii[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,t;return(t=(e=ii[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&t!==void 0?t:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){ii[this.storageKey]=Object.assign(Object.assign({},ii[this.storageKey]),{cachedAt:e})}constructor(e){var t,i,o;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const l=Object.assign(Object.assign({},Gx),e);if(this.storageKey=l.storageKey,this.instanceID=(t=xs.nextInstanceID[this.storageKey])!==null&&t!==void 0?t:0,xs.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!l.debug,typeof l.debug=="function"&&(this.logger=l.debug),this.instanceID>0&&tt()){const u=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(u),this.logDebugMessages&&console.trace(u)}if(this.persistSession=l.persistSession,this.autoRefreshToken=l.autoRefreshToken,this.admin=new xx({url:l.url,headers:l.headers,fetch:l.fetch}),this.url=l.url,this.headers=l.headers,this.fetch=Ay(l.fetch),this.lock=l.lock||Ug,this.detectSessionInUrl=l.detectSessionInUrl,this.flowType=l.flowType,this.hasCustomAuthorizationHeader=l.hasCustomAuthorizationHeader,this.throwOnError=l.throwOnError,l.lock?this.lock=l.lock:this.persistSession&&tt()&&(!((i=globalThis==null?void 0:globalThis.navigator)===null||i===void 0)&&i.locks)?this.lock=Ox:this.lock=Ug,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new Vx(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(l.storage?this.storage=l.storage:Iy()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=$g(this.memoryStorage)),l.userStorage&&(this.userStorage=l.userStorage)):(this.memoryStorage={},this.storage=$g(this.memoryStorage)),tt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(u){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",u)}(o=this.broadcastChannel)===null||o===void 0||o.addEventListener("message",async u=>{this._debug("received broadcast notification from other tab or client",u),await this._notifyAllSubscribers(u.data.event,u.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${Py}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let t={},i="none";if(tt()&&(t=sx(window.location.href),this._isImplicitGrantCallback(t)?i="implicit":await this._isPKCECallback(t)&&(i="pkce")),tt()&&this.detectSessionInUrl&&i!=="none"){const{data:o,error:l}=await this._getSessionFromURL(t,i);if(l){if(this._debug("#_initialize()","error detecting session from URL",l),Jk(l)){const h=(e=l.details)===null||e===void 0?void 0:e.code;if(h==="identity_already_exists"||h==="identity_not_found"||h==="single_identity_not_deletable")return{error:l}}return await this._removeSession(),{error:l}}const{session:u,redirectType:d}=o;return this._debug("#_initialize()","detected session in URL",u,"redirect type",d),await this._saveSession(u),setTimeout(async()=>{d==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",u):await this._notifyAllSubscribers("SIGNED_IN",u)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(t){return ce(t)?this._returnResult({error:t}):this._returnResult({error:new wn("Unexpected error during initialization",t)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var t,i,o;try{const l=await pe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(i=(t=e==null?void 0:e.options)===null||t===void 0?void 0:t.data)!==null&&i!==void 0?i:{},gotrue_meta_security:{captcha_token:(o=e==null?void 0:e.options)===null||o===void 0?void 0:o.captchaToken}},xform:Ht}),{data:u,error:d}=l;if(d||!u)return this._returnResult({data:{user:null,session:null},error:d});const h=u.session,p=u.user;return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",h)),this._returnResult({data:{user:p,session:h},error:null})}catch(l){if(ce(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async signUp(e){var t,i,o;try{let l;if("email"in e){const{email:m,password:v,options:_}=e;let y=null,w=null;this.flowType==="pkce"&&([y,w]=await ti(this.storage,this.storageKey)),l=await pe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:_==null?void 0:_.emailRedirectTo,body:{email:m,password:v,data:(t=_==null?void 0:_.data)!==null&&t!==void 0?t:{},gotrue_meta_security:{captcha_token:_==null?void 0:_.captchaToken},code_challenge:y,code_challenge_method:w},xform:Ht})}else if("phone"in e){const{phone:m,password:v,options:_}=e;l=await pe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:m,password:v,data:(i=_==null?void 0:_.data)!==null&&i!==void 0?i:{},channel:(o=_==null?void 0:_.channel)!==null&&o!==void 0?o:"sms",gotrue_meta_security:{captcha_token:_==null?void 0:_.captchaToken}},xform:Ht})}else throw new Ko("You must provide either an email or phone number and a password");const{data:u,error:d}=l;if(d||!u)return await et(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:d});const h=u.session,p=u.user;return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",h)),this._returnResult({data:{user:p,session:h},error:null})}catch(l){if(await et(this.storage,`${this.storageKey}-code-verifier`),ce(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async signInWithPassword(e){try{let t;if("email"in e){const{email:l,password:u,options:d}=e;t=await pe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:l,password:u,gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken}},xform:jg})}else if("phone"in e){const{phone:l,password:u,options:d}=e;t=await pe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:l,password:u,gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken}},xform:jg})}else throw new Ko("You must provide either an email or phone number and a password");const{data:i,error:o}=t;if(o)return this._returnResult({data:{user:null,session:null},error:o});if(!i||!i.session||!i.user){const l=new ei;return this._returnResult({data:{user:null,session:null},error:l})}return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),this._returnResult({data:Object.assign({user:i.user,session:i.session},i.weak_password?{weakPassword:i.weak_password}:null),error:o})}catch(t){if(ce(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async signInWithOAuth(e){var t,i,o,l;return await this._handleProviderSignIn(e.provider,{redirectTo:(t=e.options)===null||t===void 0?void 0:t.redirectTo,scopes:(i=e.options)===null||i===void 0?void 0:i.scopes,queryParams:(o=e.options)===null||o===void 0?void 0:o.queryParams,skipBrowserRedirect:(l=e.options)===null||l===void 0?void 0:l.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:t}=e;switch(t){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${t}"`)}}async signInWithEthereum(e){var t,i,o,l,u,d,h,p,m,v,_;let y,w;if("message"in e)y=e.message,w=e.signature;else{const{chain:b,wallet:E,statement:k,options:O}=e;let j;if(tt())if(typeof E=="object")j=E;else{const te=window;if("ethereum"in te&&typeof te.ethereum=="object"&&"request"in te.ethereum&&typeof te.ethereum.request=="function")j=te.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof E!="object"||!(O!=null&&O.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");j=E}const H=new URL((t=O==null?void 0:O.url)!==null&&t!==void 0?t:window.location.href),B=await j.request({method:"eth_requestAccounts"}).then(te=>te).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!B||B.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const U=jy(B[0]);let $=(i=O==null?void 0:O.signInWithEthereum)===null||i===void 0?void 0:i.chainId;if(!$){const te=await j.request({method:"eth_chainId"});$=Px(te)}const Y={domain:H.host,address:U,statement:k,uri:H.href,version:"1",chainId:$,nonce:(o=O==null?void 0:O.signInWithEthereum)===null||o===void 0?void 0:o.nonce,issuedAt:(u=(l=O==null?void 0:O.signInWithEthereum)===null||l===void 0?void 0:l.issuedAt)!==null&&u!==void 0?u:new Date,expirationTime:(d=O==null?void 0:O.signInWithEthereum)===null||d===void 0?void 0:d.expirationTime,notBefore:(h=O==null?void 0:O.signInWithEthereum)===null||h===void 0?void 0:h.notBefore,requestId:(p=O==null?void 0:O.signInWithEthereum)===null||p===void 0?void 0:p.requestId,resources:(m=O==null?void 0:O.signInWithEthereum)===null||m===void 0?void 0:m.resources};y=Dx(Y),w=await j.request({method:"personal_sign",params:[Rx(y),U]})}try{const{data:b,error:E}=await pe(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:y,signature:w},!((v=e.options)===null||v===void 0)&&v.captchaToken?{gotrue_meta_security:{captcha_token:(_=e.options)===null||_===void 0?void 0:_.captchaToken}}:null),xform:Ht});if(E)throw E;if(!b||!b.session||!b.user){const k=new ei;return this._returnResult({data:{user:null,session:null},error:k})}return b.session&&(await this._saveSession(b.session),await this._notifyAllSubscribers("SIGNED_IN",b.session)),this._returnResult({data:Object.assign({},b),error:E})}catch(b){if(ce(b))return this._returnResult({data:{user:null,session:null},error:b});throw b}}async signInWithSolana(e){var t,i,o,l,u,d,h,p,m,v,_,y;let w,b;if("message"in e)w=e.message,b=e.signature;else{const{chain:E,wallet:k,statement:O,options:j}=e;let H;if(tt())if(typeof k=="object")H=k;else{const U=window;if("solana"in U&&typeof U.solana=="object"&&("signIn"in U.solana&&typeof U.solana.signIn=="function"||"signMessage"in U.solana&&typeof U.solana.signMessage=="function"))H=U.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof k!="object"||!(j!=null&&j.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");H=k}const B=new URL((t=j==null?void 0:j.url)!==null&&t!==void 0?t:window.location.href);if("signIn"in H&&H.signIn){const U=await H.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},j==null?void 0:j.signInWithSolana),{version:"1",domain:B.host,uri:B.href}),O?{statement:O}:null));let $;if(Array.isArray(U)&&U[0]&&typeof U[0]=="object")$=U[0];else if(U&&typeof U=="object"&&"signedMessage"in U&&"signature"in U)$=U;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in $&&"signature"in $&&(typeof $.signedMessage=="string"||$.signedMessage instanceof Uint8Array)&&$.signature instanceof Uint8Array)w=typeof $.signedMessage=="string"?$.signedMessage:new TextDecoder().decode($.signedMessage),b=$.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in H)||typeof H.signMessage!="function"||!("publicKey"in H)||typeof H!="object"||!H.publicKey||!("toBase58"in H.publicKey)||typeof H.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");w=[`${B.host} wants you to sign in with your Solana account:`,H.publicKey.toBase58(),...O?["",O,""]:[""],"Version: 1",`URI: ${B.href}`,`Issued At: ${(o=(i=j==null?void 0:j.signInWithSolana)===null||i===void 0?void 0:i.issuedAt)!==null&&o!==void 0?o:new Date().toISOString()}`,...!((l=j==null?void 0:j.signInWithSolana)===null||l===void 0)&&l.notBefore?[`Not Before: ${j.signInWithSolana.notBefore}`]:[],...!((u=j==null?void 0:j.signInWithSolana)===null||u===void 0)&&u.expirationTime?[`Expiration Time: ${j.signInWithSolana.expirationTime}`]:[],...!((d=j==null?void 0:j.signInWithSolana)===null||d===void 0)&&d.chainId?[`Chain ID: ${j.signInWithSolana.chainId}`]:[],...!((h=j==null?void 0:j.signInWithSolana)===null||h===void 0)&&h.nonce?[`Nonce: ${j.signInWithSolana.nonce}`]:[],...!((p=j==null?void 0:j.signInWithSolana)===null||p===void 0)&&p.requestId?[`Request ID: ${j.signInWithSolana.requestId}`]:[],...!((v=(m=j==null?void 0:j.signInWithSolana)===null||m===void 0?void 0:m.resources)===null||v===void 0)&&v.length?["Resources",...j.signInWithSolana.resources.map($=>`- ${$}`)]:[]].join(`
`);const U=await H.signMessage(new TextEncoder().encode(w),"utf8");if(!U||!(U instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");b=U}}try{const{data:E,error:k}=await pe(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:w,signature:_n(b)},!((_=e.options)===null||_===void 0)&&_.captchaToken?{gotrue_meta_security:{captcha_token:(y=e.options)===null||y===void 0?void 0:y.captchaToken}}:null),xform:Ht});if(k)throw k;if(!E||!E.session||!E.user){const O=new ei;return this._returnResult({data:{user:null,session:null},error:O})}return E.session&&(await this._saveSession(E.session),await this._notifyAllSubscribers("SIGNED_IN",E.session)),this._returnResult({data:Object.assign({},E),error:k})}catch(E){if(ce(E))return this._returnResult({data:{user:null,session:null},error:E});throw E}}async _exchangeCodeForSession(e){const t=await cn(this.storage,`${this.storageKey}-code-verifier`),[i,o]=(t??"").split("/");try{if(!i&&this.flowType==="pkce")throw new Qk;const{data:l,error:u}=await pe(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:i},xform:Ht});if(await et(this.storage,`${this.storageKey}-code-verifier`),u)throw u;if(!l||!l.session||!l.user){const d=new ei;return this._returnResult({data:{user:null,session:null,redirectType:null},error:d})}return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),this._returnResult({data:Object.assign(Object.assign({},l),{redirectType:o??null}),error:u})}catch(l){if(await et(this.storage,`${this.storageKey}-code-verifier`),ce(l))return this._returnResult({data:{user:null,session:null,redirectType:null},error:l});throw l}}async signInWithIdToken(e){try{const{options:t,provider:i,token:o,access_token:l,nonce:u}=e,d=await pe(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:i,id_token:o,access_token:l,nonce:u,gotrue_meta_security:{captcha_token:t==null?void 0:t.captchaToken}},xform:Ht}),{data:h,error:p}=d;if(p)return this._returnResult({data:{user:null,session:null},error:p});if(!h||!h.session||!h.user){const m=new ei;return this._returnResult({data:{user:null,session:null},error:m})}return h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("SIGNED_IN",h.session)),this._returnResult({data:h,error:p})}catch(t){if(ce(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async signInWithOtp(e){var t,i,o,l,u;try{if("email"in e){const{email:d,options:h}=e;let p=null,m=null;this.flowType==="pkce"&&([p,m]=await ti(this.storage,this.storageKey));const{error:v}=await pe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:d,data:(t=h==null?void 0:h.data)!==null&&t!==void 0?t:{},create_user:(i=h==null?void 0:h.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:p,code_challenge_method:m},redirectTo:h==null?void 0:h.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:v})}if("phone"in e){const{phone:d,options:h}=e,{data:p,error:m}=await pe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:d,data:(o=h==null?void 0:h.data)!==null&&o!==void 0?o:{},create_user:(l=h==null?void 0:h.shouldCreateUser)!==null&&l!==void 0?l:!0,gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},channel:(u=h==null?void 0:h.channel)!==null&&u!==void 0?u:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:p==null?void 0:p.message_id},error:m})}throw new Ko("You must provide either an email or phone number.")}catch(d){if(await et(this.storage,`${this.storageKey}-code-verifier`),ce(d))return this._returnResult({data:{user:null,session:null},error:d});throw d}}async verifyOtp(e){var t,i;try{let o,l;"options"in e&&(o=(t=e.options)===null||t===void 0?void 0:t.redirectTo,l=(i=e.options)===null||i===void 0?void 0:i.captchaToken);const{data:u,error:d}=await pe(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:l}}),redirectTo:o,xform:Ht});if(d)throw d;if(!u)throw new Error("An error occurred on token verification.");const h=u.session,p=u.user;return h!=null&&h.access_token&&(await this._saveSession(h),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",h)),this._returnResult({data:{user:p,session:h},error:null})}catch(o){if(ce(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signInWithSSO(e){var t,i,o,l,u;try{let d=null,h=null;this.flowType==="pkce"&&([d,h]=await ti(this.storage,this.storageKey));const p=await pe(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(i=(t=e.options)===null||t===void 0?void 0:t.redirectTo)!==null&&i!==void 0?i:void 0}),!((o=e==null?void 0:e.options)===null||o===void 0)&&o.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:d,code_challenge_method:h}),headers:this.headers,xform:bx});return!((l=p.data)===null||l===void 0)&&l.url&&tt()&&!(!((u=e.options)===null||u===void 0)&&u.skipBrowserRedirect)&&window.location.assign(p.data.url),this._returnResult(p)}catch(d){if(await et(this.storage,`${this.storageKey}-code-verifier`),ce(d))return this._returnResult({data:null,error:d});throw d}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:t},error:i}=e;if(i)throw i;if(!t)throw new St;const{error:o}=await pe(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:t.access_token});return this._returnResult({data:{user:null,session:null},error:o})})}catch(e){if(ce(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const t=`${this.url}/resend`;if("email"in e){const{email:i,type:o,options:l}=e,{error:u}=await pe(this.fetch,"POST",t,{headers:this.headers,body:{email:i,type:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},redirectTo:l==null?void 0:l.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:u})}else if("phone"in e){const{phone:i,type:o,options:l}=e,{data:u,error:d}=await pe(this.fetch,"POST",t,{headers:this.headers,body:{phone:i,type:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d})}throw new Ko("You must provide either an email or phone number and a type")}catch(t){if(ce(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async t=>t))}async _acquireLock(e,t){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const i=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),o=(async()=>(await i,await t()))();return this.pendingInLock.push((async()=>{try{await o}catch{}})()),o}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const i=t();for(this.pendingInLock.push((async()=>{try{await i}catch{}})()),await i;this.pendingInLock.length;){const o=[...this.pendingInLock];await Promise.all(o),this.pendingInLock.splice(0,o.length)}return await i}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const t=await this.__loadSession();return await e(t)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const t=await cn(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",t),t!==null&&(this._isValidSession(t)?e=t:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const i=e.expires_at?e.expires_at*1e3-Date.now()<rc:!1;if(this._debug("#__loadSession()",`session has${i?"":" not"} expired`,"expires_at",e.expires_at),!i){if(this.userStorage){const u=await cn(this.userStorage,this.storageKey+"-user");u!=null&&u.user?e.user=u.user:e.user=sc()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const u={value:this.suppressGetSessionWarning};e.user=vx(e.user,u),u.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:o,error:l}=await this._callRefreshToken(e.refresh_token);return l?this._returnResult({data:{session:null},error:l}):this._returnResult({data:{session:o},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){if(e)return await this._getUser(e);await this.initializePromise;const t=await this._acquireLock(-1,async()=>await this._getUser());return t.data.user&&(this.suppressGetSessionWarning=!0),t}async _getUser(e){try{return e?await pe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Wr}):await this._useSession(async t=>{var i,o,l;const{data:u,error:d}=t;if(d)throw d;return!(!((i=u.session)===null||i===void 0)&&i.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new St}:await pe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(l=(o=u.session)===null||o===void 0?void 0:o.access_token)!==null&&l!==void 0?l:void 0,xform:Wr})})}catch(t){if(ce(t))return Yk(t)&&(await this._removeSession(),await et(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:t});throw t}}async updateUser(e,t={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,t))}async _updateUser(e,t={}){try{return await this._useSession(async i=>{const{data:o,error:l}=i;if(l)throw l;if(!o.session)throw new St;const u=o.session;let d=null,h=null;this.flowType==="pkce"&&e.email!=null&&([d,h]=await ti(this.storage,this.storageKey));const{data:p,error:m}=await pe(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:t==null?void 0:t.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:d,code_challenge_method:h}),jwt:u.access_token,xform:Wr});if(m)throw m;return u.user=p.user,await this._saveSession(u),await this._notifyAllSubscribers("USER_UPDATED",u),this._returnResult({data:{user:u.user},error:null})})}catch(i){if(await et(this.storage,`${this.storageKey}-code-verifier`),ce(i))return this._returnResult({data:{user:null},error:i});throw i}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new St;const t=Date.now()/1e3;let i=t,o=!0,l=null;const{payload:u}=ic(e.access_token);if(u.exp&&(i=u.exp,o=i<=t),o){const{data:d,error:h}=await this._callRefreshToken(e.refresh_token);if(h)return this._returnResult({data:{user:null,session:null},error:h});if(!d)return{data:{user:null,session:null},error:null};l=d}else{const{data:d,error:h}=await this._getUser(e.access_token);if(h)throw h;l={access_token:e.access_token,refresh_token:e.refresh_token,user:d.user,token_type:"bearer",expires_in:i-t,expires_at:i},await this._saveSession(l),await this._notifyAllSubscribers("SIGNED_IN",l)}return this._returnResult({data:{user:l.user,session:l},error:null})}catch(t){if(ce(t))return this._returnResult({data:{session:null,user:null},error:t});throw t}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async t=>{var i;if(!e){const{data:u,error:d}=t;if(d)throw d;e=(i=u.session)!==null&&i!==void 0?i:void 0}if(!(e!=null&&e.refresh_token))throw new St;const{data:o,error:l}=await this._callRefreshToken(e.refresh_token);return l?this._returnResult({data:{user:null,session:null},error:l}):o?this._returnResult({data:{user:o.user,session:o},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(t){if(ce(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async _getSessionFromURL(e,t){try{if(!tt())throw new Yo("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Yo(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(t){case"implicit":if(this.flowType==="pkce")throw new Cg("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Yo("Not a valid implicit grant flow url.");break;default:}if(t==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new Cg("No code detected.");const{data:O,error:j}=await this._exchangeCodeForSession(e.code);if(j)throw j;const H=new URL(window.location.href);return H.searchParams.delete("code"),window.history.replaceState(window.history.state,"",H.toString()),{data:{session:O.session,redirectType:null},error:null}}const{provider_token:i,provider_refresh_token:o,access_token:l,refresh_token:u,expires_in:d,expires_at:h,token_type:p}=e;if(!l||!d||!u||!p)throw new Yo("No session defined in URL");const m=Math.round(Date.now()/1e3),v=parseInt(d);let _=m+v;h&&(_=parseInt(h));const y=_-m;y*1e3<=ui&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${y}s, should have been closer to ${v}s`);const w=_-v;m-w>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",w,_,m):m-w<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",w,_,m);const{data:b,error:E}=await this._getUser(l);if(E)throw E;const k={provider_token:i,provider_refresh_token:o,access_token:l,expires_in:v,expires_at:_,refresh_token:u,token_type:p,user:b.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:k,redirectType:e.type},error:null})}catch(i){if(ce(i))return this._returnResult({data:{session:null,redirectType:null},error:i});throw i}}_isImplicitGrantCallback(e){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),e):!!(e.access_token||e.error_description)}async _isPKCECallback(e){const t=await cn(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&t)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async t=>{var i;const{data:o,error:l}=t;if(l)return this._returnResult({error:l});const u=(i=o.session)===null||i===void 0?void 0:i.access_token;if(u){const{error:d}=await this.admin.signOut(u,e);if(d&&!(Kk(d)&&(d.status===404||d.status===401||d.status===403)))return this._returnResult({error:d})}return e!=="others"&&(await this._removeSession(),await et(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const t=ix(),i={id:t,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",t),this.stateChangeEmitters.delete(t)}};return this._debug("#onAuthStateChange()","registered callback with id",t),this.stateChangeEmitters.set(t,i),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(t)})))(),{data:{subscription:i}}}async _emitInitialSession(e){return await this._useSession(async t=>{var i,o;try{const{data:{session:l},error:u}=t;if(u)throw u;await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",l)),this._debug("INITIAL_SESSION","callback id",e,"session",l)}catch(l){await((o=this.stateChangeEmitters.get(e))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",l),console.error(l)}})}async resetPasswordForEmail(e,t={}){let i=null,o=null;this.flowType==="pkce"&&([i,o]=await ti(this.storage,this.storageKey,!0));try{return await pe(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:i,code_challenge_method:o,gotrue_meta_security:{captcha_token:t.captchaToken}},headers:this.headers,redirectTo:t.redirectTo})}catch(l){if(await et(this.storage,`${this.storageKey}-code-verifier`),ce(l))return this._returnResult({data:null,error:l});throw l}}async getUserIdentities(){var e;try{const{data:t,error:i}=await this.getUser();if(i)throw i;return this._returnResult({data:{identities:(e=t.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(t){if(ce(t))return this._returnResult({data:null,error:t});throw t}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var t;try{const{data:i,error:o}=await this._useSession(async l=>{var u,d,h,p,m;const{data:v,error:_}=l;if(_)throw _;const y=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(u=e.options)===null||u===void 0?void 0:u.redirectTo,scopes:(d=e.options)===null||d===void 0?void 0:d.scopes,queryParams:(h=e.options)===null||h===void 0?void 0:h.queryParams,skipBrowserRedirect:!0});return await pe(this.fetch,"GET",y,{headers:this.headers,jwt:(m=(p=v.session)===null||p===void 0?void 0:p.access_token)!==null&&m!==void 0?m:void 0})});if(o)throw o;return tt()&&!(!((t=e.options)===null||t===void 0)&&t.skipBrowserRedirect)&&window.location.assign(i==null?void 0:i.url),this._returnResult({data:{provider:e.provider,url:i==null?void 0:i.url},error:null})}catch(i){if(ce(i))return this._returnResult({data:{provider:e.provider,url:null},error:i});throw i}}async linkIdentityIdToken(e){return await this._useSession(async t=>{var i;try{const{error:o,data:{session:l}}=t;if(o)throw o;const{options:u,provider:d,token:h,access_token:p,nonce:m}=e,v=await pe(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(i=l==null?void 0:l.access_token)!==null&&i!==void 0?i:void 0,body:{provider:d,id_token:h,access_token:p,nonce:m,link_identity:!0,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}},xform:Ht}),{data:_,error:y}=v;return y?this._returnResult({data:{user:null,session:null},error:y}):!_||!_.session||!_.user?this._returnResult({data:{user:null,session:null},error:new ei}):(_.session&&(await this._saveSession(_.session),await this._notifyAllSubscribers("USER_UPDATED",_.session)),this._returnResult({data:_,error:y}))}catch(o){if(await et(this.storage,`${this.storageKey}-code-verifier`),ce(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}})}async unlinkIdentity(e){try{return await this._useSession(async t=>{var i,o;const{data:l,error:u}=t;if(u)throw u;return await pe(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(o=(i=l.session)===null||i===void 0?void 0:i.access_token)!==null&&o!==void 0?o:void 0})})}catch(t){if(ce(t))return this._returnResult({data:null,error:t});throw t}}async _refreshAccessToken(e){const t=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(t,"begin");try{const i=Date.now();return await lx(async o=>(o>0&&await ax(200*Math.pow(2,o-1)),this._debug(t,"refreshing attempt",o),await pe(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Ht})),(o,l)=>{const u=200*Math.pow(2,o);return l&&nc(l)&&Date.now()+u-i<ui})}catch(i){if(this._debug(t,"error",i),ce(i))return this._returnResult({data:{session:null,user:null},error:i});throw i}finally{this._debug(t,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,t){const i=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:t.redirectTo,scopes:t.scopes,queryParams:t.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",t,"url",i),tt()&&!t.skipBrowserRedirect&&window.location.assign(i),{data:{provider:e,url:i},error:null}}async _recoverAndRefresh(){var e,t;const i="#_recoverAndRefresh()";this._debug(i,"begin");try{const o=await cn(this.storage,this.storageKey);if(o&&this.userStorage){let u=await cn(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!u&&(u={user:o.user},await ci(this.userStorage,this.storageKey+"-user",u)),o.user=(e=u==null?void 0:u.user)!==null&&e!==void 0?e:sc()}else if(o&&!o.user&&!o.user){const u=await cn(this.storage,this.storageKey+"-user");u&&(u!=null&&u.user)?(o.user=u.user,await et(this.storage,this.storageKey+"-user"),await ci(this.storage,this.storageKey,o)):o.user=sc()}if(this._debug(i,"session from storage",o),!this._isValidSession(o)){this._debug(i,"session is not valid"),o!==null&&await this._removeSession();return}const l=((t=o.expires_at)!==null&&t!==void 0?t:1/0)*1e3-Date.now()<rc;if(this._debug(i,`session has${l?"":" not"} expired with margin of ${rc}s`),l){if(this.autoRefreshToken&&o.refresh_token){const{error:u}=await this._callRefreshToken(o.refresh_token);u&&(console.error(u),nc(u)||(this._debug(i,"refresh failed with a non-retryable error, removing the session",u),await this._removeSession()))}}else if(o.user&&o.user.__isUserNotAvailableProxy===!0)try{const{data:u,error:d}=await this._getUser(o.access_token);!d&&(u!=null&&u.user)?(o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)):this._debug(i,"could not get user data, skipping SIGNED_IN notification")}catch(u){console.error("Error getting user data:",u),this._debug(i,"error getting user data, skipping SIGNED_IN notification",u)}else await this._notifyAllSubscribers("SIGNED_IN",o)}catch(o){this._debug(i,"error",o),console.error(o);return}finally{this._debug(i,"end")}}async _callRefreshToken(e){var t,i;if(!e)throw new St;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const o=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(o,"begin");try{this.refreshingDeferred=new za;const{data:l,error:u}=await this._refreshAccessToken(e);if(u)throw u;if(!l.session)throw new St;await this._saveSession(l.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",l.session);const d={data:l.session,error:null};return this.refreshingDeferred.resolve(d),d}catch(l){if(this._debug(o,"error",l),ce(l)){const u={data:null,error:l};return nc(l)||await this._removeSession(),(t=this.refreshingDeferred)===null||t===void 0||t.resolve(u),u}throw(i=this.refreshingDeferred)===null||i===void 0||i.reject(l),l}finally{this.refreshingDeferred=null,this._debug(o,"end")}}async _notifyAllSubscribers(e,t,i=!0){const o=`#_notifyAllSubscribers(${e})`;this._debug(o,"begin",t,`broadcast = ${i}`);try{this.broadcastChannel&&i&&this.broadcastChannel.postMessage({event:e,session:t});const l=[],u=Array.from(this.stateChangeEmitters.values()).map(async d=>{try{await d.callback(e,t)}catch(h){l.push(h)}});if(await Promise.all(u),l.length>0){for(let d=0;d<l.length;d+=1)console.error(l[d]);throw l[0]}}finally{this._debug(o,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await et(this.storage,`${this.storageKey}-code-verifier`);const t=Object.assign({},e),i=t.user&&t.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!i&&t.user&&await ci(this.userStorage,this.storageKey+"-user",{user:t.user});const o=Object.assign({},t);delete o.user;const l=Ag(o);await ci(this.storage,this.storageKey,l)}else{const o=Ag(t);await ci(this.storage,this.storageKey,o)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await et(this.storage,this.storageKey),await et(this.storage,this.storageKey+"-code-verifier"),await et(this.storage,this.storageKey+"-user"),this.userStorage&&await et(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&tt()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(t){console.error("removing visibilitychange callback failed",t)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),ui);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async t=>{const{data:{session:i}}=t;if(!i||!i.refresh_token||!i.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const o=Math.floor((i.expires_at*1e3-e)/ui);this._debug("#_autoRefreshTokenTick()",`access token expires in ${o} ticks, a tick lasts ${ui}ms, refresh threshold is ${Gc} ticks`),o<=Gc&&await this._callRefreshToken(i.refresh_token)})}catch(t){console.error("Auto refresh tick failed with error. This is likely a transient error.",t)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof Ny)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!tt()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const t=`#_onVisibilityChanged(${e})`;this._debug(t,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(t,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,t,i){const o=[`provider=${encodeURIComponent(t)}`];if(i!=null&&i.redirectTo&&o.push(`redirect_to=${encodeURIComponent(i.redirectTo)}`),i!=null&&i.scopes&&o.push(`scopes=${encodeURIComponent(i.scopes)}`),this.flowType==="pkce"){const[l,u]=await ti(this.storage,this.storageKey),d=new URLSearchParams({code_challenge:`${encodeURIComponent(l)}`,code_challenge_method:`${encodeURIComponent(u)}`});o.push(d.toString())}if(i!=null&&i.queryParams){const l=new URLSearchParams(i.queryParams);o.push(l.toString())}return i!=null&&i.skipBrowserRedirect&&o.push(`skip_http_redirect=${i.skipBrowserRedirect}`),`${e}?${o.join("&")}`}async _unenroll(e){try{return await this._useSession(async t=>{var i;const{data:o,error:l}=t;return l?this._returnResult({data:null,error:l}):await pe(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(i=o==null?void 0:o.session)===null||i===void 0?void 0:i.access_token})})}catch(t){if(ce(t))return this._returnResult({data:null,error:t});throw t}}async _enroll(e){try{return await this._useSession(async t=>{var i,o;const{data:l,error:u}=t;if(u)return this._returnResult({data:null,error:u});const d=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:h,error:p}=await pe(this.fetch,"POST",`${this.url}/factors`,{body:d,headers:this.headers,jwt:(i=l==null?void 0:l.session)===null||i===void 0?void 0:i.access_token});return p?this._returnResult({data:null,error:p}):(e.factorType==="totp"&&h.type==="totp"&&(!((o=h==null?void 0:h.totp)===null||o===void 0)&&o.qr_code)&&(h.totp.qr_code=`data:image/svg+xml;utf-8,${h.totp.qr_code}`),this._returnResult({data:h,error:null}))})}catch(t){if(ce(t))return this._returnResult({data:null,error:t});throw t}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var i;const{data:o,error:l}=t;if(l)return this._returnResult({data:null,error:l});const u=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?Lx(e.webauthn.credential_response):Ux(e.webauthn.credential_response)})}:{code:e.code}),{data:d,error:h}=await pe(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:u,headers:this.headers,jwt:(i=o==null?void 0:o.session)===null||i===void 0?void 0:i.access_token});return h?this._returnResult({data:null,error:h}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+d.expires_in},d)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",d),this._returnResult({data:d,error:h}))})}catch(t){if(ce(t))return this._returnResult({data:null,error:t});throw t}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var i;const{data:o,error:l}=t;if(l)return this._returnResult({data:null,error:l});const u=await pe(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(i=o==null?void 0:o.session)===null||i===void 0?void 0:i.access_token});if(u.error)return u;const{data:d}=u;if(d.type!=="webauthn")return{data:d,error:null};switch(d.webauthn.type){case"create":return{data:Object.assign(Object.assign({},d),{webauthn:Object.assign(Object.assign({},d.webauthn),{credential_options:Object.assign(Object.assign({},d.webauthn.credential_options),{publicKey:Mx(d.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},d),{webauthn:Object.assign(Object.assign({},d.webauthn),{credential_options:Object.assign(Object.assign({},d.webauthn.credential_options),{publicKey:$x(d.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(t){if(ce(t))return this._returnResult({data:null,error:t});throw t}})}async _challengeAndVerify(e){const{data:t,error:i}=await this._challenge({factorId:e.factorId});return i?this._returnResult({data:null,error:i}):await this._verify({factorId:e.factorId,challengeId:t.id,code:e.code})}async _listFactors(){var e;const{data:{user:t},error:i}=await this.getUser();if(i)return{data:null,error:i};const o={all:[],phone:[],totp:[],webauthn:[]};for(const l of(e=t==null?void 0:t.factors)!==null&&e!==void 0?e:[])o.all.push(l),l.status==="verified"&&o[l.factor_type].push(l);return{data:o,error:null}}async _getAuthenticatorAssuranceLevel(){var e,t;const{data:{session:i},error:o}=await this.getSession();if(o)return this._returnResult({data:null,error:o});if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:l}=ic(i.access_token);let u=null;l.aal&&(u=l.aal);let d=u;((t=(e=i.user.factors)===null||e===void 0?void 0:e.filter(m=>m.status==="verified"))!==null&&t!==void 0?t:[]).length>0&&(d="aal2");const p=l.amr||[];return{data:{currentLevel:u,nextLevel:d,currentAuthenticationMethods:p},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async t=>{const{data:{session:i},error:o}=t;return o?this._returnResult({data:null,error:o}):i?await pe(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:i.access_token,xform:l=>({data:l,error:null})}):this._returnResult({data:null,error:new St})})}catch(t){if(ce(t))return this._returnResult({data:null,error:t});throw t}}async _approveAuthorization(e,t){try{return await this._useSession(async i=>{const{data:{session:o},error:l}=i;if(l)return this._returnResult({data:null,error:l});if(!o)return this._returnResult({data:null,error:new St});const u=await pe(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:o.access_token,body:{action:"approve"},xform:d=>({data:d,error:null})});return u.data&&u.data.redirect_url&&tt()&&!(t!=null&&t.skipBrowserRedirect)&&window.location.assign(u.data.redirect_url),u})}catch(i){if(ce(i))return this._returnResult({data:null,error:i});throw i}}async _denyAuthorization(e,t){try{return await this._useSession(async i=>{const{data:{session:o},error:l}=i;if(l)return this._returnResult({data:null,error:l});if(!o)return this._returnResult({data:null,error:new St});const u=await pe(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:o.access_token,body:{action:"deny"},xform:d=>({data:d,error:null})});return u.data&&u.data.redirect_url&&tt()&&!(t!=null&&t.skipBrowserRedirect)&&window.location.assign(u.data.redirect_url),u})}catch(i){if(ce(i))return this._returnResult({data:null,error:i});throw i}}async _listOAuthGrants(){try{return await this._useSession(async e=>{const{data:{session:t},error:i}=e;return i?this._returnResult({data:null,error:i}):t?await pe(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:t.access_token,xform:o=>({data:o,error:null})}):this._returnResult({data:null,error:new St})})}catch(e){if(ce(e))return this._returnResult({data:null,error:e});throw e}}async _revokeOAuthGrant(e){try{return await this._useSession(async t=>{const{data:{session:i},error:o}=t;return o?this._returnResult({data:null,error:o}):i?(await pe(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:i.access_token,query:{client_id:e.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new St})})}catch(t){if(ce(t))return this._returnResult({data:null,error:t});throw t}}async fetchJwk(e,t={keys:[]}){let i=t.keys.find(d=>d.kid===e);if(i)return i;const o=Date.now();if(i=this.jwks.keys.find(d=>d.kid===e),i&&this.jwks_cached_at+Vk>o)return i;const{data:l,error:u}=await pe(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(u)throw u;return!l.keys||l.keys.length===0||(this.jwks=l,this.jwks_cached_at=o,i=l.keys.find(d=>d.kid===e),!i)?null:i}async getClaims(e,t={}){try{let i=e;if(!i){const{data:y,error:w}=await this.getSession();if(w||!y.session)return this._returnResult({data:null,error:w});i=y.session.access_token}const{header:o,payload:l,signature:u,raw:{header:d,payload:h}}=ic(i);t!=null&&t.allowExpired||gx(l.exp);const p=!o.alg||o.alg.startsWith("HS")||!o.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(o.kid,t!=null&&t.keys?{keys:t.keys}:t==null?void 0:t.jwks);if(!p){const{error:y}=await this.getUser(i);if(y)throw y;return{data:{claims:l,header:o,signature:u},error:null}}const m=mx(o.alg),v=await crypto.subtle.importKey("jwk",p,m,!0,["verify"]);if(!await crypto.subtle.verify(m,v,u,rx(`${d}.${h}`)))throw new Jc("Invalid JWT signature");return{data:{claims:l,header:o,signature:u},error:null}}catch(i){if(ce(i))return this._returnResult({data:null,error:i});throw i}}}xs.nextInstanceID={};const Kx=xs,Yx="2.89.0";let hs="";typeof Deno<"u"?hs="deno":typeof document<"u"?hs="web":typeof navigator<"u"&&navigator.product==="ReactNative"?hs="react-native":hs="node";const Jx={"X-Client-Info":`supabase-js-${hs}/${Yx}`},Qx={headers:Jx},Xx={schema:"public"},Zx={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},eT={};function Ts(r){"@babel/helpers - typeof";return Ts=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ts(r)}function tT(r,e){if(Ts(r)!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var i=t.call(r,e||"default");if(Ts(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function rT(r){var e=tT(r,"string");return Ts(e)=="symbol"?e:e+""}function nT(r,e,t){return(e=rT(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function Fg(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(r);e&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(r,o).enumerable})),t.push.apply(t,i)}return t}function Fe(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Fg(Object(t),!0).forEach(function(i){nT(r,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):Fg(Object(t)).forEach(function(i){Object.defineProperty(r,i,Object.getOwnPropertyDescriptor(t,i))})}return r}const iT=r=>r?(...e)=>r(...e):(...e)=>fetch(...e),sT=()=>Headers,oT=(r,e,t)=>{const i=iT(t),o=sT();return async(l,u)=>{var d;const h=(d=await e())!==null&&d!==void 0?d:r;let p=new o(u==null?void 0:u.headers);return p.has("apikey")||p.set("apikey",r),p.has("Authorization")||p.set("Authorization",`Bearer ${h}`),i(l,Fe(Fe({},u),{},{headers:p}))}};function aT(r){return r.endsWith("/")?r:r+"/"}function lT(r,e){var t,i;const{db:o,auth:l,realtime:u,global:d}=r,{db:h,auth:p,realtime:m,global:v}=e,_={db:Fe(Fe({},h),o),auth:Fe(Fe({},p),l),realtime:Fe(Fe({},m),u),storage:{},global:Fe(Fe(Fe({},v),d),{},{headers:Fe(Fe({},(t=v==null?void 0:v.headers)!==null&&t!==void 0?t:{}),(i=d==null?void 0:d.headers)!==null&&i!==void 0?i:{})}),accessToken:async()=>""};return r.accessToken?_.accessToken=r.accessToken:delete _.accessToken,_}function uT(r){const e=r==null?void 0:r.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(aT(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var cT=class extends Kx{constructor(r){super(r)}},dT=class{constructor(r,e,t){var i,o;this.supabaseUrl=r,this.supabaseKey=e;const l=uT(r);if(!e)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const u=`sb-${l.hostname.split(".")[0]}-auth-token`,d={db:Xx,realtime:eT,auth:Fe(Fe({},Zx),{},{storageKey:u}),global:Qx},h=lT(t??{},d);if(this.storageKey=(i=h.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(o=h.global.headers)!==null&&o!==void 0?o:{},h.accessToken)this.accessToken=h.accessToken,this.auth=new Proxy({},{get:(m,v)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(v)} is not possible`)}});else{var p;this.auth=this._initSupabaseAuthClient((p=h.auth)!==null&&p!==void 0?p:{},this.headers,h.global.fetch)}this.fetch=oT(e,this._getAccessToken.bind(this),h.global.fetch),this.realtime=this._initRealtimeClient(Fe({headers:this.headers,accessToken:this._getAccessToken.bind(this)},h.realtime)),this.accessToken&&this.accessToken().then(m=>this.realtime.setAuth(m)).catch(m=>console.warn("Failed to set initial Realtime auth token:",m)),this.rest=new H1(new URL("rest/v1",l).href,{headers:this.headers,schema:h.db.schema,fetch:this.fetch}),this.storage=new zk(this.storageUrl.href,this.headers,this.fetch,t==null?void 0:t.storage),h.accessToken||this._listenForAuthEvents()}get functions(){return new U1(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(r){return this.rest.from(r)}schema(r){return this.rest.schema(r)}rpc(r,e={},t={head:!1,get:!1,count:void 0}){return this.rest.rpc(r,e,t)}channel(r,e={config:{}}){return this.realtime.channel(r,e)}getChannels(){return this.realtime.getChannels()}removeChannel(r){return this.realtime.removeChannel(r)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var r=this,e,t;if(r.accessToken)return await r.accessToken();const{data:i}=await r.auth.getSession();return(e=(t=i.session)===null||t===void 0?void 0:t.access_token)!==null&&e!==void 0?e:r.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:r,persistSession:e,detectSessionInUrl:t,storage:i,userStorage:o,storageKey:l,flowType:u,lock:d,debug:h,throwOnError:p},m,v){const _={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new cT({url:this.authUrl.href,headers:Fe(Fe({},_),m),storageKey:l,autoRefreshToken:r,persistSession:e,detectSessionInUrl:t,storage:i,userStorage:o,flowType:u,lock:d,debug:h,throwOnError:p,fetch:v,hasCustomAuthorizationHeader:Object.keys(this.headers).some(y=>y.toLowerCase()==="authorization")})}_initRealtimeClient(r){return new ak(this.realtimeUrl.href,Fe(Fe({},r),{},{params:Fe(Fe({},{apikey:this.supabaseKey}),r==null?void 0:r.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,e)=>{this._handleTokenChanged(r,"CLIENT",e==null?void 0:e.access_token)})}_handleTokenChanged(r,e,t){(r==="TOKEN_REFRESHED"||r==="SIGNED_IN")&&this.changedAccessToken!==t?(this.changedAccessToken=t,this.realtime.setAuth(t)):r==="SIGNED_OUT"&&(this.realtime.setAuth(),e=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const hT=(r,e,t)=>new dT(r,e,t);function fT(){if(typeof window<"u"||typeof process>"u")return!1;const r=process.version;if(r==null)return!1;const e=r.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}fT()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const pT="https://zsjpvuyihsfhqzmiogyi.supabase.co",$y="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InpzanB2dXlpaHNmaHF6bWlvZ3lpIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjYxMTY0MjQsImV4cCI6MjA4MTY5MjQyNH0.f6Sm15GyZm87tMHkPxQxk1zuWjY6ztTMsENxMh41qZM",Od=!!$y,jt=Od?hT(pT,$y):null;Od||console.warn("[Supabase] VITE_SUPABASE_URL / VITE_SUPABASE_ANON_KEY not configured; data will not load.");async function Qc(r,e){if(!jt)return null;const{data:t,error:i}=await jt.from("workout_logs").select("*").eq("user_id",r).eq("date",e).order("updated_at",{ascending:!1}).limit(1).maybeSingle();return i?(console.error("Error fetching workout log:",i),null):t}async function gT(r){if(!jt)return null;const{data:e,error:t}=await jt.from("workout_logs").upsert({user_id:r.user_id,date:r.date,plan_workout:r.plan_workout,completed:r.completed,actual_distance:r.actual_distance||null,actual_pace:r.actual_pace||null,notes:r.notes||null,updated_at:new Date().toISOString()},{onConflict:"user_id,date"}).select().single();return t?(console.error("Error upserting workout log:",t),null):e}const mT=({isOpen:r,onClose:e,userId:t,date:i,planWorkout:o,onSave:l})=>{const[u,d]=N.useState(!1),[h,p]=N.useState(""),[m,v]=N.useState(""),[_,y]=N.useState(""),[w,b]=N.useState(!1),[E,k]=N.useState(!0);N.useEffect(()=>{r&&(k(!0),Qc(t,i).then(H=>{H?(d(H.completed),p(H.actual_distance||""),v(H.actual_pace||""),y(H.notes||"")):(d(!1),p(""),v(""),y(""))}).finally(()=>k(!1)))},[r,t,i]);const O=async()=>{b(!0);const H={user_id:t,date:i,plan_workout:o,completed:u,actual_distance:h.trim()||void 0,actual_pace:m.trim()||void 0,notes:_.trim()||void 0},B=await gT(H);b(!1),B?(l==null||l(),e()):alert("Failed to save workout log. Please try again.")},j=()=>{e()};return r?x.jsx("div",{className:"modal-overlay",onClick:j,children:x.jsxs("div",{className:"modal-content",onClick:H=>H.stopPropagation(),children:[x.jsx("h2",{children:"Log Workout"}),x.jsx("div",{className:"modal-date",children:new Date(i).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})}),x.jsxs("div",{className:"modal-workout-prescribed",children:[x.jsx("strong",{children:"Prescribed:"})," ",o||"Rest day"]}),E?x.jsx("div",{className:"modal-loading",children:"Loading..."}):x.jsxs(x.Fragment,{children:[x.jsx("div",{className:"modal-field",children:x.jsxs("label",{children:[x.jsx("input",{type:"checkbox",checked:u,onChange:H=>d(H.target.checked)})," ","Mark as completed"]})}),x.jsxs("div",{className:"modal-field",children:[x.jsx("label",{htmlFor:"actual-distance",children:"Actual Distance"}),x.jsx("input",{id:"actual-distance",type:"text",placeholder:"e.g., 6.2 mi or 10 km",value:h,onChange:H=>p(H.target.value)})]}),x.jsxs("div",{className:"modal-field",children:[x.jsx("label",{htmlFor:"actual-pace",children:"Actual Pace"}),x.jsx("input",{id:"actual-pace",type:"text",placeholder:"e.g., 8:20/mi average",value:m,onChange:H=>v(H.target.value)})]}),x.jsxs("div",{className:"modal-field",children:[x.jsx("label",{htmlFor:"notes",children:"Notes"}),x.jsx("textarea",{id:"notes",rows:4,placeholder:"How did it feel? Any observations?",value:_,onChange:H=>y(H.target.value)})]}),x.jsxs("div",{className:"modal-buttons",children:[x.jsx("button",{className:"modal-btn modal-btn-cancel",onClick:j,disabled:w,children:"Cancel"}),x.jsx("button",{className:"modal-btn modal-btn-save",onClick:O,disabled:w,children:w?"Saving...":"Save"})]})]})]})}):null};function yT(r,e,t){let[i,o]=La(r,e,t);return o=i.replace(/\s/g,"")===o.replace(/\s/g,"")?"":o,x.jsxs(x.Fragment,{children:[x.jsx("p",{children:x.jsx("span",{className:"workout-title",children:i})}),o&&x.jsx("p",{children:x.jsx("span",{className:"workout-description",children:o})})]})}function vT(r,e){if(!r||!e)return null;const t=r.toLowerCase(),i=[{label:"Recovery",synonyms:["recovery"]},{label:"Gen-aerobic",synonyms:["gen-aerobic","general aerobic","aerobic"]},{label:"Long/Medium",synonyms:["long/medium","long/medium long","long run","medium long","med-long"]},{label:"Marathon",synonyms:["marathon"]},{label:"LT",synonyms:["lt","lactate threshold","threshold"]},{label:"VO2max",synonyms:["vo2max","vo2 max"]}];for(const o of i)if(o.synonyms.some(l=>t.includes(l))){const l=Object.keys(e).find(u=>o.synonyms.some(d=>u.toLowerCase().includes(d)));if(l&&e[l].pace_range)return e[l].pace_range}return null}const wT=({dayDetails:r,date:e,units:t,paceData:i,isCurrentWeek:o,userId:l,isCheckboxSelected:u,onCheckboxToggle:d})=>{const[h,p]=N.useState(!1),[m,v]=N.useState(null),_=e.toISOString().split("T")[0];N.useEffect(()=>{l&&Qc(l,_).then(v)},[l,_]);const y=()=>{Qc(l,_).then(v)},[{isDragging:w},b,E]=my({type:wa.DAY,item:{date:e,dayDetails:r,units:t},collect:B=>({isDragging:B.isDragging(),canDrag:r!==void 0}),end:(B,U)=>{U.getDropResult()}}),k=o?vT(r.title,i):null,[O]=La(r,r.sourceUnits,t),j=B=>{B.target.closest(".drag-handle")||B.target.closest('input[type="checkbox"]')||p(!0)},H=B=>{B.stopPropagation(),d(e)};return x.jsxs(x.Fragment,{children:[x.jsxs("div",{ref:E,className:`workout-card ${w?"dragging":""} ${m!=null&&m.completed?"completed":""}`,style:{display:"flex",flexDirection:"column",cursor:"pointer",minWidth:0,width:"100%",position:"relative"},onClick:j,children:[x.jsx(vy,{$date:e}),x.jsx("input",{type:"checkbox",checked:u,onChange:H,style:{position:"absolute",bottom:"0.25rem",right:"0.25rem",width:"1.25rem",height:"1.25rem",cursor:"pointer",zIndex:10,margin:0,padding:0,opacity:.4},title:"Select workout for swap"}),(m==null?void 0:m.completed)&&x.jsx("div",{style:{position:"absolute",top:"0.5rem",left:"0.5rem",fontSize:"1.2rem"},children:""}),x.jsxs("div",{className:"workout-content",style:{flex:1,display:"flex",flexDirection:"column",minWidth:0},children:[x.jsx("div",{ref:b,className:"drag-handle",children:x.jsx(wy,{viewBox:"0 0 32 36"})}),x.jsx("div",{style:{flex:1,minWidth:0,overflow:"hidden"},children:yT(r,r.sourceUnits,t)}),k&&x.jsx("div",{style:{textAlign:"center",fontSize:"0.75rem",color:"#666",fontStyle:"italic",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",paddingTop:"0.25rem",borderTop:"1px solid #eee",marginTop:"0.25rem",maxWidth:"100%",minWidth:0},children:k}),(m==null?void 0:m.actual_pace)&&x.jsxs("div",{style:{textAlign:"center",fontSize:"0.75rem",color:"#28a745",fontWeight:600,marginTop:"0.25rem",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%",minWidth:0},children:["Actual: ",m.actual_pace]}),(m==null?void 0:m.notes)&&x.jsxs("div",{style:{fontSize:"0.7rem",color:"#666",fontStyle:"italic",marginTop:"0.25rem",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%",minWidth:0},children:[" ",m.notes]})]})]}),x.jsx(mT,{isOpen:h,onClose:()=>p(!1),userId:l,date:_,planWorkout:O,onSave:y})]})},_T=({date:r})=>x.jsxs("div",{className:"blank-card",children:[x.jsx(vy,{$date:r}),x.jsx("div",{className:"blank-content"})]}),Jo=({color:r})=>x.jsx("div",{style:{position:"absolute",top:0,left:0,height:"100%",width:"100%",zIndex:1,opacity:.5,backgroundColor:r}}),ST=({dayDetails:r,date:e,units:t,swap:i,selected:o,hovering:l,isToday:u,todayRef:d,paceData:h,isCurrentWeek:p,userId:m,isCheckboxSelected:v,onCheckboxToggle:_})=>{u&&console.log("[DayCell] isToday:",e,"isToday:",u);function y(k){return r!==void 0&&e!==k}const[{isOver:w,canDrop:b},E]=yy({accept:wa.DAY,canDrop:k=>y(k.date),drop:k=>{i(e,k.date)},collect:k=>({isOver:k.isOver(),canDrop:k.canDrop(),droppedItem:k.getItem()})});return x.jsx("div",{style:{position:"relative",width:"100%",height:"100%"},children:x.jsxs("div",{className:`day-cell${u?" today-highlight":""}`,ref:u&&d?k=>{E(k),d(k)}:E,children:[r&&x.jsx(wT,{dayDetails:r,date:e,units:t,swap:i,paceData:h,isCurrentWeek:p,userId:m,isCheckboxSelected:v,onCheckboxToggle:_}),!r&&x.jsx(_T,{date:e}),w&&!b&&x.jsx(Jo,{color:"pink"}),w&&b&&x.jsx(Jo,{color:"lightgreen"}),r&&o&&x.jsx(Jo,{color:"pink"}),r&&!o&&l&&x.jsx(Jo,{color:"lightgreen"})]})})},bT="/Running_Calendar-dev/assets/start-Q1SybB1L.svg",ET="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20viewBox='0%200%20512%20512'%3e%3cdefs%3e%3clinearGradient%20id='a'%20x1='352.68'%20y1='489.09'%20x2='178.77'%20y2='315.19'%20gradientUnits='userSpaceOnUse'%3e%3cstop%20offset='0'%20stop-color='%237f4d05'/%3e%3cstop%20offset='1'%20stop-color='%23773a04'/%3e%3c/linearGradient%3e%3clinearGradient%20id='b'%20x1='378.4'%20y1='47.84'%20x2='146.57'%20y2='279.68'%20gradientUnits='userSpaceOnUse'%3e%3cstop%20offset='0'%20stop-color='%23565656'/%3e%3cstop%20offset='1'%20stop-color='%23141414'/%3e%3c/linearGradient%3e%3clinearGradient%20id='c'%20x1='360.85'%20y1='53.43'%20x2='132.64'%20y2='281.64'%20gradientUnits='userSpaceOnUse'%3e%3cstop%20offset='0'%20stop-color='%23f4f4f4'/%3e%3cstop%20offset='1'%20stop-color='%23e0e0e0'/%3e%3c/linearGradient%3e%3clinearGradient%20id='d'%20x1='413.51'%20y1='106.09'%20x2='185.3'%20y2='334.3'%20xlink:href='%23c'/%3e%3clinearGradient%20id='e'%20x1='332.14'%20y1='24.71'%20x2='103.92'%20y2='252.93'%20xlink:href='%23c'/%3e%3clinearGradient%20id='f'%20x1='372.82'%20y1='65.4'%20x2='144.61'%20y2='293.61'%20xlink:href='%23c'/%3e%3clinearGradient%20id='g'%20x1='401.54'%20y1='94.11'%20x2='173.33'%20y2='322.33'%20xlink:href='%23c'/%3e%3clinearGradient%20id='h'%20x1='320.17'%20y1='12.74'%20x2='91.95'%20y2='240.95'%20xlink:href='%23c'/%3e%3clinearGradient%20id='i'%20x1='360.85'%20y1='53.42'%20x2='132.64'%20y2='281.64'%20xlink:href='%23c'/%3e%3clinearGradient%20id='j'%20x1='413.5'%20y1='106.07'%20x2='185.29'%20y2='334.29'%20xlink:href='%23c'/%3e%3clinearGradient%20id='k'%20x1='332.14'%20y1='24.71'%20x2='103.92'%20y2='252.93'%20xlink:href='%23c'/%3e%3c/defs%3e%3ctitle%3eIcon%3c/title%3e%3cpath%20d='M180.05,296.26l3.82,44.22h0L345.3,501.9a14.28,14.28,0,0,0,20.2,0h0a14.28,14.28,0,0,0,0-20.2Z'%20fill='url(%23a)'/%3e%3cpath%20d='M397.82,150.48c-16.08,4.11-32.17,8.23-52.37,28.43-9.63,9.63-30.39,4.88-34.45,13.09-4.45,9,8.18,30.86,6,39.27-4.11,16.08-8.23,32.17-28.43,52.36-8.14,8.14-34.52-.6-41.6,3.37-10.47,5.87-1.16,22.6-10.76,25.06-16.08,4.11-32.17,8.23-52.36,28.42L143.19,299.8,135,275l-32.49-15.89L61.82,218.43C82,198.23,98.1,194.12,114.18,190c11-2.81,30.53,6.91,42.82-1,5.72-3.69,3.13-21,9.55-27.42,20.2-20.2,24.31-36.28,28.42-52.36,2.56-10,19.57-4.2,26-15.22,3.9-6.66-5.21-29.53,2.4-37.14,20.2-20.2,36.28-24.31,52.36-28.42s93,12.26,93,12.26L409.5,81.38S413.9,146.37,397.82,150.48Z'%20fill='url(%23b)'/%3e%3cpath%20d='M195.56,271.37h0c-16.09,4.11-32.17,8.22-52.37,28.42l-40.68-40.68h0c20.2-20.2,36.28-24.31,52.36-28.42h0Z'%20fill='url(%23c)'/%3e%3cpath%20d='M247.93,242.95l40.68,40.69c-20.2,20.2-36.29,24.31-52.37,28.43l-40.67-40.68c16.08-4.11,32.15-8.23,52.35-28.43Z'%20fill='url(%23d)'/%3e%3cpath%20d='M207.24,202.26h0C187,222.46,171,226.58,154.88,230.7h0L114.19,190c16.09-4.12,32.16-8.23,52.36-28.43h0Z'%20fill='url(%23e)'/%3e%3cpath%20d='M235.66,149.91l40.69,40.68c-4.11,16.08-8.23,32.16-28.42,52.36l-40.69-40.69C227.43,182.06,231.55,166,235.66,149.91Z'%20fill='url(%23f)'/%3e%3cpath%20d='M304.77,138.23l40.68,40.68c-20.2,20.2-24.31,36.29-28.42,52.37l-40.69-40.69C280.46,174.51,284.58,158.43,304.77,138.23Z'%20fill='url(%23g)'/%3e%3cpath%20d='M223.4,56.85l40.68,40.69c-20.2,20.2-24.31,36.27-28.43,52.36L195,109.22C199.09,93.13,203.2,77.05,223.4,56.85Z'%20fill='url(%23h)'/%3e%3cpath%20d='M316.45,69.11l40.68,40.68C341,113.91,325,118,304.77,138.22h0L264.08,97.54C284.28,77.33,300.37,73.22,316.45,69.11Z'%20fill='url(%23i)'/%3e%3cpath%20d='M409.5,81.38l40.68,40.68c-20.21,20.2-36.28,24.31-52.36,28.43L357.14,109.8h0C373.22,105.69,389.3,101.57,409.5,81.38Z'%20fill='url(%23j)'/%3e%3cpath%20d='M328.13,0l40.68,40.68C348.61,60.88,332.54,65,316.45,69.11L275.77,28.43c16.08-4.11,32.16-8.22,52.36-28.43h0Z'%20fill='url(%23k)'/%3e%3c/svg%3e",kT="data:image/svg+xml,%3csvg%20id='color'%20enable-background='new%200%200%2024%2024'%20viewBox='0%200%2024%2024'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='m23.363%208.584-7.378-1.127-3.307-7.044c-.247-.526-1.11-.526-1.357%200l-3.306%207.044-7.378%201.127c-.606.093-.848.83-.423%201.265l5.36%205.494-1.267%207.767c-.101.617.558%201.08%201.103.777l6.59-3.642%206.59%203.643c.54.3%201.205-.154%201.103-.777l-1.267-7.767%205.36-5.494c.425-.436.182-1.173-.423-1.266z'%20fill='%23FFE9AB'/%3e%3c/svg%3e",xT=({week:r,units:e,isFirstWeek:t,isLastWeek:i,isHighestMileage:o})=>{const l=Sd(r,e);return x.jsxs("div",{className:"week-summary",children:[x.jsx("p",{children:x.jsx("strong",{children:`Week ${r.weekNum}`})}),l[0]>0&&x.jsx("p",{children:Br(l,e,e)}),t&&x.jsx("img",{src:bT,alt:"Start"}),i&&x.jsx("img",{src:ET,alt:"Finish"}),o&&x.jsx("img",{src:kT,alt:"Highest Mileage"}),o&&x.jsx("p",{children:x.jsx("small",{children:"Highest Mileage"})})]},"week:"+r.weekNum)},TT=({dow:r,swapDow:e,setSelectedDow:t,setHoveringDow:i})=>{const o=p=>r!==p,[{isDragging:l},u,d]=my({type:wa.DOW,item:{id:r},end:()=>{t(void 0),i(void 0)},collect:p=>({isDragging:p.isDragging()})}),[{},h]=yy({accept:wa.DOW,canDrop:p=>o(p.id),drop:p=>{e(r,p.id)},collect:p=>(p.isOver()&&(p.canDrop()?i(r):(t(r),i(void 0))),{isOver:p.isOver(),canDrop:p.canDrop()})});return x.jsx("div",{className:`week-header ${l?"dragging":""}`,children:x.jsx("div",{ref:h,children:x.jsx("div",{style:{position:"relative",width:"100%",height:"100%"},children:x.jsx("div",{ref:d,children:x.jsxs("div",{className:"day-header",ref:u,children:[x.jsx(wy,{viewBox:"0 0 32 36"}),x.jsx("div",{children:r})]})})})})})};function Ly(r){let e=0,t=0,i=!1;for(const o of r.days){const l=o.event;if(!(!l||!l.dist)){if(typeof l.dist=="number")t+=l.dist;else if(Array.isArray(l.dist)&&l.dist.length===2){const[u,d]=l.dist;e+=u,t+=d,i=!0}}}return i?[e,t]:[t]}function OT(r){let e=0,t=0,i=!1;for(let o=0;o<r.length;o++){const l=Ly(r[o]);if(l.length===1){const u=l[0];u>e&&(e=u),u>t&&(t=u)}else if(l.length===2){const[u,d]=l;u>e&&(e=u),d>t&&(t=d),i=!0}}return i?[e,t]:[t]}const CT=({racePlan:r,units:e,weekStartsOn:t,swapDates:i,swapDow:o,selectedUser:l})=>{const u=new Date,d=N.useRef(null),[h,p]=N.useState(null),[m,v]=N.useState([]),[_,y]=N.useState(!1),[w,b]=N.useState(null);N.useEffect(()=>{async function J(){try{const ee=new Date().getTime(),D=await fetch(`/Running_Calendar-dev/data/${l}_paces.json?v=${ee}`);if(D.ok){const C=await D.json();C.length>0&&p(C[C.length-1].paces)}}catch(ee){console.error("Failed to load pace data:",ee)}}J()},[l]);const E=J=>{const ee=J.toISOString().split("T")[0];m.some(C=>C.toISOString().split("T")[0]===ee)?v(m.filter(C=>C.toISOString().split("T")[0]!==ee)):m.length<2&&(v([...m,J]),m.length===1&&(b([m[0],J]),y(!0)))},k=()=>{w&&(i(w[0],w[1]),v([]),y(!1),b(null))},O=()=>{v([]),y(!1),b(null)},j=Vr(u,{weekStartsOn:t}),H=Ia(u,{weekStartsOn:t}),B=J=>{d.current=J},[U,$]=N.useState(void 0),[Y,te]=N.useState(void 0),ne=OT(r.dateGrid.weeks);function I(J){const ee=Ly(J);let D=!1;return ne[0]>0&&(ee.length===1?D=ne.length===1&&ee[0]===ne[0]:ee.length===2&&(D=ne.length===2&&ee[0]===ne[0]&&ee[1]===ne[1])),x.jsxs("div",{className:"week-grid",children:[x.jsx(xT,{desc:J.desc,week:J,units:e,racePlan:r,isFirstWeek:J.weekNum===0,isLastWeek:J.weekNum===r.dateGrid.weekCount-1,isHighestMileage:D},`ws:${J.weekNum}`),J.days.map((C,V)=>{const z=vS(C.date,u),K=ny(C.date,{start:j,end:H}),M=C.date.toISOString().split("T")[0],R=m.some(G=>G.toISOString().split("T")[0]===M);return x.jsx(ST,{date:C.date,units:e,swap:i,dayDetails:C.event,selected:U===ya(C.date,"EEEE"),hovering:Y===ya(C.date,"EEEE"),isToday:z,todayRef:z?B:void 0,paceData:h,isCurrentWeek:K,userId:l,isCheckboxSelected:R,onCheckboxToggle:E},ai(C.date))})]},`wr:${J.weekNum}`)}N.useEffect(()=>{d.current&&d.current.scrollIntoView({behavior:"smooth",block:"center"})},[r]);function q(){return x.jsxs("div",{className:"week-grid",children:[x.jsx("div",{},"blank-left"),iy(t).map((J,ee)=>x.jsx(TT,{dow:J,swapDow:o,setSelectedDow:$,setHoveringDow:te},J))]})}return x.jsxs("div",{className:"calendar-grid",children:[q(),r.dateGrid.weeks.map((J,ee)=>I(J)),_&&w&&x.jsxs("div",{style:{position:"fixed",top:"50%",left:"50%",transform:"translate(-50%, -50%)",background:"white",border:"1px solid #ccc",borderRadius:"0.5rem",padding:"2rem",boxShadow:"0 4px 16px rgba(0,0,0,0.2)",zIndex:1e3,minWidth:"300px"},children:[x.jsx("p",{style:{marginBottom:"1.5rem",fontSize:"1rem"},children:"Swap these days?"}),x.jsxs("div",{style:{display:"flex",gap:"1rem",justifyContent:"flex-end"},children:[x.jsx("button",{onClick:O,style:{padding:"0.5rem 1rem",background:"#f0f0f0",border:"1px solid #ddd",borderRadius:"0.25rem",cursor:"pointer",fontSize:"0.9rem"},children:"Cancel"}),x.jsx("button",{onClick:k,style:{padding:"0.5rem 1rem",background:"#28a745",color:"white",border:"none",borderRadius:"0.25rem",cursor:"pointer",fontSize:"0.9rem"},children:"Yes"})]})]}),_&&x.jsx("div",{onClick:O,style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.3)",zIndex:999}})]})};var dn={},ac={},cs={},hn={};let PT="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict",Uy=r=>crypto.getRandomValues(new Uint8Array(r)),Fy=(r,e,t)=>{let i=(2<<Math.log(r.length-1)/Math.LN2)-1,o=-~(1.6*i*e/r.length);return(l=e)=>{let u="";for(;;){let d=t(o),h=o|0;for(;h--;)if(u+=r[d[h]&i]||"",u.length===l)return u}}},RT=(r,e=21)=>Fy(r,e,Uy),DT=(r=21)=>crypto.getRandomValues(new Uint8Array(r)).reduce((e,t)=>(t&=63,t<36?e+=t.toString(36):t<62?e+=(t-26).toString(36).toUpperCase():t>62?e+="-":e+="_",e),"");const IT=Object.freeze(Object.defineProperty({__proto__:null,customAlphabet:RT,customRandom:Fy,nanoid:DT,random:Uy,urlAlphabet:PT},Symbol.toStringTag,{value:"Module"})),AT=Am(IT);var zg;function NT(){if(zg)return hn;zg=1,Object.defineProperty(hn,"__esModule",{value:!0}),hn.headerDefaults=hn.eventDefaults=void 0;var r=AT;return hn.headerDefaults=function(){return{productId:"adamgibbons/ics",method:"PUBLISH"}},hn.eventDefaults=function(){return{title:"Untitled event",uid:(0,r.nanoid)(),timestamp:Date.now()}},hn}var Bg;function jT(){if(Bg)return cs;Bg=1,Object.defineProperty(cs,"__esModule",{value:!0}),cs.buildEvent=d,cs.buildHeader=u;var r=NT();function e(h){"@babel/helpers - typeof";return e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(p){return typeof p}:function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p},e(h)}function t(h,p,m){return p=i(p),p in h?Object.defineProperty(h,p,{value:m,enumerable:!0,configurable:!0,writable:!0}):h[p]=m,h}function i(h){var p=o(h,"string");return e(p)==="symbol"?p:String(p)}function o(h,p){if(e(h)!=="object"||h===null)return h;var m=h[Symbol.toPrimitive];if(m!==void 0){var v=m.call(h,p||"default");if(e(v)!=="object")return v;throw new TypeError("@@toPrimitive must return a primitive value.")}return(p==="string"?String:Number)(h)}function l(h){return Object.entries(h).reduce(function(p,m){return typeof m[1]<"u"?Object.assign(p,t({},m[0],m[1])):p},{})}function u(){var h=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},p=Object.assign({},(0,r.headerDefaults)(),h);return l(p)}function d(){var h=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},p=Object.assign({},(0,r.eventDefaults)(),h);return l(p)}return cs}var si={},lc={},uc={},Wg;function zy(){return Wg||(Wg=1,function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=h;function e(p,m){return u(p)||l(p,m)||i(p,m)||t()}function t(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function i(p,m){if(p){if(typeof p=="string")return o(p,m);var v=Object.prototype.toString.call(p).slice(8,-1);if(v==="Object"&&p.constructor&&(v=p.constructor.name),v==="Map"||v==="Set")return Array.from(p);if(v==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(v))return o(p,m)}}function o(p,m){(m==null||m>p.length)&&(m=p.length);for(var v=0,_=new Array(m);v<m;v++)_[v]=p[v];return _}function l(p,m){var v=p==null?null:typeof Symbol<"u"&&p[Symbol.iterator]||p["@@iterator"];if(v!=null){var _,y,w,b,E=[],k=!0,O=!1;try{if(w=(v=v.call(p)).next,m===0){if(Object(v)!==v)return;k=!1}else for(;!(k=(_=w.call(v)).done)&&(E.push(_.value),E.length!==m);k=!0);}catch(j){O=!0,y=j}finally{try{if(!k&&v.return!=null&&(b=v.return(),Object(b)!==b))return}finally{if(O)throw y}}return E}}function u(p){if(Array.isArray(p))return p}var d=function(m){return m<10?"0".concat(m):"".concat(m)};function h(){var p=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"utc",v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"local";if(typeof p=="string")return p;if(Array.isArray(p)&&p.length===3){var _=e(p,3),y=_[0],w=_[1],b=_[2];return"".concat(y).concat(d(w)).concat(d(b))}var E=new Date;if(Array.isArray(p)&&p.length>0&&p[0]){var k=e(p,6),O=k[0],j=k[1],H=k[2],B=k[3],U=B===void 0?0:B,$=k[4],Y=$===void 0?0:$,te=k[5],ne=te===void 0?0:te;v==="local"?E=new Date(O,j-1,H,U,Y,ne):E=new Date(Date.UTC(O,j-1,H,U,Y,ne))}else Array.isArray(p)||(E=new Date(p));return m==="local"?[E.getFullYear(),d(E.getMonth()+1),d(E.getDate()),"T",d(E.getHours()),d(E.getMinutes()),d(E.getSeconds())].join(""):[E.getUTCFullYear(),d(E.getUTCMonth()+1),d(E.getUTCDate()),"T",d(E.getUTCHours()),d(E.getUTCMinutes()),d(E.getUTCSeconds()),"Z"].join("")}}(uc)),uc}var cc={},Hg;function MT(){return Hg||(Hg=1,function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=e;function e(t){var i=t.lat,o=t.lon;return"".concat(i,";").concat(o)}}(cc)),cc}var dc={},hc={},qg;function Cd(){return qg||(qg=1,function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=e;function e(t){return'"'.concat(t.replaceAll('"','\\"'),'"')}}(hc)),hc}var Vg;function $T(){return Vg||(Vg=1,function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=i;var e=t(Cd());function t(o){return o&&o.__esModule?o:{default:o}}function i(o){var l=o.name,u=o.email,d=o.rsvp,h=o.dir,p=o.partstat,m=o.role,v=o.cutype,_=o.xNumGuests,y=[];d!==void 0&&y.push(d?"RSVP=TRUE":"RSVP=FALSE"),v&&y.push("CUTYPE=".concat((0,e.default)(v))),_!==void 0&&y.push("X-NUM-GUESTS=".concat(_)),m&&y.push("ROLE=".concat((0,e.default)(m))),p&&y.push("PARTSTAT=".concat((0,e.default)(p))),h&&y.push("DIR=".concat((0,e.default)(h))),y.push("CN=".concat((0,e.default)(l||"Unnamed attendee")));var w=y.join(";").concat(u?":mailto:".concat(u):"");return w}}(dc)),dc}var fc={},Gg;function LT(){return Gg||(Gg=1,function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=i;var e=t(Cd());function t(o){return o&&o.__esModule?o:{default:o}}function i(o){var l=o.name,u=o.email,d=o.dir,h=o.sentBy,p="";return p+=d?"DIR=".concat((0,e.default)(d),";"):"",p+=h?"SENT-BY=".concat((0,e.default)("MAILTO:".concat(h)),";"):"",p+="CN=",p+=(0,e.default)(l||"Organizer"),p+=u?":MAILTO:".concat(u):"",p}}(fc)),fc}var pc={},gc={},mc={exports:{}},yc={exports:{}},Kg;function UT(){if(Kg)return yc.exports;Kg=1;var r;(function(y){y[y.HIGH_SURROGATE_START=55296]="HIGH_SURROGATE_START",y[y.HIGH_SURROGATE_END=56319]="HIGH_SURROGATE_END",y[y.LOW_SURROGATE_START=56320]="LOW_SURROGATE_START",y[y.REGIONAL_INDICATOR_START=127462]="REGIONAL_INDICATOR_START",y[y.REGIONAL_INDICATOR_END=127487]="REGIONAL_INDICATOR_END",y[y.FITZPATRICK_MODIFIER_START=127995]="FITZPATRICK_MODIFIER_START",y[y.FITZPATRICK_MODIFIER_END=127999]="FITZPATRICK_MODIFIER_END",y[y.VARIATION_MODIFIER_START=65024]="VARIATION_MODIFIER_START",y[y.VARIATION_MODIFIER_END=65039]="VARIATION_MODIFIER_END",y[y.DIACRITICAL_MARKS_START=8400]="DIACRITICAL_MARKS_START",y[y.DIACRITICAL_MARKS_END=8447]="DIACRITICAL_MARKS_END",y[y.SUBDIVISION_INDICATOR_START=127988]="SUBDIVISION_INDICATOR_START",y[y.TAGS_START=917504]="TAGS_START",y[y.TAGS_END=917631]="TAGS_END",y[y.ZWJ=8205]="ZWJ"})(r||(r={}));const e=Object.freeze([776,2359,2367,2984,3007,3021,3633,3635,3648,3657,4352,4449,4520]);var t;function i(y){if(typeof y!="string")throw new TypeError("string cannot be undefined or null");const w=[];let b=0,E=0;for(;b<y.length;)E+=o(b+E,y),h(y[b+E])&&E++,u(y[b+E])&&E++,d(y[b+E])&&E++,p(y[b+E])?E++:(w.push(y.substring(b,b+E)),b+=E,E=0);return w}function o(y,w){const b=w[y];if(!function(j){return j&&v(j[0].charCodeAt(0),55296,56319)}(b)||y===w.length-1)return 1;const E=b+w[y+1];let k=w.substring(y+2,y+5);return l(E)&&l(k)?4:function(j){return v(m(j),127988,127988)}(E)&&function(j){const H=j.codePointAt(0);return typeof j=="string"&&typeof H=="number"&&v(H,917504,917631)}(k)?w.slice(y).indexOf(String.fromCodePoint(917631))+2:function(j){return v(m(j),127995,127999)}(k)?4:2}function l(y){return v(m(y),127462,127487)}function u(y){return typeof y=="string"&&v(y.charCodeAt(0),65024,65039)}function d(y){return typeof y=="string"&&v(y.charCodeAt(0),8400,8447)}function h(y){return typeof y=="string"&&e.includes(y.charCodeAt(0))}function p(y){return typeof y=="string"&&y.charCodeAt(0)===8205}function m(y){return(y.charCodeAt(0)-55296<<10)+(y.charCodeAt(1)-56320)+65536}function v(y,w,b){return y>=w&&y<=b}function _(y,w,b){const E=i(y);if(w===void 0)return y;if(w>=E.length)return"";const k=E.length-w;let O=w+(b===void 0?k:b);return O>w+k&&(O=void 0),E.slice(w,O).join("")}return function(y){y[y.unit_1=1]="unit_1",y[y.unit_2=2]="unit_2",y[y.unit_4=4]="unit_4"}(t||(t={})),Object.defineProperty(i,"runes",{value:i}),Object.defineProperty(i,"default",{value:i}),Object.defineProperty(i,"__esModule",{value:!0}),Object.defineProperty(i,"substr",{value:_}),Object.defineProperty(i,"substring",{value:_}),Object.defineProperty(i,"EnumRunesCode",{value:r}),Object.defineProperty(i,"EnumCodeUnits",{value:t}),Object.defineProperty(i,"GRAPHEMES",{value:e}),yc.exports=i,yc.exports}var Yg;function FT(){return Yg||(Yg=1,mc.exports=UT()),mc.exports}var Jg;function By(){return Jg||(Jg=1,function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=t;var e=FT();function t(i){for(var o=[],l=75;(0,e.runes)(i).length>l;)o.push((0,e.substring)(i,0,l)),i=(0,e.substring)(i,l),l=74;return o.push(i),o.join(`\r
	`)}}(gc)),gc}var vc={},Qg;function Wy(){return Qg||(Qg=1,function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=e;function e(t){return t.replace(/\r?\n/gm,"\\n")}}(vc)),vc}var Xg;function zT(){return Xg||(Xg=1,function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=h;var e=o(zy()),t=o(By()),i=o(Wy());function o(p){return p&&p.__esModule?p:{default:p}}function l(p){var m=p.weeks,v=p.days,_=p.hours,y=p.minutes,w=p.seconds,b="P";return b+=m?"".concat(m,"W"):"",b+=v?"".concat(v,"D"):"",b+="T",b+=_?"".concat(_,"H"):"",b+=y?"".concat(y,"M"):"",b+=w?"".concat(w,"S"):"",b}function u(p){var m="";if(Array.isArray(p)||typeof p=="number"||typeof p=="string")m="TRIGGER;VALUE=DATE-TIME:".concat((0,i.default)((0,e.default)(p)),`\r
`);else{var v=p.before?"-":"";m="TRIGGER:".concat((0,i.default)(v+l(p)),`\r
`)}return m}function d(p){return p.toUpperCase()}function h(){var p=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},m=p.action,v=p.repeat,_=p.description,y=p.duration,w=p.attach,b=p.attachType,E=p.trigger,k=p.summary,O=`BEGIN:VALARM\r
`;O+=(0,t.default)("ACTION:".concat((0,i.default)(d(m))))+`\r
`,O+=v?(0,t.default)("REPEAT:".concat(v))+`\r
`:"",O+=_?(0,t.default)("DESCRIPTION:".concat((0,i.default)(_)))+`\r
`:"",O+=y?(0,t.default)("DURATION:".concat(l(y)))+`\r
`:"";var j=b||"FMTTYPE=audio/basic";return O+=w?(0,t.default)((0,i.default)("ATTACH;".concat(j,":").concat(w)))+`\r
`:"",O+=E?u(E):"",O+=k?(0,t.default)("SUMMARY:".concat((0,i.default)(k)))+`\r
`:"",O+=`END:VALARM\r
`,O}}(pc)),pc}var wc={},_c={},Zg;function Pd(){return Zg||(Zg=1,function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=e;function e(t){return t.replace(/\\/gm,"\\\\").replace(/\r?\n/gm,"\\n").replace(/;/gm,"\\;").replace(/,/gm,"\\,")}}(_c)),_c}var em;function BT(){return em||(em=1,function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=i;var e=t(Pd());function t(o){return o&&o.__esModule?o:{default:o}}function i(o){return(0,e.default)(o)}}(wc)),wc}var Sc={},tm;function WT(){return tm||(tm=1,function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=i;var e=t(Pd());function t(o){return o&&o.__esModule?o:{default:o}}function i(o){return(0,e.default)(o)}}(Sc)),Sc}var bc={},rm;function HT(){return rm||(rm=1,function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=e;function e(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=t.weeks,o=t.days,l=t.hours,u=t.minutes,d=t.seconds,h="P";return h+=i?"".concat(i,"W"):"",h+=o?"".concat(o,"D"):"",h+="T",h+=l?"".concat(l,"H"):"",h+=u?"".concat(u,"M"):"",h+=d?"".concat(d,"S"):"",h}}(bc)),bc}var Ec={},nm;function qT(){return nm||(nm=1,function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=i;var e=t(Pd());function t(o){return o&&o.__esModule?o:{default:o}}function i(o){return(0,e.default)(o)}}(Ec)),Ec}var im;function VT(){return im||(im=1,function(r){Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"encodeParamValue",{enumerable:!0,get:function(){return v.default}}),Object.defineProperty(r,"foldLine",{enumerable:!0,get:function(){return p.default}}),Object.defineProperty(r,"formatDate",{enumerable:!0,get:function(){return e.default}}),Object.defineProperty(r,"formatDuration",{enumerable:!0,get:function(){return h.default}}),Object.defineProperty(r,"setAlarm",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(r,"setContact",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(r,"setDescription",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(r,"setGeolocation",{enumerable:!0,get:function(){return t.default}}),Object.defineProperty(r,"setLocation",{enumerable:!0,get:function(){return m.default}}),Object.defineProperty(r,"setOrganizer",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(r,"setSummary",{enumerable:!0,get:function(){return d.default}});var e=_(zy()),t=_(MT()),i=_($T()),o=_(LT()),l=_(zT()),u=_(BT()),d=_(WT()),h=_(HT()),p=_(By()),m=_(qT()),v=_(Cd());function _(y){return y&&y.__esModule?y:{default:y}}}(lc)),lc}var sm;function GT(){if(sm)return si;sm=1,Object.defineProperty(si,"__esModule",{value:!0}),si.formatEvent=l,si.formatFooter=o,si.formatHeader=i;var r=VT(),e=t(Wy());function t(u){return u&&u.__esModule?u:{default:u}}function i(){var u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},d=u.productId,h=u.method,p=u.calName,m="";return m+=`BEGIN:VCALENDAR\r
`,m+=`VERSION:2.0\r
`,m+=`CALSCALE:GREGORIAN\r
`,m+=(0,r.foldLine)("PRODID:".concat((0,e.default)(d)))+`\r
`,m+=(0,r.foldLine)("METHOD:".concat((0,e.default)(h)))+`\r
`,m+=p?(0,r.foldLine)("X-WR-CALNAME:".concat((0,e.default)(p)))+`\r
`:"",m+=`X-PUBLISHED-TTL:PT1H\r
`,m}function o(){return`END:VCALENDAR\r
`}function l(){var u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},d=u.title,h=u.uid,p=u.sequence,m=u.timestamp,v=u.start,_=u.startType,y=u.startInputType,w=u.startOutputType,b=u.duration,E=u.end,k=u.endInputType,O=u.endOutputType,j=u.description,H=u.url,B=u.geo,U=u.location,$=u.status,Y=u.categories,te=u.organizer,ne=u.attendees,I=u.alarms,q=u.recurrenceRule,J=u.exclusionDates,ee=u.busyStatus,D=u.transp,C=u.classification,V=u.created,z=u.lastModified,K=u.htmlContent,M="";return M+=`BEGIN:VEVENT\r
`,M+=(0,r.foldLine)("UID:".concat((0,e.default)(h)))+`\r
`,M+=d?(0,r.foldLine)("SUMMARY:".concat((0,e.default)((0,r.setSummary)(d))))+`\r
`:"",M+=(0,r.foldLine)("DTSTAMP:".concat((0,e.default)((0,r.formatDate)(m))))+`\r
`,M+=(0,r.foldLine)("DTSTART".concat(v&&v.length==3?";VALUE=DATE":"",":").concat((0,e.default)((0,r.formatDate)(v,w||_,y))))+`\r
`,(!E||E.length!==3||v.length!==E.length||v.some(function(R,G){return R!==E[G]}))&&E&&(M+=(0,r.foldLine)("DTEND".concat(E.length===3?";VALUE=DATE":"",":").concat((0,e.default)((0,r.formatDate)(E,O||w||_,k||y))))+`\r
`),M+=typeof p<"u"?"SEQUENCE:".concat(p,`\r
`):"",M+=j?(0,r.foldLine)("DESCRIPTION:".concat((0,e.default)((0,r.setDescription)(j))))+`\r
`:"",M+=H?(0,r.foldLine)("URL:".concat((0,e.default)(H)))+`\r
`:"",M+=B?(0,r.foldLine)("GEO:".concat((0,r.setGeolocation)(B)))+`\r
`:"",M+=U?(0,r.foldLine)("LOCATION:".concat((0,e.default)((0,r.setLocation)(U))))+`\r
`:"",M+=$?(0,r.foldLine)("STATUS:".concat((0,e.default)($)))+`\r
`:"",M+=Y?(0,r.foldLine)("CATEGORIES:".concat((0,e.default)(Y.join(","))))+`\r
`:"",M+=te?(0,r.foldLine)("ORGANIZER;".concat((0,r.setOrganizer)(te)))+`\r
`:"",M+=ee?(0,r.foldLine)("X-MICROSOFT-CDO-BUSYSTATUS:".concat((0,e.default)(ee)))+`\r
`:"",M+=D?(0,r.foldLine)("TRANSP:".concat((0,e.default)(D)))+`\r
`:"",M+=C?(0,r.foldLine)("CLASS:".concat((0,e.default)(C)))+`\r
`:"",M+=V?"CREATED:"+(0,e.default)((0,r.formatDate)(V))+`\r
`:"",M+=z?"LAST-MODIFIED:"+(0,e.default)((0,r.formatDate)(z))+`\r
`:"",M+=K?(0,r.foldLine)("X-ALT-DESC;FMTTYPE=text/html:".concat((0,e.default)(K)))+`\r
`:"",ne&&ne.forEach(function(R){M+=(0,r.foldLine)("ATTENDEE;".concat((0,e.default)((0,r.setContact)(R))))+`\r
`}),M+=q?(0,r.foldLine)("RRULE:".concat((0,e.default)(q)))+`\r
`:"",M+=J?(0,r.foldLine)("EXDATE:".concat((0,e.default)(J.map(function(R){return(0,r.formatDate)(R)}).join(","))))+`\r
`:"",M+=b?(0,r.foldLine)("DURATION:".concat((0,r.formatDuration)(b)))+`\r
`:"",I&&I.forEach(function(R){M+=(0,r.setAlarm)(R)}),M+=`END:VEVENT\r
`,M}return si}var kc={},fn={},xc,om;function KT(){if(om)return xc;om=1;function r(k){this._maxSize=k,this.clear()}r.prototype.clear=function(){this._size=0,this._values=Object.create(null)},r.prototype.get=function(k){return this._values[k]},r.prototype.set=function(k,O){return this._size>=this._maxSize&&this.clear(),k in this._values||this._size++,this._values[k]=O};var e=/[^.^\]^[]+|(?=\[\]|\.\.)/g,t=/^\d+$/,i=/^\d/,o=/[~`!#$%\^&*+=\-\[\]\\';,/{}|\\":<>\?]/g,l=/^\s*(['"]?)(.*?)(\1)\s*$/,u=512,d=new r(u),h=new r(u),p=new r(u);xc={Cache:r,split:v,normalizePath:m,setter:function(k){var O=m(k);return h.get(k)||h.set(k,function(H,B){for(var U=0,$=O.length,Y=H;U<$-1;){var te=O[U];if(te==="__proto__"||te==="constructor"||te==="prototype")return H;Y=Y[O[U++]]}Y[O[U]]=B})},getter:function(k,O){var j=m(k);return p.get(k)||p.set(k,function(B){for(var U=0,$=j.length;U<$;)if(B!=null||!O)B=B[j[U++]];else return;return B})},join:function(k){return k.reduce(function(O,j){return O+(y(j)||t.test(j)?"["+j+"]":(O?".":"")+j)},"")},forEach:function(k,O,j){_(Array.isArray(k)?k:v(k),O,j)}};function m(k){return d.get(k)||d.set(k,v(k).map(function(O){return O.replace(l,"$2")}))}function v(k){return k.match(e)||[""]}function _(k,O,j){var H=k.length,B,U,$,Y;for(U=0;U<H;U++)B=k[U],B&&(E(B)&&(B='"'+B+'"'),Y=y(B),$=!Y&&/^\d+$/.test(B),O.call(j,B,Y,$,U,k))}function y(k){return typeof k=="string"&&k&&["'",'"'].indexOf(k.charAt(0))!==-1}function w(k){return k.match(i)&&!k.match(t)}function b(k){return o.test(k)}function E(k){return!y(k)&&(w(k)||b(k))}return xc}var Sn=KT(),Tc,am;function YT(){if(am)return Tc;am=1;const r=/[A-Z\xc0-\xd6\xd8-\xde]?[a-z\xdf-\xf6\xf8-\xff]+(?:['](?:d|ll|m|re|s|t|ve))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde]|$)|(?:[A-Z\xc0-\xd6\xd8-\xde]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['](?:D|LL|M|RE|S|T|VE))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde](?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])|$)|[A-Z\xc0-\xd6\xd8-\xde]?(?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['](?:d|ll|m|re|s|t|ve))?|[A-Z\xc0-\xd6\xd8-\xde]+(?:['](?:D|LL|M|RE|S|T|VE))?|\d*(?:1ST|2ND|3RD|(?![123])\dTH)(?=\b|[a-z_])|\d*(?:1st|2nd|3rd|(?![123])\dth)(?=\b|[A-Z_])|\d+|(?:[\u2700-\u27bf]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?(?:\u200d(?:[^\ud800-\udfff]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?)*/g,e=m=>m.match(r)||[],t=m=>m[0].toUpperCase()+m.slice(1),i=(m,v)=>e(m).join(v).toLowerCase(),o=m=>e(m).reduce((v,_)=>`${v}${v?_[0].toUpperCase()+_.slice(1).toLowerCase():_.toLowerCase()}`,"");return Tc={words:e,upperFirst:t,camelCase:o,pascalCase:m=>t(o(m)),snakeCase:m=>i(m,"_"),kebabCase:m=>i(m,"-"),sentenceCase:m=>t(i(m," ")),titleCase:m=>e(m).map(t).join(" ")},Tc}var Oc=YT(),Qo={exports:{}},lm;function JT(){if(lm)return Qo.exports;lm=1,Qo.exports=function(o){return r(e(o),o)},Qo.exports.array=r;function r(o,l){var u=o.length,d=new Array(u),h={},p=u,m=t(l),v=i(o);for(l.forEach(function(y){if(!v.has(y[0])||!v.has(y[1]))throw new Error("Unknown node. There is an unknown node in the supplied edges.")});p--;)h[p]||_(o[p],p,new Set);return d;function _(y,w,b){if(b.has(y)){var E;try{E=", node was:"+JSON.stringify(y)}catch{E=""}throw new Error("Cyclic dependency"+E)}if(!v.has(y))throw new Error("Found unknown node. Make sure to provided all involved nodes. Unknown node: "+JSON.stringify(y));if(!h[w]){h[w]=!0;var k=m.get(y)||new Set;if(k=Array.from(k),w=k.length){b.add(y);do{var O=k[--w];_(O,v.get(O),b)}while(w);b.delete(y)}d[--u]=y}}}function e(o){for(var l=new Set,u=0,d=o.length;u<d;u++){var h=o[u];l.add(h[0]),l.add(h[1])}return Array.from(l)}function t(o){for(var l=new Map,u=0,d=o.length;u<d;u++){var h=o[u];l.has(h[0])||l.set(h[0],new Set),l.has(h[1])||l.set(h[1],new Set),l.get(h[0]).add(h[1])}return l}function i(o){for(var l=new Map,u=0,d=o.length;u<d;u++)l.set(o[u],u);return l}return Qo.exports}var QT=JT();const XT=Ca(QT),ZT=Object.prototype.toString,eO=Error.prototype.toString,tO=RegExp.prototype.toString,rO=typeof Symbol<"u"?Symbol.prototype.toString:()=>"",nO=/^Symbol\((.*)\)(.*)$/;function iO(r){return r!=+r?"NaN":r===0&&1/r<0?"-0":""+r}function um(r,e=!1){if(r==null||r===!0||r===!1)return""+r;const t=typeof r;if(t==="number")return iO(r);if(t==="string")return e?`"${r}"`:r;if(t==="function")return"[Function "+(r.name||"anonymous")+"]";if(t==="symbol")return rO.call(r).replace(nO,"Symbol($1)");const i=ZT.call(r).slice(8,-1);return i==="Date"?isNaN(r.getTime())?""+r:r.toISOString(r):i==="Error"||r instanceof Error?"["+eO.call(r)+"]":i==="RegExp"?tO.call(r):null}function er(r,e){let t=um(r,e);return t!==null?t:JSON.stringify(r,function(i,o){let l=um(this[i],e);return l!==null?l:o},2)}function Hy(r){return r==null?[]:[].concat(r)}let qy,Vy,Gy,sO=/\$\{\s*(\w+)\s*\}/g;qy=Symbol.toStringTag;class cm{constructor(e,t,i,o){this.name=void 0,this.message=void 0,this.value=void 0,this.path=void 0,this.type=void 0,this.params=void 0,this.errors=void 0,this.inner=void 0,this[qy]="Error",this.name="ValidationError",this.value=t,this.path=i,this.type=o,this.errors=[],this.inner=[],Hy(e).forEach(l=>{if(rt.isError(l)){this.errors.push(...l.errors);const u=l.inner.length?l.inner:[l];this.inner.push(...u)}else this.errors.push(l)}),this.message=this.errors.length>1?`${this.errors.length} errors occurred`:this.errors[0]}}Vy=Symbol.hasInstance;Gy=Symbol.toStringTag;class rt extends Error{static formatError(e,t){const i=t.label||t.path||"this";return t=Object.assign({},t,{path:i,originalPath:t.path}),typeof e=="string"?e.replace(sO,(o,l)=>er(t[l])):typeof e=="function"?e(t):e}static isError(e){return e&&e.name==="ValidationError"}constructor(e,t,i,o,l){const u=new cm(e,t,i,o);if(l)return u;super(),this.value=void 0,this.path=void 0,this.type=void 0,this.params=void 0,this.errors=[],this.inner=[],this[Gy]="Error",this.name=u.name,this.message=u.message,this.type=u.type,this.value=u.value,this.path=u.path,this.errors=u.errors,this.inner=u.inner,Error.captureStackTrace&&Error.captureStackTrace(this,rt)}static[Vy](e){return cm[Symbol.hasInstance](e)||super[Symbol.hasInstance](e)}}let Zt={default:"${path} is invalid",required:"${path} is a required field",defined:"${path} must be defined",notNull:"${path} cannot be null",oneOf:"${path} must be one of the following values: ${values}",notOneOf:"${path} must not be one of the following values: ${values}",notType:({path:r,type:e,value:t,originalValue:i})=>{const o=i!=null&&i!==t?` (cast from the value \`${er(i,!0)}\`).`:".";return e!=="mixed"?`${r} must be a \`${e}\` type, but the final value was: \`${er(t,!0)}\``+o:`${r} must match the configured type. The validated value was: \`${er(t,!0)}\``+o}},mt={length:"${path} must be exactly ${length} characters",min:"${path} must be at least ${min} characters",max:"${path} must be at most ${max} characters",matches:'${path} must match the following: "${regex}"',email:"${path} must be a valid email",url:"${path} must be a valid URL",uuid:"${path} must be a valid UUID",datetime:"${path} must be a valid ISO date-time",datetime_precision:"${path} must be a valid ISO date-time with a sub-second precision of exactly ${precision} digits",datetime_offset:'${path} must be a valid ISO date-time with UTC "Z" timezone',trim:"${path} must be a trimmed string",lowercase:"${path} must be a lowercase string",uppercase:"${path} must be a upper case string"},Ur={min:"${path} must be greater than or equal to ${min}",max:"${path} must be less than or equal to ${max}",lessThan:"${path} must be less than ${less}",moreThan:"${path} must be greater than ${more}",positive:"${path} must be a positive number",negative:"${path} must be a negative number",integer:"${path} must be an integer"},Xc={min:"${path} field must be later than ${min}",max:"${path} field must be at earlier than ${max}"},Zc={isValue:"${path} field must be ${value}"},la={noUnknown:"${path} field has unspecified keys: ${unknown}",exact:"${path} object contains unknown properties: ${properties}"},ua={min:"${path} field must have at least ${min} items",max:"${path} field must have less than or equal to ${max} items",length:"${path} must have ${length} items"},Ky={notType:r=>{const{path:e,value:t,spec:i}=r,o=i.types.length;if(Array.isArray(t)){if(t.length<o)return`${e} tuple value has too few items, expected a length of ${o} but got ${t.length} for value: \`${er(t,!0)}\``;if(t.length>o)return`${e} tuple value has too many items, expected a length of ${o} but got ${t.length} for value: \`${er(t,!0)}\``}return rt.formatError(Zt.notType,r)}};var Yy=Object.assign(Object.create(null),{mixed:Zt,string:mt,number:Ur,date:Xc,object:la,array:ua,boolean:Zc,tuple:Ky});const kn=r=>r&&r.__isYupSchema__;class Ea{static fromOptions(e,t){if(!t.then&&!t.otherwise)throw new TypeError("either `then:` or `otherwise:` is required for `when()` conditions");let{is:i,then:o,otherwise:l}=t,u=typeof i=="function"?i:(...d)=>d.every(h=>h===i);return new Ea(e,(d,h)=>{var p;let m=u(...d)?o:l;return(p=m==null?void 0:m(h))!=null?p:h})}constructor(e,t){this.fn=void 0,this.refs=e,this.refs=e,this.fn=t}resolve(e,t){let i=this.refs.map(l=>l.getValue(t==null?void 0:t.value,t==null?void 0:t.parent,t==null?void 0:t.context)),o=this.fn(i,e,t);if(o===void 0||o===e)return e;if(!kn(o))throw new TypeError("conditions must return a schema object");return o.resolve(t)}}const Xo={context:"$",value:"."};function oO(r,e){return new Kr(r,e)}class Kr{constructor(e,t={}){if(this.key=void 0,this.isContext=void 0,this.isValue=void 0,this.isSibling=void 0,this.path=void 0,this.getter=void 0,this.map=void 0,typeof e!="string")throw new TypeError("ref must be a string, got: "+e);if(this.key=e.trim(),e==="")throw new TypeError("ref must be a non-empty string");this.isContext=this.key[0]===Xo.context,this.isValue=this.key[0]===Xo.value,this.isSibling=!this.isContext&&!this.isValue;let i=this.isContext?Xo.context:this.isValue?Xo.value:"";this.path=this.key.slice(i.length),this.getter=this.path&&Sn.getter(this.path,!0),this.map=t.map}getValue(e,t,i){let o=this.isContext?i:this.isValue?e:t;return this.getter&&(o=this.getter(o||{})),this.map&&(o=this.map(o)),o}cast(e,t){return this.getValue(e,t==null?void 0:t.parent,t==null?void 0:t.context)}resolve(){return this}describe(){return{type:"ref",key:this.key}}toString(){return`Ref(${this.key})`}static isRef(e){return e&&e.__isYupRef}}Kr.prototype.__isYupRef=!0;const Gt=r=>r==null;function oi(r){function e({value:t,path:i="",options:o,originalValue:l,schema:u},d,h){const{name:p,test:m,params:v,message:_,skipAbsent:y}=r;let{parent:w,context:b,abortEarly:E=u.spec.abortEarly,disableStackTrace:k=u.spec.disableStackTrace}=o;function O(I){return Kr.isRef(I)?I.getValue(t,w,b):I}function j(I={}){const q=Object.assign({value:t,originalValue:l,label:u.spec.label,path:I.path||i,spec:u.spec,disableStackTrace:I.disableStackTrace||k},v,I.params);for(const ee of Object.keys(q))q[ee]=O(q[ee]);const J=new rt(rt.formatError(I.message||_,q),t,q.path,I.type||p,q.disableStackTrace);return J.params=q,J}const H=E?d:h;let B={path:i,parent:w,type:p,from:o.from,createError:j,resolve:O,options:o,originalValue:l,schema:u};const U=I=>{rt.isError(I)?H(I):I?h(null):H(j())},$=I=>{rt.isError(I)?H(I):d(I)};if(y&&Gt(t))return U(!0);let te;try{var ne;if(te=m.call(B,t,B),typeof((ne=te)==null?void 0:ne.then)=="function"){if(o.sync)throw new Error(`Validation test of type: "${B.type}" returned a Promise during a synchronous validate. This test will finish after the validate call has returned`);return Promise.resolve(te).then(U,$)}}catch(I){$(I);return}U(te)}return e.OPTIONS=r,e}function Rd(r,e,t,i=t){let o,l,u;return e?(Sn.forEach(e,(d,h,p)=>{let m=h?d.slice(1,d.length-1):d;r=r.resolve({context:i,parent:o,value:t});let v=r.type==="tuple",_=p?parseInt(m,10):0;if(r.innerType||v){if(v&&!p)throw new Error(`Yup.reach cannot implicitly index into a tuple type. the path part "${u}" must contain an index to the tuple element, e.g. "${u}[0]"`);if(t&&_>=t.length)throw new Error(`Yup.reach cannot resolve an array item at index: ${d}, in the path: ${e}. because there is no value at that index. `);o=t,t=t&&t[_],r=v?r.spec.types[_]:r.innerType}if(!p){if(!r.fields||!r.fields[m])throw new Error(`The schema does not contain the path: ${e}. (failed at: ${u} which is a type: "${r.type}")`);o=t,t=t&&t[m],r=r.fields[m]}l=m,u=h?"["+d+"]":"."+d}),{schema:r,parent:o,parentPath:l}):{parent:o,parentPath:e,schema:r}}function aO(r,e,t,i){return Rd(r,e,t,i).schema}class ka extends Set{describe(){const e=[];for(const t of this.values())e.push(Kr.isRef(t)?t.describe():t);return e}resolveAll(e){let t=[];for(const i of this.values())t.push(e(i));return t}clone(){return new ka(this.values())}merge(e,t){const i=this.clone();return e.forEach(o=>i.add(o)),t.forEach(o=>i.delete(o)),i}}function hi(r,e=new Map){if(kn(r)||!r||typeof r!="object")return r;if(e.has(r))return e.get(r);let t;if(r instanceof Date)t=new Date(r.getTime()),e.set(r,t);else if(r instanceof RegExp)t=new RegExp(r),e.set(r,t);else if(Array.isArray(r)){t=new Array(r.length),e.set(r,t);for(let i=0;i<r.length;i++)t[i]=hi(r[i],e)}else if(r instanceof Map){t=new Map,e.set(r,t);for(const[i,o]of r.entries())t.set(i,hi(o,e))}else if(r instanceof Set){t=new Set,e.set(r,t);for(const i of r)t.add(hi(i,e))}else if(r instanceof Object){t={},e.set(r,t);for(const[i,o]of Object.entries(r))t[i]=hi(o,e)}else throw Error(`Unable to clone ${r}`);return t}class at{constructor(e){this.type=void 0,this.deps=[],this.tests=void 0,this.transforms=void 0,this.conditions=[],this._mutate=void 0,this.internalTests={},this._whitelist=new ka,this._blacklist=new ka,this.exclusiveTests=Object.create(null),this._typeCheck=void 0,this.spec=void 0,this.tests=[],this.transforms=[],this.withMutation(()=>{this.typeError(Zt.notType)}),this.type=e.type,this._typeCheck=e.check,this.spec=Object.assign({strip:!1,strict:!1,abortEarly:!0,recursive:!0,disableStackTrace:!1,nullable:!1,optional:!0,coerce:!0},e==null?void 0:e.spec),this.withMutation(t=>{t.nonNullable()})}get _type(){return this.type}clone(e){if(this._mutate)return e&&Object.assign(this.spec,e),this;const t=Object.create(Object.getPrototypeOf(this));return t.type=this.type,t._typeCheck=this._typeCheck,t._whitelist=this._whitelist.clone(),t._blacklist=this._blacklist.clone(),t.internalTests=Object.assign({},this.internalTests),t.exclusiveTests=Object.assign({},this.exclusiveTests),t.deps=[...this.deps],t.conditions=[...this.conditions],t.tests=[...this.tests],t.transforms=[...this.transforms],t.spec=hi(Object.assign({},this.spec,e)),t}label(e){let t=this.clone();return t.spec.label=e,t}meta(...e){if(e.length===0)return this.spec.meta;let t=this.clone();return t.spec.meta=Object.assign(t.spec.meta||{},e[0]),t}withMutation(e){let t=this._mutate;this._mutate=!0;let i=e(this);return this._mutate=t,i}concat(e){if(!e||e===this)return this;if(e.type!==this.type&&this.type!=="mixed")throw new TypeError(`You cannot \`concat()\` schema's of different types: ${this.type} and ${e.type}`);let t=this,i=e.clone();const o=Object.assign({},t.spec,i.spec);return i.spec=o,i.internalTests=Object.assign({},t.internalTests,i.internalTests),i._whitelist=t._whitelist.merge(e._whitelist,e._blacklist),i._blacklist=t._blacklist.merge(e._blacklist,e._whitelist),i.tests=t.tests,i.exclusiveTests=t.exclusiveTests,i.withMutation(l=>{e.tests.forEach(u=>{l.test(u.OPTIONS)})}),i.transforms=[...t.transforms,...i.transforms],i}isType(e){return e==null?!!(this.spec.nullable&&e===null||this.spec.optional&&e===void 0):this._typeCheck(e)}resolve(e){let t=this;if(t.conditions.length){let i=t.conditions;t=t.clone(),t.conditions=[],t=i.reduce((o,l)=>l.resolve(o,e),t),t=t.resolve(e)}return t}resolveOptions(e){var t,i,o,l;return Object.assign({},e,{from:e.from||[],strict:(t=e.strict)!=null?t:this.spec.strict,abortEarly:(i=e.abortEarly)!=null?i:this.spec.abortEarly,recursive:(o=e.recursive)!=null?o:this.spec.recursive,disableStackTrace:(l=e.disableStackTrace)!=null?l:this.spec.disableStackTrace})}cast(e,t={}){let i=this.resolve(Object.assign({value:e},t)),o=t.assert==="ignore-optionality",l=i._cast(e,t);if(t.assert!==!1&&!i.isType(l)){if(o&&Gt(l))return l;let u=er(e),d=er(l);throw new TypeError(`The value of ${t.path||"field"} could not be cast to a value that satisfies the schema type: "${i.type}". 

attempted value: ${u} 
`+(d!==u?`result of cast: ${d}`:""))}return l}_cast(e,t){let i=e===void 0?e:this.transforms.reduce((o,l)=>l.call(this,o,e,this),e);return i===void 0&&(i=this.getDefault(t)),i}_validate(e,t={},i,o){let{path:l,originalValue:u=e,strict:d=this.spec.strict}=t,h=e;d||(h=this._cast(h,Object.assign({assert:!1},t)));let p=[];for(let m of Object.values(this.internalTests))m&&p.push(m);this.runTests({path:l,value:h,originalValue:u,options:t,tests:p},i,m=>{if(m.length)return o(m,h);this.runTests({path:l,value:h,originalValue:u,options:t,tests:this.tests},i,o)})}runTests(e,t,i){let o=!1,{tests:l,value:u,originalValue:d,path:h,options:p}=e,m=b=>{o||(o=!0,t(b,u))},v=b=>{o||(o=!0,i(b,u))},_=l.length,y=[];if(!_)return v([]);let w={value:u,originalValue:d,path:h,options:p,schema:this};for(let b=0;b<l.length;b++){const E=l[b];E(w,m,function(O){O&&(Array.isArray(O)?y.push(...O):y.push(O)),--_<=0&&v(y)})}}asNestedTest({key:e,index:t,parent:i,parentPath:o,originalParent:l,options:u}){const d=e??t;if(d==null)throw TypeError("Must include `key` or `index` for nested validations");const h=typeof d=="number";let p=i[d];const m=Object.assign({},u,{strict:!0,parent:i,value:p,originalValue:l[d],key:void 0,[h?"index":"key"]:d,path:h||d.includes(".")?`${o||""}[${h?d:`"${d}"`}]`:(o?`${o}.`:"")+e});return(v,_,y)=>this.resolve(m)._validate(p,m,_,y)}validate(e,t){var i;let o=this.resolve(Object.assign({},t,{value:e})),l=(i=t==null?void 0:t.disableStackTrace)!=null?i:o.spec.disableStackTrace;return new Promise((u,d)=>o._validate(e,t,(h,p)=>{rt.isError(h)&&(h.value=p),d(h)},(h,p)=>{h.length?d(new rt(h,p,void 0,void 0,l)):u(p)}))}validateSync(e,t){var i;let o=this.resolve(Object.assign({},t,{value:e})),l,u=(i=t==null?void 0:t.disableStackTrace)!=null?i:o.spec.disableStackTrace;return o._validate(e,Object.assign({},t,{sync:!0}),(d,h)=>{throw rt.isError(d)&&(d.value=h),d},(d,h)=>{if(d.length)throw new rt(d,e,void 0,void 0,u);l=h}),l}isValid(e,t){return this.validate(e,t).then(()=>!0,i=>{if(rt.isError(i))return!1;throw i})}isValidSync(e,t){try{return this.validateSync(e,t),!0}catch(i){if(rt.isError(i))return!1;throw i}}_getDefault(e){let t=this.spec.default;return t==null?t:typeof t=="function"?t.call(this,e):hi(t)}getDefault(e){return this.resolve(e||{})._getDefault(e)}default(e){return arguments.length===0?this._getDefault():this.clone({default:e})}strict(e=!0){return this.clone({strict:e})}nullability(e,t){const i=this.clone({nullable:e});return i.internalTests.nullable=oi({message:t,name:"nullable",test(o){return o===null?this.schema.spec.nullable:!0}}),i}optionality(e,t){const i=this.clone({optional:e});return i.internalTests.optionality=oi({message:t,name:"optionality",test(o){return o===void 0?this.schema.spec.optional:!0}}),i}optional(){return this.optionality(!0)}defined(e=Zt.defined){return this.optionality(!1,e)}nullable(){return this.nullability(!0)}nonNullable(e=Zt.notNull){return this.nullability(!1,e)}required(e=Zt.required){return this.clone().withMutation(t=>t.nonNullable(e).defined(e))}notRequired(){return this.clone().withMutation(e=>e.nullable().optional())}transform(e){let t=this.clone();return t.transforms.push(e),t}test(...e){let t;if(e.length===1?typeof e[0]=="function"?t={test:e[0]}:t=e[0]:e.length===2?t={name:e[0],test:e[1]}:t={name:e[0],message:e[1],test:e[2]},t.message===void 0&&(t.message=Zt.default),typeof t.test!="function")throw new TypeError("`test` is a required parameters");let i=this.clone(),o=oi(t),l=t.exclusive||t.name&&i.exclusiveTests[t.name]===!0;if(t.exclusive&&!t.name)throw new TypeError("Exclusive tests must provide a unique `name` identifying the test");return t.name&&(i.exclusiveTests[t.name]=!!t.exclusive),i.tests=i.tests.filter(u=>!(u.OPTIONS.name===t.name&&(l||u.OPTIONS.test===o.OPTIONS.test))),i.tests.push(o),i}when(e,t){!Array.isArray(e)&&typeof e!="string"&&(t=e,e=".");let i=this.clone(),o=Hy(e).map(l=>new Kr(l));return o.forEach(l=>{l.isSibling&&i.deps.push(l.key)}),i.conditions.push(typeof t=="function"?new Ea(o,t):Ea.fromOptions(o,t)),i}typeError(e){let t=this.clone();return t.internalTests.typeError=oi({message:e,name:"typeError",skipAbsent:!0,test(i){return this.schema._typeCheck(i)?!0:this.createError({params:{type:this.schema.type}})}}),t}oneOf(e,t=Zt.oneOf){let i=this.clone();return e.forEach(o=>{i._whitelist.add(o),i._blacklist.delete(o)}),i.internalTests.whiteList=oi({message:t,name:"oneOf",skipAbsent:!0,test(o){let l=this.schema._whitelist,u=l.resolveAll(this.resolve);return u.includes(o)?!0:this.createError({params:{values:Array.from(l).join(", "),resolved:u}})}}),i}notOneOf(e,t=Zt.notOneOf){let i=this.clone();return e.forEach(o=>{i._blacklist.add(o),i._whitelist.delete(o)}),i.internalTests.blacklist=oi({message:t,name:"notOneOf",test(o){let l=this.schema._blacklist,u=l.resolveAll(this.resolve);return u.includes(o)?this.createError({params:{values:Array.from(l).join(", "),resolved:u}}):!0}}),i}strip(e=!0){let t=this.clone();return t.spec.strip=e,t}describe(e){const t=(e?this.resolve(e):this).clone(),{label:i,meta:o,optional:l,nullable:u}=t.spec;return{meta:o,label:i,optional:l,nullable:u,default:t.getDefault(e),type:t.type,oneOf:t._whitelist.describe(),notOneOf:t._blacklist.describe(),tests:t.tests.map(h=>({name:h.OPTIONS.name,params:h.OPTIONS.params})).filter((h,p,m)=>m.findIndex(v=>v.name===h.name)===p)}}}at.prototype.__isYupSchema__=!0;for(const r of["validate","validateSync"])at.prototype[`${r}At`]=function(e,t,i={}){const{parent:o,parentPath:l,schema:u}=Rd(this,e,t,i.context);return u[r](o&&o[l],Object.assign({},i,{parent:o,path:e}))};for(const r of["equals","is"])at.prototype[r]=at.prototype.oneOf;for(const r of["not","nope"])at.prototype[r]=at.prototype.notOneOf;const lO=()=>!0;function Jy(r){return new Dd(r)}class Dd extends at{constructor(e){super(typeof e=="function"?{type:"mixed",check:e}:Object.assign({type:"mixed",check:lO},e))}}Jy.prototype=Dd.prototype;function ed(){return new Id}class Id extends at{constructor(){super({type:"boolean",check(e){return e instanceof Boolean&&(e=e.valueOf()),typeof e=="boolean"}}),this.withMutation(()=>{this.transform((e,t,i)=>{if(i.spec.coerce&&!i.isType(e)){if(/^(true|1)$/i.test(String(e)))return!0;if(/^(false|0)$/i.test(String(e)))return!1}return e})})}isTrue(e=Zc.isValue){return this.test({message:e,name:"is-value",exclusive:!0,params:{value:"true"},test(t){return Gt(t)||t===!0}})}isFalse(e=Zc.isValue){return this.test({message:e,name:"is-value",exclusive:!0,params:{value:"false"},test(t){return Gt(t)||t===!1}})}default(e){return super.default(e)}defined(e){return super.defined(e)}optional(){return super.optional()}required(e){return super.required(e)}notRequired(){return super.notRequired()}nullable(){return super.nullable()}nonNullable(e){return super.nonNullable(e)}strip(e){return super.strip(e)}}ed.prototype=Id.prototype;const uO=/^(\d{4}|[+-]\d{6})(?:-?(\d{2})(?:-?(\d{2}))?)?(?:[ T]?(\d{2}):?(\d{2})(?::?(\d{2})(?:[,.](\d{1,}))?)?(?:(Z)|([+-])(\d{2})(?::?(\d{2}))?)?)?$/;function cO(r){const e=td(r);if(!e)return Date.parse?Date.parse(r):Number.NaN;if(e.z===void 0&&e.plusMinus===void 0)return new Date(e.year,e.month,e.day,e.hour,e.minute,e.second,e.millisecond).valueOf();let t=0;return e.z!=="Z"&&e.plusMinus!==void 0&&(t=e.hourOffset*60+e.minuteOffset,e.plusMinus==="+"&&(t=0-t)),Date.UTC(e.year,e.month,e.day,e.hour,e.minute+t,e.second,e.millisecond)}function td(r){var e,t;const i=uO.exec(r);return i?{year:fr(i[1]),month:fr(i[2],1)-1,day:fr(i[3],1),hour:fr(i[4]),minute:fr(i[5]),second:fr(i[6]),millisecond:i[7]?fr(i[7].substring(0,3)):0,precision:(e=(t=i[7])==null?void 0:t.length)!=null?e:void 0,z:i[8]||void 0,plusMinus:i[9]||void 0,hourOffset:fr(i[10]),minuteOffset:fr(i[11])}:null}function fr(r,e=0){return Number(r)||e}let dO=/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,hO=/^((https?|ftp):)?\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i,fO=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,pO="^\\d{4}-\\d{2}-\\d{2}",gO="\\d{2}:\\d{2}:\\d{2}",mO="(([+-]\\d{2}(:?\\d{2})?)|Z)",yO=new RegExp(`${pO}T${gO}(\\.\\d+)?${mO}$`),vO=r=>Gt(r)||r===r.trim(),wO={}.toString();function Qy(){return new Ad}class Ad extends at{constructor(){super({type:"string",check(e){return e instanceof String&&(e=e.valueOf()),typeof e=="string"}}),this.withMutation(()=>{this.transform((e,t,i)=>{if(!i.spec.coerce||i.isType(e)||Array.isArray(e))return e;const o=e!=null&&e.toString?e.toString():e;return o===wO?e:o})})}required(e){return super.required(e).withMutation(t=>t.test({message:e||Zt.required,name:"required",skipAbsent:!0,test:i=>!!i.length}))}notRequired(){return super.notRequired().withMutation(e=>(e.tests=e.tests.filter(t=>t.OPTIONS.name!=="required"),e))}length(e,t=mt.length){return this.test({message:t,name:"length",exclusive:!0,params:{length:e},skipAbsent:!0,test(i){return i.length===this.resolve(e)}})}min(e,t=mt.min){return this.test({message:t,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(i){return i.length>=this.resolve(e)}})}max(e,t=mt.max){return this.test({name:"max",exclusive:!0,message:t,params:{max:e},skipAbsent:!0,test(i){return i.length<=this.resolve(e)}})}matches(e,t){let i=!1,o,l;return t&&(typeof t=="object"?{excludeEmptyString:i=!1,message:o,name:l}=t:o=t),this.test({name:l||"matches",message:o||mt.matches,params:{regex:e},skipAbsent:!0,test:u=>u===""&&i||u.search(e)!==-1})}email(e=mt.email){return this.matches(dO,{name:"email",message:e,excludeEmptyString:!0})}url(e=mt.url){return this.matches(hO,{name:"url",message:e,excludeEmptyString:!0})}uuid(e=mt.uuid){return this.matches(fO,{name:"uuid",message:e,excludeEmptyString:!1})}datetime(e){let t="",i,o;return e&&(typeof e=="object"?{message:t="",allowOffset:i=!1,precision:o=void 0}=e:t=e),this.matches(yO,{name:"datetime",message:t||mt.datetime,excludeEmptyString:!0}).test({name:"datetime_offset",message:t||mt.datetime_offset,params:{allowOffset:i},skipAbsent:!0,test:l=>{if(!l||i)return!0;const u=td(l);return u?!!u.z:!1}}).test({name:"datetime_precision",message:t||mt.datetime_precision,params:{precision:o},skipAbsent:!0,test:l=>{if(!l||o==null)return!0;const u=td(l);return u?u.precision===o:!1}})}ensure(){return this.default("").transform(e=>e===null?"":e)}trim(e=mt.trim){return this.transform(t=>t!=null?t.trim():t).test({message:e,name:"trim",test:vO})}lowercase(e=mt.lowercase){return this.transform(t=>Gt(t)?t:t.toLowerCase()).test({message:e,name:"string_case",exclusive:!0,skipAbsent:!0,test:t=>Gt(t)||t===t.toLowerCase()})}uppercase(e=mt.uppercase){return this.transform(t=>Gt(t)?t:t.toUpperCase()).test({message:e,name:"string_case",exclusive:!0,skipAbsent:!0,test:t=>Gt(t)||t===t.toUpperCase()})}}Qy.prototype=Ad.prototype;let _O=r=>r!=+r;function Xy(){return new Nd}class Nd extends at{constructor(){super({type:"number",check(e){return e instanceof Number&&(e=e.valueOf()),typeof e=="number"&&!_O(e)}}),this.withMutation(()=>{this.transform((e,t,i)=>{if(!i.spec.coerce)return e;let o=e;if(typeof o=="string"){if(o=o.replace(/\s/g,""),o==="")return NaN;o=+o}return i.isType(o)||o===null?o:parseFloat(o)})})}min(e,t=Ur.min){return this.test({message:t,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(i){return i>=this.resolve(e)}})}max(e,t=Ur.max){return this.test({message:t,name:"max",exclusive:!0,params:{max:e},skipAbsent:!0,test(i){return i<=this.resolve(e)}})}lessThan(e,t=Ur.lessThan){return this.test({message:t,name:"max",exclusive:!0,params:{less:e},skipAbsent:!0,test(i){return i<this.resolve(e)}})}moreThan(e,t=Ur.moreThan){return this.test({message:t,name:"min",exclusive:!0,params:{more:e},skipAbsent:!0,test(i){return i>this.resolve(e)}})}positive(e=Ur.positive){return this.moreThan(0,e)}negative(e=Ur.negative){return this.lessThan(0,e)}integer(e=Ur.integer){return this.test({name:"integer",message:e,skipAbsent:!0,test:t=>Number.isInteger(t)})}truncate(){return this.transform(e=>Gt(e)?e:e|0)}round(e){var t;let i=["ceil","floor","round","trunc"];if(e=((t=e)==null?void 0:t.toLowerCase())||"round",e==="trunc")return this.truncate();if(i.indexOf(e.toLowerCase())===-1)throw new TypeError("Only valid options for round() are: "+i.join(", "));return this.transform(o=>Gt(o)?o:Math[e](o))}}Xy.prototype=Nd.prototype;let Zy=new Date(""),SO=r=>Object.prototype.toString.call(r)==="[object Date]";function jd(){return new wi}class wi extends at{constructor(){super({type:"date",check(e){return SO(e)&&!isNaN(e.getTime())}}),this.withMutation(()=>{this.transform((e,t,i)=>!i.spec.coerce||i.isType(e)||e===null?e:(e=cO(e),isNaN(e)?wi.INVALID_DATE:new Date(e)))})}prepareParam(e,t){let i;if(Kr.isRef(e))i=e;else{let o=this.cast(e);if(!this._typeCheck(o))throw new TypeError(`\`${t}\` must be a Date or a value that can be \`cast()\` to a Date`);i=o}return i}min(e,t=Xc.min){let i=this.prepareParam(e,"min");return this.test({message:t,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(o){return o>=this.resolve(i)}})}max(e,t=Xc.max){let i=this.prepareParam(e,"max");return this.test({message:t,name:"max",exclusive:!0,params:{max:e},skipAbsent:!0,test(o){return o<=this.resolve(i)}})}}wi.INVALID_DATE=Zy;jd.prototype=wi.prototype;jd.INVALID_DATE=Zy;function bO(r,e=[]){let t=[],i=new Set,o=new Set(e.map(([u,d])=>`${u}-${d}`));function l(u,d){let h=Sn.split(u)[0];i.add(h),o.has(`${d}-${h}`)||t.push([d,h])}for(const u of Object.keys(r)){let d=r[u];i.add(u),Kr.isRef(d)&&d.isSibling?l(d.path,u):kn(d)&&"deps"in d&&d.deps.forEach(h=>l(h,u))}return XT.array(Array.from(i),t).reverse()}function dm(r,e){let t=1/0;return r.some((i,o)=>{var l;if((l=e.path)!=null&&l.includes(i))return t=o,!0}),t}function ev(r){return(e,t)=>dm(r,e)-dm(r,t)}const tv=(r,e,t)=>{if(typeof r!="string")return r;let i=r;try{i=JSON.parse(r)}catch{}return t.isType(i)?i:r};function ca(r){if("fields"in r){const e={};for(const[t,i]of Object.entries(r.fields))e[t]=ca(i);return r.setFields(e)}if(r.type==="array"){const e=r.optional();return e.innerType&&(e.innerType=ca(e.innerType)),e}return r.type==="tuple"?r.optional().clone({types:r.spec.types.map(ca)}):"optional"in r?r.optional():r}const EO=(r,e)=>{const t=[...Sn.normalizePath(e)];if(t.length===1)return t[0]in r;let i=t.pop(),o=Sn.getter(Sn.join(t),!0)(r);return!!(o&&i in o)};let hm=r=>Object.prototype.toString.call(r)==="[object Object]";function fm(r,e){let t=Object.keys(r.fields);return Object.keys(e).filter(i=>t.indexOf(i)===-1)}const kO=ev([]);function rv(r){return new Md(r)}class Md extends at{constructor(e){super({type:"object",check(t){return hm(t)||typeof t=="function"}}),this.fields=Object.create(null),this._sortErrors=kO,this._nodes=[],this._excludedEdges=[],this.withMutation(()=>{e&&this.shape(e)})}_cast(e,t={}){var i;let o=super._cast(e,t);if(o===void 0)return this.getDefault(t);if(!this._typeCheck(o))return o;let l=this.fields,u=(i=t.stripUnknown)!=null?i:this.spec.noUnknown,d=[].concat(this._nodes,Object.keys(o).filter(v=>!this._nodes.includes(v))),h={},p=Object.assign({},t,{parent:h,__validating:t.__validating||!1}),m=!1;for(const v of d){let _=l[v],y=v in o;if(_){let w,b=o[v];p.path=(t.path?`${t.path}.`:"")+v,_=_.resolve({value:b,context:t.context,parent:h});let E=_ instanceof at?_.spec:void 0,k=E==null?void 0:E.strict;if(E!=null&&E.strip){m=m||v in o;continue}w=!t.__validating||!k?_.cast(o[v],p):o[v],w!==void 0&&(h[v]=w)}else y&&!u&&(h[v]=o[v]);(y!==v in h||h[v]!==o[v])&&(m=!0)}return m?h:o}_validate(e,t={},i,o){let{from:l=[],originalValue:u=e,recursive:d=this.spec.recursive}=t;t.from=[{schema:this,value:u},...l],t.__validating=!0,t.originalValue=u,super._validate(e,t,i,(h,p)=>{if(!d||!hm(p)){o(h,p);return}u=u||p;let m=[];for(let v of this._nodes){let _=this.fields[v];!_||Kr.isRef(_)||m.push(_.asNestedTest({options:t,key:v,parent:p,parentPath:t.path,originalParent:u}))}this.runTests({tests:m,value:p,originalValue:u,options:t},i,v=>{o(v.sort(this._sortErrors).concat(h),p)})})}clone(e){const t=super.clone(e);return t.fields=Object.assign({},this.fields),t._nodes=this._nodes,t._excludedEdges=this._excludedEdges,t._sortErrors=this._sortErrors,t}concat(e){let t=super.concat(e),i=t.fields;for(let[o,l]of Object.entries(this.fields)){const u=i[o];i[o]=u===void 0?l:u}return t.withMutation(o=>o.setFields(i,[...this._excludedEdges,...e._excludedEdges]))}_getDefault(e){if("default"in this.spec)return super._getDefault(e);if(!this._nodes.length)return;let t={};return this._nodes.forEach(i=>{var o;const l=this.fields[i];let u=e;(o=u)!=null&&o.value&&(u=Object.assign({},u,{parent:u.value,value:u.value[i]})),t[i]=l&&"getDefault"in l?l.getDefault(u):void 0}),t}setFields(e,t){let i=this.clone();return i.fields=e,i._nodes=bO(e,t),i._sortErrors=ev(Object.keys(e)),t&&(i._excludedEdges=t),i}shape(e,t=[]){return this.clone().withMutation(i=>{let o=i._excludedEdges;return t.length&&(Array.isArray(t[0])||(t=[t]),o=[...i._excludedEdges,...t]),i.setFields(Object.assign(i.fields,e),o)})}partial(){const e={};for(const[t,i]of Object.entries(this.fields))e[t]="optional"in i&&i.optional instanceof Function?i.optional():i;return this.setFields(e)}deepPartial(){return ca(this)}pick(e){const t={};for(const i of e)this.fields[i]&&(t[i]=this.fields[i]);return this.setFields(t,this._excludedEdges.filter(([i,o])=>e.includes(i)&&e.includes(o)))}omit(e){const t=[];for(const i of Object.keys(this.fields))e.includes(i)||t.push(i);return this.pick(t)}from(e,t,i){let o=Sn.getter(e,!0);return this.transform(l=>{if(!l)return l;let u=l;return EO(l,e)&&(u=Object.assign({},l),i||delete u[e],u[t]=o(l)),u})}json(){return this.transform(tv)}exact(e){return this.test({name:"exact",exclusive:!0,message:e||la.exact,test(t){if(t==null)return!0;const i=fm(this.schema,t);return i.length===0||this.createError({params:{properties:i.join(", ")}})}})}stripUnknown(){return this.clone({noUnknown:!0})}noUnknown(e=!0,t=la.noUnknown){typeof e!="boolean"&&(t=e,e=!0);let i=this.test({name:"noUnknown",exclusive:!0,message:t,test(o){if(o==null)return!0;const l=fm(this.schema,o);return!e||l.length===0||this.createError({params:{unknown:l.join(", ")}})}});return i.spec.noUnknown=e,i}unknown(e=!0,t=la.noUnknown){return this.noUnknown(!e,t)}transformKeys(e){return this.transform(t=>{if(!t)return t;const i={};for(const o of Object.keys(t))i[e(o)]=t[o];return i})}camelCase(){return this.transformKeys(Oc.camelCase)}snakeCase(){return this.transformKeys(Oc.snakeCase)}constantCase(){return this.transformKeys(e=>Oc.snakeCase(e).toUpperCase())}describe(e){const t=(e?this.resolve(e):this).clone(),i=super.describe(e);i.fields={};for(const[l,u]of Object.entries(t.fields)){var o;let d=e;(o=d)!=null&&o.value&&(d=Object.assign({},d,{parent:d.value,value:d.value[l]})),i.fields[l]=u.describe(d)}return i}}rv.prototype=Md.prototype;function nv(r){return new $d(r)}class $d extends at{constructor(e){super({type:"array",spec:{types:e},check(t){return Array.isArray(t)}}),this.innerType=void 0,this.innerType=e}_cast(e,t){const i=super._cast(e,t);if(!this._typeCheck(i)||!this.innerType)return i;let o=!1;const l=i.map((u,d)=>{const h=this.innerType.cast(u,Object.assign({},t,{path:`${t.path||""}[${d}]`}));return h!==u&&(o=!0),h});return o?l:i}_validate(e,t={},i,o){var l;let u=this.innerType,d=(l=t.recursive)!=null?l:this.spec.recursive;t.originalValue!=null&&t.originalValue,super._validate(e,t,i,(h,p)=>{var m;if(!d||!u||!this._typeCheck(p)){o(h,p);return}let v=new Array(p.length);for(let y=0;y<p.length;y++){var _;v[y]=u.asNestedTest({options:t,index:y,parent:p,parentPath:t.path,originalParent:(_=t.originalValue)!=null?_:e})}this.runTests({value:p,tests:v,originalValue:(m=t.originalValue)!=null?m:e,options:t},i,y=>o(y.concat(h),p))})}clone(e){const t=super.clone(e);return t.innerType=this.innerType,t}json(){return this.transform(tv)}concat(e){let t=super.concat(e);return t.innerType=this.innerType,e.innerType&&(t.innerType=t.innerType?t.innerType.concat(e.innerType):e.innerType),t}of(e){let t=this.clone();if(!kn(e))throw new TypeError("`array.of()` sub-schema must be a valid yup schema not: "+er(e));return t.innerType=e,t.spec=Object.assign({},t.spec,{types:e}),t}length(e,t=ua.length){return this.test({message:t,name:"length",exclusive:!0,params:{length:e},skipAbsent:!0,test(i){return i.length===this.resolve(e)}})}min(e,t){return t=t||ua.min,this.test({message:t,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(i){return i.length>=this.resolve(e)}})}max(e,t){return t=t||ua.max,this.test({message:t,name:"max",exclusive:!0,params:{max:e},skipAbsent:!0,test(i){return i.length<=this.resolve(e)}})}ensure(){return this.default(()=>[]).transform((e,t)=>this._typeCheck(e)?e:t==null?[]:[].concat(t))}compact(e){let t=e?(i,o,l)=>!e(i,o,l):i=>!!i;return this.transform(i=>i!=null?i.filter(t):i)}describe(e){const t=(e?this.resolve(e):this).clone(),i=super.describe(e);if(t.innerType){var o;let l=e;(o=l)!=null&&o.value&&(l=Object.assign({},l,{parent:l.value,value:l.value[0]})),i.innerType=t.innerType.describe(l)}return i}}nv.prototype=$d.prototype;function iv(r){return new Ld(r)}class Ld extends at{constructor(e){super({type:"tuple",spec:{types:e},check(t){const i=this.spec.types;return Array.isArray(t)&&t.length===i.length}}),this.withMutation(()=>{this.typeError(Ky.notType)})}_cast(e,t){const{types:i}=this.spec,o=super._cast(e,t);if(!this._typeCheck(o))return o;let l=!1;const u=i.map((d,h)=>{const p=d.cast(o[h],Object.assign({},t,{path:`${t.path||""}[${h}]`}));return p!==o[h]&&(l=!0),p});return l?u:o}_validate(e,t={},i,o){let l=this.spec.types;super._validate(e,t,i,(u,d)=>{var h;if(!this._typeCheck(d)){o(u,d);return}let p=[];for(let[v,_]of l.entries()){var m;p[v]=_.asNestedTest({options:t,index:v,parent:d,parentPath:t.path,originalParent:(m=t.originalValue)!=null?m:e})}this.runTests({value:d,tests:p,originalValue:(h=t.originalValue)!=null?h:e,options:t},i,v=>o(v.concat(u),d))})}describe(e){const t=(e?this.resolve(e):this).clone(),i=super.describe(e);return i.innerType=t.spec.types.map((o,l)=>{var u;let d=e;return(u=d)!=null&&u.value&&(d=Object.assign({},d,{parent:d.value,value:d.value[l]})),o.describe(d)}),i}}iv.prototype=Ld.prototype;function xO(r){return new Ba(r)}function pm(r){try{return r()}catch(e){if(rt.isError(e))return Promise.reject(e);throw e}}class Ba{constructor(e){this.type="lazy",this.__isYupSchema__=!0,this.spec=void 0,this._resolve=(t,i={})=>{let o=this.builder(t,i);if(!kn(o))throw new TypeError("lazy() functions must return a valid schema");return this.spec.optional&&(o=o.optional()),o.resolve(i)},this.builder=e,this.spec={meta:void 0,optional:!1}}clone(e){const t=new Ba(this.builder);return t.spec=Object.assign({},this.spec,e),t}optionality(e){return this.clone({optional:e})}optional(){return this.optionality(!0)}resolve(e){return this._resolve(e.value,e)}cast(e,t){return this._resolve(e,t).cast(e,t)}asNestedTest(e){let{key:t,index:i,parent:o,options:l}=e,u=o[i??t];return this._resolve(u,Object.assign({},l,{value:u,parent:o})).asNestedTest(e)}validate(e,t){return pm(()=>this._resolve(e,t).validate(e,t))}validateSync(e,t){return this._resolve(e,t).validateSync(e,t)}validateAt(e,t,i){return pm(()=>this._resolve(t,i).validateAt(e,t,i))}validateSyncAt(e,t,i){return this._resolve(t,i).validateSyncAt(e,t,i)}isValid(e,t){try{return this._resolve(e,t).isValid(e,t)}catch(i){if(rt.isError(i))return Promise.resolve(!1);throw i}}isValidSync(e,t){return this._resolve(e,t).isValidSync(e,t)}describe(e){return e?this.resolve(e).describe(e):{type:"lazy",meta:this.spec.meta,label:void 0}}meta(...e){if(e.length===0)return this.spec.meta;let t=this.clone();return t.spec.meta=Object.assign(t.spec.meta||{},e[0]),t}}function TO(r){Object.keys(r).forEach(e=>{Object.keys(r[e]).forEach(t=>{Yy[e][t]=r[e][t]})})}function OO(r,e,t){if(!r||!kn(r.prototype))throw new TypeError("You must provide a yup schema constructor function");if(typeof e!="string")throw new TypeError("A Method name must be provided");if(typeof t!="function")throw new TypeError("Method function must be provided");r.prototype[e]=t}const CO=Object.freeze(Object.defineProperty({__proto__:null,ArraySchema:$d,BooleanSchema:Id,DateSchema:wi,LazySchema:Ba,MixedSchema:Dd,NumberSchema:Nd,ObjectSchema:Md,Schema:at,StringSchema:Ad,TupleSchema:Ld,ValidationError:rt,addMethod:OO,array:nv,bool:ed,boolean:ed,date:jd,defaultLocale:Yy,getIn:Rd,isSchema:kn,lazy:xO,mixed:Jy,number:Xy,object:rv,printValue:er,reach:aO,ref:oO,setLocale:TO,string:Qy,tuple:iv},Symbol.toStringTag,{value:"Module"})),PO=Am(CO);var gm;function RO(){if(gm)return fn;gm=1,Object.defineProperty(fn,"__esModule",{value:!0}),fn.urlRegex=void 0,fn.validateHeader=j,fn.validateHeaderAndEvent=H;var r=t(PO);function e(B){if(typeof WeakMap!="function")return null;var U=new WeakMap,$=new WeakMap;return(e=function(te){return te?$:U})(B)}function t(B,U){if(B&&B.__esModule)return B;if(B===null||i(B)!=="object"&&typeof B!="function")return{default:B};var $=e(U);if($&&$.has(B))return $.get(B);var Y={},te=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var ne in B)if(ne!=="default"&&Object.prototype.hasOwnProperty.call(B,ne)){var I=te?Object.getOwnPropertyDescriptor(B,ne):null;I&&(I.get||I.set)?Object.defineProperty(Y,ne,I):Y[ne]=B[ne]}return Y.default=B,$&&$.set(B,Y),Y}function i(B){"@babel/helpers - typeof";return i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(U){return typeof U}:function(U){return U&&typeof Symbol=="function"&&U.constructor===Symbol&&U!==Symbol.prototype?"symbol":typeof U},i(B)}function o(B,U){var $=Object.keys(B);if(Object.getOwnPropertySymbols){var Y=Object.getOwnPropertySymbols(B);U&&(Y=Y.filter(function(te){return Object.getOwnPropertyDescriptor(B,te).enumerable})),$.push.apply($,Y)}return $}function l(B){for(var U=1;U<arguments.length;U++){var $=arguments[U]!=null?arguments[U]:{};U%2?o(Object($),!0).forEach(function(Y){u(B,Y,$[Y])}):Object.getOwnPropertyDescriptors?Object.defineProperties(B,Object.getOwnPropertyDescriptors($)):o(Object($)).forEach(function(Y){Object.defineProperty(B,Y,Object.getOwnPropertyDescriptor($,Y))})}return B}function u(B,U,$){return U=d(U),U in B?Object.defineProperty(B,U,{value:$,enumerable:!0,configurable:!0,writable:!0}):B[U]=$,B}function d(B){var U=h(B,"string");return i(U)==="symbol"?U:String(U)}function h(B,U){if(i(B)!=="object"||B===null)return B;var $=B[Symbol.toPrimitive];if($!==void 0){var Y=$.call(B,U||"default");if(i(Y)!=="object")return Y;throw new TypeError("@@toPrimitive must return a primitive value.")}return(U==="string"?String:Number)(B)}var p=fn.urlRegex=/^(?:([a-z0-9+.-]+):\/\/)(?:\S+(?::\S*)?@)?(?:(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)(?:\.(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)*\.?)(?::\d{2,5})?(?:[/?#]\S*)?$/,m=function(U){var $=U.required;return r.lazy(function(Y){return typeof Y=="number"?r.number().integer().min(0):typeof Y=="string"?r.string().required():!$&&typeof Y>"u"?r.mixed().oneOf([void 0]):r.array().required().min(3).max(7).of(r.lazy(function(te,ne){var I=ne.parent.indexOf(ne.value);return[r.number().integer(),r.number().integer().min(1).max(12),r.number().integer().min(1).max(31),r.number().integer().min(0).max(23),r.number().integer().min(0).max(60),r.number().integer().min(0).max(60)][I]}))})},v=r.object().shape({before:r.boolean(),weeks:r.number(),days:r.number(),hours:r.number(),minutes:r.number(),seconds:r.number()}).noUnknown(),_=r.object().shape({name:r.string(),email:r.string().email(),rsvp:r.boolean(),dir:r.string().matches(p),partstat:r.string(),role:r.string(),cutype:r.string(),xNumGuests:r.number()}).noUnknown(),y=r.object().shape({name:r.string(),email:r.string().email(),dir:r.string(),sentBy:r.string()}).noUnknown(),w=r.object().shape({action:r.string().matches(/^(audio|display|email)$/).required(),trigger:r.mixed().required(),description:r.string(),duration:v,repeat:r.number(),attach:r.string(),attachType:r.string(),summary:r.string(),attendee:_,"x-prop":r.mixed(),"iana-prop":r.mixed()}).noUnknown(),b={productId:r.string(),method:r.string(),calName:r.string()},E=r.object().shape(b).noUnknown(),k={summary:r.string(),timestamp:m({required:!1}),title:r.string(),uid:r.string(),sequence:r.number().integer().max(2147483647),start:m({required:!0}),duration:v,startType:r.string().matches(/^(utc|local)$/),startInputType:r.string().matches(/^(utc|local)$/),startOutputType:r.string().matches(/^(utc|local)$/),end:m({required:!1}),endInputType:r.string().matches(/^(utc|local)$/),endOutputType:r.string().matches(/^(utc|local)$/),description:r.string(),url:r.string().matches(p),geo:r.object().shape({lat:r.number(),lon:r.number()}),location:r.string(),status:r.string().matches(/^(TENTATIVE|CANCELLED|CONFIRMED)$/i),categories:r.array().of(r.string()),organizer:y,attendees:r.array().of(_),alarms:r.array().of(w),recurrenceRule:r.string(),busyStatus:r.string().matches(/^(TENTATIVE|FREE|BUSY|OOF)$/i),transp:r.string().matches(/^(TRANSPARENT|OPAQUE)$/i),classification:r.string(),created:m({required:!1}),lastModified:m({required:!1}),exclusionDates:r.array().of(m({required:!0})),htmlContent:r.string()},O=r.object().shape(l(l({},b),k)).test("xor","object should have end or duration (but not both)",function(B){var U=!!B.end,$=!!B.duration;return U&&!$||!U&&$||!U&&!$}).noUnknown();function j(B){try{var U=E.validateSync(B,{abortEarly:!1,strict:!0});return{error:null,value:U}}catch($){return{error:Object.assign({},$),value:void 0}}}function H(B){try{var U=O.validateSync(B,{abortEarly:!1,strict:!0});return{error:null,value:U}}catch($){return{error:Object.assign({},$),value:void 0}}}return fn}var mm;function DO(){return mm||(mm=1,function(r){Object.defineProperty(r,"__esModule",{value:!0});var e=RO();Object.keys(e).forEach(function(t){t==="default"||t==="__esModule"||t in r&&r[t]===e[t]||Object.defineProperty(r,t,{enumerable:!0,get:function(){return e[t]}})})}(kc)),kc}var ym;function IO(){return ym||(ym=1,function(r){Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"buildEvent",{enumerable:!0,get:function(){return e.buildEvent}}),Object.defineProperty(r,"buildHeader",{enumerable:!0,get:function(){return e.buildHeader}}),Object.defineProperty(r,"formatEvent",{enumerable:!0,get:function(){return t.formatEvent}}),Object.defineProperty(r,"formatFooter",{enumerable:!0,get:function(){return t.formatFooter}}),Object.defineProperty(r,"formatHeader",{enumerable:!0,get:function(){return t.formatHeader}}),Object.defineProperty(r,"urlRegex",{enumerable:!0,get:function(){return i.urlRegex}}),Object.defineProperty(r,"validateHeader",{enumerable:!0,get:function(){return i.validateHeader}}),Object.defineProperty(r,"validateHeaderAndEvent",{enumerable:!0,get:function(){return i.validateHeaderAndEvent}});var e=jT(),t=GT(),i=DO()}(ac)),ac}var vm;function AO(){if(vm)return dn;vm=1,Object.defineProperty(dn,"__esModule",{value:!0}),dn.convertTimestampToArray=p,dn.createEvent=m,dn.createEvents=v,dn.isValidURL=_;var r=IO();function e(y){"@babel/helpers - typeof";return e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(w){return typeof w}:function(w){return w&&typeof Symbol=="function"&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":typeof w},e(y)}function t(y,w){var b=Object.keys(y);if(Object.getOwnPropertySymbols){var E=Object.getOwnPropertySymbols(y);w&&(E=E.filter(function(k){return Object.getOwnPropertyDescriptor(y,k).enumerable})),b.push.apply(b,E)}return b}function i(y){for(var w=1;w<arguments.length;w++){var b=arguments[w]!=null?arguments[w]:{};w%2?t(Object(b),!0).forEach(function(E){o(y,E,b[E])}):Object.getOwnPropertyDescriptors?Object.defineProperties(y,Object.getOwnPropertyDescriptors(b)):t(Object(b)).forEach(function(E){Object.defineProperty(y,E,Object.getOwnPropertyDescriptor(b,E))})}return y}function o(y,w,b){return w=l(w),w in y?Object.defineProperty(y,w,{value:b,enumerable:!0,configurable:!0,writable:!0}):y[w]=b,y}function l(y){var w=u(y,"string");return e(w)==="symbol"?w:String(w)}function u(y,w){if(e(y)!=="object"||y===null)return y;var b=y[Symbol.toPrimitive];if(b!==void 0){var E=b.call(y,w||"default");if(e(E)!=="object")return E;throw new TypeError("@@toPrimitive must return a primitive value.")}return(w==="string"?String:Number)(y)}function d(y){return(0,r.validateHeader)((0,r.buildHeader)(y))}function h(y){return(0,r.validateHeaderAndEvent)(i(i({},(0,r.buildHeader)(y)),(0,r.buildEvent)(y)))}function p(y){var w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"local",b=[],E=new Date(y);return b.push(w==="local"?E.getFullYear():E.getUTCFullYear()),b.push((w==="local"?E.getMonth():E.getUTCMonth())+1),b.push(w==="local"?E.getDate():E.getUTCDate()),b.push(w==="local"?E.getHours():E.getUTCHours()),b.push(w==="local"?E.getMinutes():E.getUTCMinutes()),b}function m(y,w){return v([y],w)}function v(y,w,b){var E=e(w)==="object"?w:{},k=arguments.length===3?b:typeof w=="function"?w:null,O=function(){if(!y)return{error:new Error("one argument is required"),value:null};var B=y.length===0?d(E):h(i(i({},y[0]),E)),U=B.error,$=B.value;if(U)return{error:U,value:null};var Y="";Y+=(0,r.formatHeader)($);for(var te=0;te<y.length;te++){var ne=h(y[te]),I=ne.error,q=ne.value;if(I)return{error:I,value:null};Y+=(0,r.formatEvent)(q)}return Y+=(0,r.formatFooter)(),{error:null,value:Y}},j;try{j=O()}catch(H){j={error:H,value:null}}return k?k(j.error,j.value):j}function _(y){return r.urlRegex.test(y)}return dn}var NO=AO();function Zo(r){return[r.getFullYear(),1+r.getMonth(),r.getDate()]}function jO(r,e){const t=new Array;let i=null,o=r.dateGrid.weeks;for(let d=0;d<o.length;d++){const h=o[d],p=Sd(h,e);d===o.length-1?i="Final Training Week!":i=`Training Week ${1+d}`,p[0]>0&&(i+=" Distance: "+Br(p,e,e)),t.push({title:i,description:i,start:Zo(h.days[0].date),end:Zo(gi(h.days[6].date,1))});for(var l=0;l<h.days.length;l++){const m=h.days[l];if(m.event){let[v,_]=La(m.event,r.sourceUnits,e);_=_.replace(/(\r\n|\n|\r)/gm,`
`),_.replace(/\s/g,"")===""&&(_=v),t.push({title:v,description:_,start:Zo(m.date),end:Zo(gi(m.date,1))})}}}let u=NO.createEvents(t);if(u.error){console.log("Error creating iCal events: "+u.error);return}return u.value}function MO(r,e,t){const i=iy(t),o=["Week","Distance"];for(const p of i)o.push(p);const l=[o];let u=r.dateGrid.weeks;for(let p=0;p<u.length;p++){const m=[],v=u[p],_=Sd(v,e);p===u.length-1?m.push("Final Training Week!"):m.push(`Training Week ${1+p}`),_[0]>0?m.push(Br(_,e,e)):m.push("");for(var d=0;d<v.days.length;d++){const y=v.days[d];let w=ya(y.date,"yyyy-MM-dd");if(y.event){let[b,E]=La(y.event,r.sourceUnits,e),k=w+": "+b;E=E.replace(/(\r\n|\n|\r)/gm,`
`),E.replace(/\s/g,"")!==""&&(k+=" "+E),k=k.replace(/(\")/gm,'""'),m.push('"'+k+'"')}else m.push('"'+w+'"')}l.push(m)}return l.map(p=>p.join(",")).join(`
`)}function wm(r,e,t){if(!r)return!1;t=typeof t<"u"?t:".ics",e=typeof e<"u"?e:"calendar";var i=new Blob([r],{type:"text/x-vCalendar;charset=utf8;"});$O(i,`${e}.${t}`)}function $O(r,e){const t=URL.createObjectURL(r),i=document.createElement("a");i.href=t,i.download=e||"download";const o=()=>{setTimeout(()=>{URL.revokeObjectURL(t)},150)};return i.addEventListener("click",o,!1),i.click(),i}const LO=({availablePlans:r,selectedPlan:e,planChangeHandler:t})=>{const[i,o]=N.useState({}),[l,u]=N.useState({}),d=N.useRef({}),h=N.useRef({}),p=w=>{switch(w){case"Base":return 0;case"5K":return 5;case"10K":return 10;case"15K/10M":return 15;case"Half Marathon":return 21.1;case"Marathon":return 42.2;case"Multiple Distances":return 50;default:return 100}},m=w=>{const b=w.toLowerCase();if(b.includes("more than 85"))return 100;if(b.includes("up to 55"))return 55;const E=w.match(/(\d+)\s*(?:to\s*(\d+))?\s*miles?/i);return E?parseInt(E[2]||E[1]):b.includes("novice")||b.includes("beginner")||b.includes("couch")?10:b.includes("intermediate")?30:b.includes("advanced")?50:20};N.useEffect(()=>{const w=b=>{const E=b.target;let k=!1;Object.values(d.current).forEach(O=>{O&&O.contains(E)&&(k=!0)}),k||o({})};return document.addEventListener("mousedown",w),()=>document.removeEventListener("mousedown",w)},[]);const v=(w,b)=>{t(w),o({...i,[b]:!1})},_=w=>{if(!!i[w])o({});else{const E=h.current[w];if(E){const k=E.getBoundingClientRect();u({[w]:{top:k.bottom+window.scrollY,left:k.left+window.scrollX}})}o({[w]:!0})}},y=[{label:"5K/10K Plans",types:["5K","10K","15K/10M","Base","Multiple Distances"]},{label:"Half Marathon Plans",types:["Half Marathon"]},{label:"Marathon Plans",types:["Marathon"]}];return x.jsx("div",{className:"plan-picker-container",children:y.map(w=>{var H,B;const b=r.filter(U=>w.types.includes(U.type)).filter(U=>U.id!=="none"),E=b.reduce((U,$)=>{const Y=$.subcategory?`${$.coach} - ${$.subcategory}`:$.coach;return U[Y]||(U[Y]=[]),U[Y].push($),U},{}),k=i[w.label]||!1,O=b.find(U=>U.id===e.id),j=O?O.name:w.label;return x.jsxs("div",{className:"custom-dropdown",ref:U=>{U&&(d.current[w.label]=U)},children:[x.jsxs("button",{ref:U=>{U&&(h.current[w.label]=U)},className:"dropdown-trigger",onClick:()=>_(w.label),"aria-expanded":k,children:[x.jsx("span",{className:"dropdown-text",children:j}),x.jsx("span",{className:`dropdown-arrow ${k?"open":""}`,children:""})]}),k&&x.jsx("div",{className:"dropdown-menu",style:{top:((H=l[w.label])==null?void 0:H.top)||0,left:((B=l[w.label])==null?void 0:B.left)||0},children:Object.keys(E).sort((U,$)=>{const Y=Math.min(...E[U].map(ne=>p(ne.type))),te=Math.min(...E[$].map(ne=>p(ne.type)));return Y-te}).map(U=>x.jsxs("div",{className:"dropdown-group",children:[x.jsx("div",{className:"group-header",children:U}),E[U].sort(($,Y)=>{const te=m($.name),ne=m(Y.name);if(te!==ne)return te-ne;const I=p($.type),q=p(Y.type);return I!==q?I-q:$.name.localeCompare(Y.name)}).map($=>x.jsx("button",{className:`dropdown-option ${e.id===$.id?"selected":""}`,onClick:()=>v($,w.label),children:$.name},$.id))]},U))})]},w.label)})})},UO=({selectedPlan:r,selectedPlanChangeHandler:e,availablePlans:t,planEndDate:i,onPlanEndDateChange:o})=>x.jsxs("div",{className:"plan-and-date",children:[x.jsx(LO,{availablePlans:t,selectedPlan:r,planChangeHandler:e}),x.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[x.jsx("h3",{style:{margin:0,whiteSpace:"nowrap"},children:"Race date:"}),x.jsx("input",{type:"date",value:i.toISOString().split("T")[0],onChange:l=>{const[u,d,h]=l.target.value.split("-").map(Number),p=new Date(u,d-1,h);o(p)},style:{padding:"0.4rem 0.6rem",fontSize:"inherit",fontFamily:"inherit",border:"1px solid var(--secondary-color)",borderRadius:"0.25rem",backgroundColor:"var(--card-color)",color:"var(--text-color)"}})]})]}),FO=({undoHandler:r,disabled:e})=>{const t=()=>{r()};return x.jsx("button",{className:"app-button",onClick:t,disabled:e,children:" Undo "})},zO=({className:r="",selectedUser:e,onUserChange:t})=>{const[i,o]=N.useState(null),[l,u]=N.useState(null),[d,h]=N.useState(!1),[p,m]=N.useState(null),[v,_]=N.useState(!0);N.useEffect(()=>{y(e)},[e]);const y=async w=>{h(!0),m(null);try{const b=new Date().getTime(),E=await fetch(`/Running_Calendar-dev/data/${w}_paces.json?v=${b}`);if(!E.ok)throw new Error(`Failed to load paces for ${w}`);const k=await E.json();if(k.length>0){const O=k[k.length-1];o(O.paces),u(O.date)}else o(null),u(null)}catch(b){m(b instanceof Error?b.message:"Failed to load paces"),o(null),u(null)}finally{h(!1)}};return v?x.jsxs("div",{className:`paces-panel ${r}`,style:{backgroundColor:"var(--card-color)",border:"3px solid var(--secondary-color)",borderRadius:"0.5rem",padding:"0.5em 1em",margin:"1em 0",position:"sticky",top:"0",zIndex:100,display:"flex",alignItems:"center",justifyContent:"space-between",gap:"0.75rem"},children:[x.jsx("h3",{style:{margin:0,fontSize:"1.1rem"},children:"Training Paces"}),x.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[x.jsx("button",{onClick:()=>t("aaron"),style:{padding:"0.4rem 0.8rem",fontSize:"0.9rem",fontWeight:e==="aaron"?"bold":"normal",backgroundColor:e==="aaron"?"var(--secondary-color)":"transparent",color:"var(--text-color)",border:"2px solid var(--secondary-color)",borderRadius:"0.25rem",cursor:"pointer",transition:"all 0.2s"},children:"Aaron"}),x.jsx("button",{onClick:()=>t("kristin"),style:{padding:"0.4rem 0.8rem",fontSize:"0.9rem",fontWeight:e==="kristin"?"bold":"normal",backgroundColor:e==="kristin"?"var(--secondary-color)":"transparent",color:"var(--text-color)",border:"2px solid var(--secondary-color)",borderRadius:"0.25rem",cursor:"pointer",transition:"all 0.2s"},children:"Kristin"})]}),x.jsx("button",{onClick:()=>_(!1),style:{padding:"0.4rem 0.8rem",fontSize:"0.9rem",backgroundColor:"transparent",color:"var(--text-color)",border:"2px solid var(--secondary-color)",borderRadius:"0.25rem",cursor:"pointer",transition:"all 0.2s"},children:"Show"})]}):x.jsxs("div",{className:`paces-panel ${r}`,style:{backgroundColor:"var(--card-color)",border:"3px solid var(--secondary-color)",borderRadius:"0.5rem",padding:"1em",margin:"1em 0",position:"sticky",top:"0",zIndex:100},children:[x.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"0.5rem"},children:[x.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem"},children:[x.jsx("h3",{style:{margin:0,fontSize:"1.1rem"},children:"Training Paces"}),x.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[x.jsx("button",{onClick:()=>t("aaron"),style:{padding:"0.4rem 0.8rem",fontSize:"0.9rem",fontWeight:e==="aaron"?"bold":"normal",backgroundColor:e==="aaron"?"var(--secondary-color)":"transparent",color:"var(--text-color)",border:"2px solid var(--secondary-color)",borderRadius:"0.25rem",cursor:"pointer",transition:"all 0.2s"},children:"Aaron"}),x.jsx("button",{onClick:()=>t("kristin"),style:{padding:"0.4rem 0.8rem",fontSize:"0.9rem",fontWeight:e==="kristin"?"bold":"normal",backgroundColor:e==="kristin"?"var(--secondary-color)":"transparent",color:"var(--text-color)",border:"2px solid var(--secondary-color)",borderRadius:"0.25rem",cursor:"pointer",transition:"all 0.2s"},children:"Kristin"})]})]}),x.jsx("button",{onClick:()=>_(!0),style:{padding:"0.4rem 0.8rem",fontSize:"0.9rem",backgroundColor:"transparent",color:"var(--text-color)",border:"2px solid var(--secondary-color)",borderRadius:"0.25rem",cursor:"pointer",transition:"all 0.2s",marginLeft:"auto"},children:"Hide"})]}),l&&x.jsxs("div",{style:{fontSize:"0.8rem",color:"var(--text-color)",opacity:.7,marginBottom:"0.5rem"},children:["updated: ",(()=>{const w=l.endsWith("Z")?l:l+"Z",b=new Date(w),k=new Date().getTime()-b.getTime(),O=Math.floor(k/(1e3*60*60)),j=Math.floor(k%(1e3*60*60)/(1e3*60));if(O<1)return`${j} min${j!==1?"s":""} ago`;if(O<24)return`${O} hour${O!==1?"s":""} ago`;{const H=Math.floor(O/24);return`${H} day${H!==1?"s":""} ago`}})()]}),x.jsx("div",{style:{fontSize:"0.85rem",color:"var(--text-color)",opacity:.8,fontStyle:"italic",marginBottom:"0.5rem"},children:"*Paces are added to the current week"}),d&&x.jsx("div",{style:{textAlign:"center",padding:"2rem"},children:x.jsx("p",{children:"Loading paces..."})}),p&&x.jsx("div",{style:{backgroundColor:"#fee",border:"1px solid #fcc",borderRadius:"0.25rem",padding:"1rem",marginBottom:"1rem"},children:x.jsxs("p",{style:{color:"#c33",margin:0},children:[" ",p]})}),i&&!d&&x.jsxs(x.Fragment,{children:[x.jsx("div",{className:"paces-table-horizontal",style:{background:"var(--secondary-color)",borderRadius:"0.5rem",fontFamily:"'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue', sans-serif",fontSize:"1em",margin:0},children:[{label:"Recovery",synonyms:["recovery"]},{label:"Gen-aerobic",synonyms:["gen-aerobic","general aerobic","aerobic"]},{label:"Long/Medium",synonyms:["long/medium","long/medium long","long run","medium long"]},{label:"Marathon",synonyms:["marathon"]},{label:"LT",synonyms:["lt","lactate threshold","threshold"]},{label:"VO2max",synonyms:["vo2max","vo2 max"]}].map((w,b)=>{let E=Object.keys(i).find(O=>w.synonyms.some(j=>O.toLowerCase().includes(j))),k=E?i[E].pace_range:"-";return x.jsxs("div",{className:"pace-zone",children:[x.jsx("span",{className:"pace-zone-label",children:w.label}),x.jsx("span",{className:"pace-zone-value",children:k||"-"})]},b)})}),x.jsx("div",{className:"paces-table-vertical",style:{background:"var(--secondary-color)",borderRadius:"0.5rem",padding:"1em",fontFamily:"'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue', sans-serif",fontSize:"1em",overflowX:"auto",margin:0},children:x.jsx("table",{style:{width:"100%",borderCollapse:"separate",borderSpacing:0},children:x.jsx("tbody",{children:[{label:"Recovery",synonyms:["recovery"]},{label:"Gen-aerobic",synonyms:["gen-aerobic","general aerobic","aerobic"]},{label:"Long/Medium",synonyms:["long/medium","long/medium long","long run","medium long"]},{label:"Marathon",synonyms:["marathon"]},{label:"LT",synonyms:["lt","lactate threshold","threshold"]},{label:"VO2max",synonyms:["vo2max","vo2 max"]}].map((w,b)=>{let E=Object.keys(i).find(O=>w.synonyms.some(j=>O.toLowerCase().includes(j))),k=E?i[E].pace_range:"-";return x.jsxs("tr",{children:[x.jsx("td",{className:"pace-label",style:{paddingRight:"1em",fontWeight:500,textAlign:"right",borderRight:"2px solid #b3b3b3",minWidth:"7em",verticalAlign:"middle",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"10em"},children:w.label}),x.jsx("td",{className:"pace-value",style:{paddingLeft:"1em",paddingRight:"0.5em",textAlign:"left",fontVariantNumeric:"tabular-nums",fontWeight:600,minWidth:"12em",verticalAlign:"middle",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"16em"},children:k||"-"})]},b)})})})})]}),!i&&!d&&!p&&x.jsx("div",{style:{textAlign:"center",padding:"2rem",color:"var(--disabled-fg-color)"},children:x.jsxs("p",{children:["No pace data available for ",e]})})]})};function xa(){return xa=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)({}).hasOwnProperty.call(t,i)&&(r[i]=t[i])}return r},xa.apply(null,arguments)}var fi;(function(r){r.Pop="POP",r.Push="PUSH",r.Replace="REPLACE"})(fi||(fi={}));var _m=function(r){return r},Sm="beforeunload",BO="popstate";function WO(r){r===void 0&&(r={});var e=r,t=e.window,i=t===void 0?document.defaultView:t,o=i.history;function l(){var $=i.location,Y=$.pathname,te=$.search,ne=$.hash,I=o.state||{};return[I.idx,_m({pathname:Y,search:te,hash:ne,state:I.usr||null,key:I.key||"default"})]}var u=null;function d(){if(u)y.call(u),u=null;else{var $=fi.Pop,Y=l(),te=Y[0],ne=Y[1];if(y.length){if(te!=null){var I=m-te;I&&(u={action:$,location:ne,retry:function(){B(I*-1)}},B(I))}}else O($)}}i.addEventListener(BO,d);var h=fi.Pop,p=l(),m=p[0],v=p[1],_=Em(),y=Em();m==null&&(m=0,o.replaceState(xa({},o.state,{idx:m}),""));function w($){return typeof $=="string"?$:qO($)}function b($,Y){return Y===void 0&&(Y=null),_m(xa({pathname:v.pathname,hash:"",search:""},typeof $=="string"?VO($):$,{state:Y,key:HO()}))}function E($,Y){return[{usr:$.state,key:$.key,idx:Y},w($)]}function k($,Y,te){return!y.length||(y.call({action:$,location:Y,retry:te}),!1)}function O($){h=$;var Y=l();m=Y[0],v=Y[1],_.call({action:h,location:v})}function j($,Y){var te=fi.Push,ne=b($,Y);function I(){j($,Y)}if(k(te,ne,I)){var q=E(ne,m+1),J=q[0],ee=q[1];try{o.pushState(J,"",ee)}catch{i.location.assign(ee)}O(te)}}function H($,Y){var te=fi.Replace,ne=b($,Y);function I(){H($,Y)}if(k(te,ne,I)){var q=E(ne,m),J=q[0],ee=q[1];o.replaceState(J,"",ee),O(te)}}function B($){o.go($)}var U={get action(){return h},get location(){return v},createHref:w,push:j,replace:H,go:B,back:function(){B(-1)},forward:function(){B(1)},listen:function(Y){return _.push(Y)},block:function(Y){var te=y.push(Y);return y.length===1&&i.addEventListener(Sm,bm),function(){te(),y.length||i.removeEventListener(Sm,bm)}}};return U}function bm(r){r.preventDefault(),r.returnValue=""}function Em(){var r=[];return{get length(){return r.length},push:function(t){return r.push(t),function(){r=r.filter(function(i){return i!==t})}},call:function(t){r.forEach(function(i){return i&&i(t)})}}}function HO(){return Math.random().toString(36).substr(2,8)}function qO(r){var e=r.pathname,t=e===void 0?"/":e,i=r.search,o=i===void 0?"":i,l=r.hash,u=l===void 0?"":l;return o&&o!=="?"&&(t+=o.charAt(0)==="?"?o:"?"+o),u&&u!=="#"&&(t+=u.charAt(0)==="#"?u:"#"+u),t}function VO(r){var e={};if(r){var t=r.indexOf("#");t>=0&&(e.hash=r.substr(t),r=r.substr(0,t));var i=r.indexOf("?");i>=0&&(e.search=r.substr(i),r=r.substr(0,i)),r&&(e.pathname=r)}return e}const GO=WO();async function fs(r,e,t){if(!jt)return{};const{data:i,error:o}=await jt.from("workout_customizations").select("customizations").eq("user_id",r).eq("plan_id",e).eq("race_date",t).maybeSingle();if(o)return console.error("Error fetching customizations:",o),{};const l=(i==null?void 0:i.customizations)||{};if(typeof l=="string")try{return JSON.parse(l)}catch(u){return console.error("Failed to parse customizations:",u),{}}return l}async function KO(r,e,t,i,o,l){if(!jt)return!1;try{const u=i.toISOString().split("T")[0],d=o.toISOString().split("T")[0],p={...await fs(r,e,t)},m=l.dateGrid.getEvent(i),v=l.dateGrid.getEvent(o),_=(m==null?void 0:m.title)||null,y=(v==null?void 0:v.title)||null;p[u]=_,p[d]=y;const{error:w}=await jt.from("workout_customizations").upsert({user_id:r,plan_id:e,race_date:t,customizations:p,updated_at:new Date().toISOString()},{onConflict:"user_id,plan_id,race_date"});return w?(console.error("Error saving swap:",w),!1):(await YO(r,u,d),!0)}catch(u){return console.error("Error in saveSwapOperation:",u),!1}}async function YO(r,e,t){if(jt)try{const{data:i}=await jt.from("workout_logs").select("*").eq("user_id",r).in("date",[e,t]);if(!i||i.length===0)return;const o=i.find(d=>d.date===e),l=i.find(d=>d.date===t),u=[];o&&u.push({...o,date:t,updated_at:new Date().toISOString()}),l&&u.push({...l,date:e,updated_at:new Date().toISOString()}),u.length>0&&(await jt.from("workout_logs").delete().eq("user_id",r).in("date",[e,t]),await jt.from("workout_logs").insert(u))}catch(i){console.error("Error swapping workout logs:",i)}}function Ud(r,e){if(r==null)return r;if(r.length===0&&(!e||e&&r!==""))return null;const t=r instanceof Array?r[0]:r;return t==null?t:!e&&t===""?null:t}function JO(r){if(r==null)return r;const e=r.getFullYear(),t=r.getMonth()+1,i=r.getDate();return`${e}-${t<10?`0${t}`:t}-${i<10?`0${i}`:i}`}function QO(r){const e=Ud(r);if(e==null)return e;const t=e.split("-");t[1]!=null?t[1]-=1:(t[1]=0,t[2]=1);const i=new Date(...t);return isNaN(i.getTime())?null:i}function XO(r){return r==null?r:String(r)}function ZO(r){const e=Ud(r);return e==null?e:e===""?null:+e}function eC(r){return r==null?r:String(r)}function tC(r){const e=Ud(r,!0);return e==null?e:String(e)}const Ta={encode:eC,decode:tC},rC={encode:XO,decode:ZO},nC={encode:JO,decode:QO,equals:(r,e)=>r===e?!0:r==null||e==null?r===e:r.getFullYear()===e.getFullYear()&&r.getMonth()===e.getMonth()&&r.getDate()===e.getDate()};function iC(r){const e=new URLSearchParams,t=Object.entries(r);for(const[i,o]of t)if(o!==void 0&&o!==null)if(Array.isArray(o))for(const l of o)e.append(i,l??"");else e.append(i,o);return e.toString()}'{}[],":'.split("").map(r=>[r,encodeURIComponent(r)]);function sC(r,e){const t={},i=Object.keys(e);for(const o of i){const l=e[o];r[o]?t[o]=r[o].encode(e[o]):t[o]=l==null?l:String(l)}return t}function oC(r){const e=new URLSearchParams(r),t={};for(let[i,o]of e)Object.prototype.hasOwnProperty.call(t,i)?Array.isArray(t[i])?t[i].push(o):t[i]=[t[i],o]:t[i]=o;return t}class aC{constructor(){this.paramsMap=new Map,this.registeredParams=new Map}set(e,t,i,o){this.paramsMap.set(e,{stringified:t,decoded:i,decode:o})}has(e,t,i){if(!this.paramsMap.has(e))return!1;const o=this.paramsMap.get(e);return o?o.stringified===t&&(i==null||o.decode===i):!1}get(e){var t;if(this.paramsMap.has(e))return(t=this.paramsMap.get(e))==null?void 0:t.decoded}registerParams(e){for(const t of e){const i=this.registeredParams.get(t)||0;this.registeredParams.set(t,i+1)}}unregisterParams(e){for(const t of e){const i=(this.registeredParams.get(t)||0)-1;i<=0?(this.registeredParams.delete(t),this.paramsMap.has(t)&&this.paramsMap.delete(t)):this.registeredParams.set(t,i)}}clear(){this.paramsMap.clear(),this.registeredParams.clear()}}const da=new aC;function lC(r,e){var t,i,o;const l={};let u=!1;const d=Object.keys(r);let h=d;if(e.includeKnownParams||e.includeKnownParams!==!1&&d.length===0){const m=Object.keys((t=e.params)!=null?t:{});h.push(...m)}for(const m of h){const v=r[m];if(v!=null&&typeof v=="object"){l[m]=v;continue}u=!0,l[m]=(o=(i=e.params)==null?void 0:i[m])!=null?o:Ta}return u?l:r}function sv(r,e,t,i){var o;if(!t||!e.length)return r;let l={...r},u=!1;for(const d of e)Object.prototype.hasOwnProperty.call(l,d)||(l[d]=(o=t[d])!=null?o:i,u=!0);return u?l:r}const uC=Object.prototype.hasOwnProperty;function km(r,e){return r===e?r!==0||e!==0||1/r===1/e:r!==r&&e!==e}function ov(r,e,t){var i,o;if(km(r,e))return!0;if(typeof r!="object"||r===null||typeof e!="object"||e===null)return!1;const l=Object.keys(r),u=Object.keys(e);if(l.length!==u.length)return!1;for(let d=0;d<l.length;d++){const h=(o=(i=void 0)==null?void 0:i.equals)!=null?o:km;if(!uC.call(e,l[d])||!h(r[l[d]],e[l[d]]))return!1}return!0}function av(r,e,t){const i={},o=Object.keys(e);for(const l of o){const u=e[l],d=r[l];let h;if(t.has(l,d,u.decode))h=t.get(l);else{if(h=u.decode(d),u.equals&&t.has(l,d)){const p=t.get(l);u.equals(h,p)&&(h=p)}h!==void 0&&t.set(l,d,h,u.decode)}h===void 0&&u.default!==void 0&&(h=u.default),i[l]=h}return i}function cC(){let r;function e(t,i,o){const l=av(t,i,o);return r!=null&&ov(r,l)?r:(r=l,l)}return e}function dC(r){let e;for(const t in r)if(r[t].urlName){const o=`${r[t].urlName}\0${t}`;e?e.push(o):e=[o]}return e?e.join(`
`):void 0}function hC(r){if(r)return Object.fromEntries(r.split(`
`).map(e=>e.split("\0")))}function fC(r,e){var t;let i={};for(const o in r)((t=e[o])==null?void 0:t.urlName)!=null?i[e[o].urlName]=r[o]:i[o]=r[o];return i}let xm,Tm,Om,Cc={};const lv=(r,e,t)=>{if(xm===e&&Om===r&&Tm===t)return Cc;xm=e,Om=r;const i=r(e??"");Tm=t;const o=hC(t);for(let[l,u]of Object.entries(i)){o!=null&&o[l]&&(delete i[l],l=o[l],i[l]=u);const d=Cc[l];ov(u,d)&&(i[l]=d)}return Cc=i,i},pC={searchStringToObject:oC,objectToSearchString:iC,updateType:"pushIn",includeKnownParams:void 0,includeAllParams:!1,removeDefaultsFromUrl:!1,enableBatching:!1,skipUpdateWhenNoChange:!0};function uv(r,e){e==null&&(e={});const t={...r,...e};return e.params&&r.params&&(t.params={...r.params,...e.params}),t}const cv={adapter:{},options:pC},rd=N.createContext(cv);function gC(){const r=N.useContext(rd);if(r===void 0||r===cv)throw new Error("useQueryParams must be used within a QueryParamProvider");return r}function Cm({children:r,adapter:e,options:t}){const{adapter:i,options:o}=N.useContext(rd),l=N.useMemo(()=>({adapter:e??i,options:uv(o,t)}),[e,t,i,o]);return N.createElement(rd.Provider,{value:l},r)}function mC({children:r,adapter:e,options:t}){const i=e;return i?N.createElement(i,null,o=>N.createElement(Cm,{adapter:o,options:t},r)):N.createElement(Cm,{options:t},r)}function yC(r,e){var t;for(const i in r)((t=e[i])==null?void 0:t.default)!==void 0&&r[i]!==void 0&&e[i].encode(e[i].default)===r[i]&&(r[i]=void 0)}function vC({changes:r,updateType:e,currentSearchString:t,paramConfigMap:i,options:o}){const{searchStringToObject:l,objectToSearchString:u}=o;e==null&&(e=o.updateType);let d;const h=lv(l,t),p=sv(i,Object.keys(r),o.params);let m;if(typeof r=="function"){const _=av(h,p,da);m=r(_)}else m=r;d=sC(p,m),o.removeDefaultsFromUrl&&yC(d,p),d=fC(d,p);let v;return e==="push"||e==="replace"?v=u(d):v=u({...h,...d}),v!=null&&v.length&&v[0]!=="?"&&(v=`?${v}`),v??""}function wC({searchString:r,adapter:e,navigate:t,updateType:i}){const l={...e.location,search:r};t&&(typeof i=="string"&&i.startsWith("replace")?e.replace(l):e.push(l))}const _C=r=>r(),SC=r=>setTimeout(()=>r(),0),ea=[];function bC(r,{immediate:e}={}){ea.push(r);let t=e?_C:SC;ea.length===1&&t(()=>{const i=ea.slice();ea.length=0;const o=i[0].currentSearchString;let l;for(let u=0;u<i.length;++u){const d=u===0?i[u]:{...i[u],currentSearchString:l};l=vC(d)}r.options.skipUpdateWhenNoChange&&l===o||wC({searchString:l??"",adapter:i[i.length-1].adapter,navigate:!0,updateType:i[i.length-1].updateType})})}function EC(r,e){const{adapter:t,options:i}=gC(),[o]=N.useState(cC),{paramConfigMap:l,options:u}=kC(r,e),d=N.useMemo(()=>uv(i,u),[i,u]);let h=lC(l,d);const p=lv(d.searchStringToObject,t.location.search,dC(h));d.includeAllParams&&(h=sv(h,Object.keys(p),d.params,Ta));const m=o(p,h,da),v=Object.keys(h).join("\0");N.useEffect(()=>{const b=v.split("\0");return da.registerParams(b),()=>{da.unregisterParams(b)}},[v]);const _={adapter:t,paramConfigMap:h,options:d},y=N.useRef(_);y.current==null&&(y.current=_),N.useEffect(()=>{y.current.adapter=t,y.current.paramConfigMap=h,y.current.options=d},[t,h,d]);const[w]=N.useState(()=>(E,k)=>{const{adapter:O,paramConfigMap:j,options:H}=y.current;k==null&&(k=H.updateType),bC({changes:E,updateType:k,currentSearchString:O.location.search,paramConfigMap:j,options:H,adapter:O},{immediate:!H.enableBatching})});return[m,w]}function kC(r,e){let t,i;return r===void 0?(t={},i=e):Array.isArray(r)?(t=Object.fromEntries(r.map(o=>[o,"inherit"])),i=e):(t=r,i=e),{paramConfigMap:t,options:i}}const xC=({racePlan:r})=>x.jsx("div",{className:"plan-details",children:x.jsxs("div",{className:"plan-details-content",children:[x.jsx("p",{children:r==null?void 0:r.description}),x.jsx("p",{children:x.jsx("a",{href:r==null?void 0:r.sourceUrl,children:"Source"})})]})}),TC=r=>N.useEffect(r,[]),dv="rc_plan_selection",Pc=(r,e,t)=>{try{localStorage.setItem(dv,JSON.stringify({planId:r.id,date:e.toISOString(),units:t}))}catch{}},OC=()=>{try{const r=localStorage.getItem(dv);if(!r)return;const e=JSON.parse(r),t=e.planId?Lr.find(e.planId):void 0,i=e.date?new Date(e.date):void 0,o=e.units==="mi"||e.units==="km"?e.units:void 0;if(t&&i&&o)return{plan:t,date:i,units:o}}catch{}},CC=()=>{const[{u:r,p:e,d:t},i]=EC({u:Ta,p:Ta,d:nC,s:rC}),[o,l]=N.useState(r==="mi"||r==="km"?r:j1());var[u,d]=N.useState(Lr.find(e||"")),[h,p]=N.useState(void 0),[m,v]=N.useState([]);const _=va.Monday;var[y,w]=N.useState(t&&jc(t,new Date)?t:ey(Ia(new Date,{weekStartsOn:_}),20)),[b,E]=N.useState("aaron");const[k,O]=N.useState(!1),j=(C,V)=>{if(!V||Object.keys(V).length===0)return C;const z={...C,dateGrid:C.dateGrid.clone()};for(const[K,M]of Object.entries(V)){const R=new Date(K+"T00:00:00");if(M!==null){const G=C.dateGrid.getEvent(R);if(G&&G.title===M)continue;let oe;for(let de=new Date(C.planDates.start);de<=C.planDates.end;de.setDate(de.getDate()+1)){const we=C.dateGrid.getEvent(new Date(de));if(we&&we.title===M){oe=we;break}}oe&&z.dateGrid.setEvent(R,oe)}}return z},H=!Od&&typeof window<"u"&&(window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1");TC(()=>{const C=OC(),z=(e?Lr.find(e):void 0)||(C==null?void 0:C.plan)||u,M=(t&&jc(t,new Date)?t:void 0)||(C==null?void 0:C.date)||y,G=(r==="mi"||r==="km"?r:void 0)||(C==null?void 0:C.units)||o;z&&(d(z),w(M),l(G),$(z,M,G,_))});const[,B]=Lu.useReducer(C=>C+1,0);Lu.useEffect(()=>{GO.listen(()=>{B()})},[]),Lu.useEffect(()=>{(async()=>{if(h&&u){const V=await fs(b,u.id,y.toISOString().split("T")[0]);let z=qo(await Lr.fetch(u),y,_);z=j(z,V),p(z),v([z])}})()},[b]);const U=(C,V,z,K)=>({u:C,p:V.id,d:z,s:K}),$=async(C,V,z,K)=>{let M=qo(await Lr.fetch(C),V,K);const R=await fs(b,C.id,V.toISOString().split("T")[0]);M=j(M,R),p(M),v([...m,M]),i(U(z,C,V,K))},Y=async C=>{let V=qo(await Lr.fetch(C),y,_);const z=await fs(b,C.id,y.toISOString().split("T")[0]);V=j(V,z),d(C),p(V),v([V]),i(U(o,C,y,_)),Pc(C,y,o)},te=async C=>{let V=qo(await Lr.fetch(u),C,_);const z=await fs(b,u.id,C.toISOString().split("T")[0]);V=j(V,z),w(C),p(V),v([V]),i(U(o,u,C,_)),Pc(u,C,o)},ne=C=>{l(C),i(U(C,u,y,_)),Pc(u,y,C)};function I(C,V){if(h){const z=Nb(h,C,V);p(z),v([...m,z]),KO(b,u.id,y.toISOString().split("T")[0],C,V,z).catch(K=>console.error("Failed to save swap:",K))}}function q(C,V){if(h){const z=jb(h,C,V);p(z),v([...m,z])}}function J(){if(h){const C=jO(h,o);C&&wm(C,"plan","ics")}}function ee(){if(h){const C=MO(h,o,_);C&&wm(C,"plan","csv")}}function D(){(m==null?void 0:m.length)>=0&&m.pop(),p(m[m.length-1])}return x.jsxs(x.Fragment,{children:[H&&x.jsx("div",{style:{background:"#fff3cd",color:"#664d03",border:"1px solid #ffeeba",padding:"0.75rem 1rem",margin:"0.5rem",borderRadius:"6px",fontSize:"0.9rem"},children:"Supabase is not configured. Set VITE_SUPABASE_URL and VITE_SUPABASE_ANON_KEY in your env (e.g., .env.local) and restart the dev server."}),x.jsx(zO,{selectedUser:b,onUserChange:E}),x.jsx(UO,{availablePlans:Lr.available,selectedPlan:u,selectedPlanChangeHandler:Y,planEndDate:y,onPlanEndDateChange:te}),x.jsx("button",{onClick:()=>O(!k),style:{margin:"0.5rem",padding:"0.5rem 1rem",backgroundColor:k?"var(--secondary-color)":"transparent",color:"var(--text-color)",border:"2px solid var(--secondary-color)",borderRadius:"0.25rem",cursor:"pointer",fontSize:"0.9rem",fontWeight:"bold",transition:"all 0.2s"},children:k?"Hide Advanced":"Show Advanced"}),k&&x.jsxs(x.Fragment,{children:[x.jsx("div",{className:"controls-row",children:x.jsxs("div",{style:{display:"flex",gap:"0.5rem",alignItems:"center"},children:[x.jsx("h3",{style:{margin:0,whiteSpace:"nowrap"},children:"Units:"}),x.jsx("button",{onClick:()=>ne("mi"),style:{padding:"0.4rem 0.8rem",backgroundColor:o==="mi"?"var(--secondary-color)":"transparent",color:"var(--text-color)",border:"2px solid var(--secondary-color)",borderRadius:"0.25rem",cursor:"pointer",fontWeight:o==="mi"?"bold":"normal",transition:"all 0.2s"},children:"mi"}),x.jsx("button",{onClick:()=>ne("km"),style:{padding:"0.4rem 0.8rem",backgroundColor:o==="km"?"var(--secondary-color)":"transparent",color:"var(--text-color)",border:"2px solid var(--secondary-color)",borderRadius:"0.25rem",cursor:"pointer",fontWeight:o==="km"?"bold":"normal",transition:"all 0.2s"},children:"km"})]})}),x.jsx(xC,{racePlan:h}),x.jsxs("div",{className:"second-toolbar",children:[x.jsx("button",{className:"app-button",onClick:J,children:"Download iCal"}),x.jsx("button",{className:"app-button",onClick:ee,children:"Download CSV"}),x.jsx(FO,{disabled:m.length<=1,undoHandler:D})]})]}),x.jsx("div",{className:"main-ui",children:h&&x.jsx(CT,{racePlan:h,units:o,weekStartsOn:_,swapDates:I,swapDow:q,selectedUser:b})})]})};var hv=r=>{throw TypeError(r)},fv=(r,e,t)=>e.has(r)||hv("Cannot "+t),ye=(r,e,t)=>(fv(r,e,"read from private field"),t?t.call(r):e.get(r)),At=(r,e,t)=>e.has(r)?hv("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(r):e.set(r,t),mn=(r,e,t,i)=>(fv(r,e,"write to private field"),e.set(r,t),t),Fr,PC=class{constructor(){At(this,Fr),this.register=r=>{ye(this,Fr).push(r)},this.unregister=r=>{for(;ye(this,Fr).indexOf(r)!==-1;)ye(this,Fr).splice(ye(this,Fr).indexOf(r),1)},this.backendChanged=r=>{for(let e of ye(this,Fr))e.backendChanged(r)},mn(this,Fr,[])}};Fr=new WeakMap;var bt,ps,Et,pr,yn,nd,id,sd,ha,fa,gs,pv=class pa{constructor(e,t,i){if(At(this,bt),At(this,ps),At(this,Et),At(this,pr),At(this,yn),At(this,nd,(o,l,u)=>{if(!u.backend)throw new Error(`You must specify a 'backend' property in your Backend entry: ${JSON.stringify(u)}`);let d=u.backend(o,l,u.options),h=u.id,p=!u.id&&d&&d.constructor;if(p&&(h=d.constructor.name),!h)throw new Error(`You must specify an 'id' property in your Backend entry: ${JSON.stringify(u)}
        see this guide: https://github.com/louisbrunner/dnd-multi-backend/tree/master/packages/react-dnd-multi-backend#migrating-from-5xx`);if(p&&console.warn(`Deprecation notice: You are using a pipeline which doesn't include backends' 'id'.
        This might be unsupported in the future, please specify 'id' explicitely for every backend.`),ye(this,Et)[h])throw new Error(`You must specify a unique 'id' property in your Backend entry:
        ${JSON.stringify(u)} (conflicts with: ${JSON.stringify(ye(this,Et)[h])})`);return{id:h,instance:d,preview:u.preview??!1,transition:u.transition,skipDispatchOnTransition:u.skipDispatchOnTransition??!1}}),this.setup=()=>{if(!(typeof window>"u")){if(pa.isSetUp)throw new Error("Cannot have two MultiBackends at the same time.");pa.isSetUp=!0,ye(this,id).call(this,window),ye(this,Et)[ye(this,bt)].instance.setup()}},this.teardown=()=>{typeof window>"u"||(pa.isSetUp=!1,ye(this,sd).call(this,window),ye(this,Et)[ye(this,bt)].instance.teardown())},this.connectDragSource=(o,l,u)=>ye(this,gs).call(this,"connectDragSource",o,l,u),this.connectDragPreview=(o,l,u)=>ye(this,gs).call(this,"connectDragPreview",o,l,u),this.connectDropTarget=(o,l,u)=>ye(this,gs).call(this,"connectDropTarget",o,l,u),this.profile=()=>ye(this,Et)[ye(this,bt)].instance.profile(),this.previewEnabled=()=>ye(this,Et)[ye(this,bt)].preview,this.previewsList=()=>ye(this,ps),this.backendsList=()=>ye(this,pr),At(this,id,o=>{for(let l of ye(this,pr))l.transition&&o.addEventListener(l.transition.event,ye(this,ha))}),At(this,sd,o=>{for(let l of ye(this,pr))l.transition&&o.removeEventListener(l.transition.event,ye(this,ha))}),At(this,ha,o=>{var u;let l=ye(this,bt);if(ye(this,pr).some(d=>d.id!==ye(this,bt)&&d.transition&&d.transition.check(o)?(mn(this,bt,d.id),!0):!1),ye(this,bt)!==l){ye(this,Et)[l].instance.teardown();for(let[m,v]of Object.entries(ye(this,yn)))v.unsubscribe(),v.unsubscribe=ye(this,fa).call(this,v.func,...v.args);ye(this,ps).backendChanged(this);let d=ye(this,Et)[ye(this,bt)];if(d.instance.setup(),d.skipDispatchOnTransition)return;let h=o.constructor,p=new h(o.type,o);(u=o.target)==null||u.dispatchEvent(p)}}),At(this,fa,(o,l,u,d)=>ye(this,Et)[ye(this,bt)].instance[o](l,u,d)),At(this,gs,(o,l,u,d)=>{let h=`${o}_${l}`,p=ye(this,fa).call(this,o,l,u,d);return ye(this,yn)[h]={func:o,args:[l,u,d],unsubscribe:p},()=>{ye(this,yn)[h].unsubscribe(),delete ye(this,yn)[h]}}),!i||!i.backends||i.backends.length<1)throw new Error(`You must specify at least one Backend, if you are coming from 2.x.x (or don't understand this error)
        see this guide: https://github.com/louisbrunner/dnd-multi-backend/tree/master/packages/react-dnd-multi-backend#migrating-from-2xx`);mn(this,ps,new PC),mn(this,Et,{}),mn(this,pr,[]);for(let o of i.backends){let l=ye(this,nd).call(this,e,t,o);ye(this,Et)[l.id]=l,ye(this,pr).push(l)}mn(this,bt,ye(this,pr)[0].id),mn(this,yn,{})}};bt=new WeakMap,ps=new WeakMap,Et=new WeakMap,pr=new WeakMap,yn=new WeakMap,nd=new WeakMap,id=new WeakMap,sd=new WeakMap,ha=new WeakMap,fa=new WeakMap,gs=new WeakMap,pv.isSetUp=!1;var RC=pv,DC=(r,e,t)=>new RC(r,e,t);Nm();var IC=N.createContext(null),AC=({portal:r,...e})=>{let[t,i]=N.useState(null);return x.jsxs(IC.Provider,{value:r??t,children:[x.jsx(XE,{backend:DC,...e}),r?null:x.jsx("div",{ref:i})]})};function gv(r){let e=null;return()=>(e==null&&(e=r()),e)}function NC(r,e){return r.filter(t=>t!==e)}function jC(r,e){const t=new Set,i=l=>t.add(l);r.forEach(i),e.forEach(i);const o=[];return t.forEach(l=>o.push(l)),o}class MC{enter(e){const t=this.entered.length,i=o=>this.isNodeInDocument(o)&&(!o.contains||o.contains(e));return this.entered=jC(this.entered.filter(i),[e]),t===0&&this.entered.length>0}leave(e){const t=this.entered.length;return this.entered=NC(this.entered.filter(this.isNodeInDocument),e),t>0&&this.entered.length===0}reset(){this.entered=[]}constructor(e){this.entered=[],this.isNodeInDocument=e}}const $C=gv(()=>/firefox/i.test(navigator.userAgent)),mv=gv(()=>!!window.safari);class Pm{interpolate(e){const{xs:t,ys:i,c1s:o,c2s:l,c3s:u}=this;let d=t.length-1;if(e===t[d])return i[d];let h=0,p=u.length-1,m;for(;h<=p;){m=Math.floor(.5*(h+p));const y=t[m];if(y<e)h=m+1;else if(y>e)p=m-1;else return i[m]}d=Math.max(0,p);const v=e-t[d],_=v*v;return i[d]+o[d]*v+l[d]*_+u[d]*v*_}constructor(e,t){const{length:i}=e,o=[];for(let y=0;y<i;y++)o.push(y);o.sort((y,w)=>e[y]<e[w]?-1:1);const l=[],u=[];let d,h;for(let y=0;y<i-1;y++)d=e[y+1]-e[y],h=t[y+1]-t[y],l.push(d),u.push(h/d);const p=[u[0]];for(let y=0;y<l.length-1;y++){const w=u[y],b=u[y+1];if(w*b<=0)p.push(0);else{d=l[y];const E=l[y+1],k=d+E;p.push(3*k/((k+E)/w+(k+d)/b))}}p.push(u[u.length-1]);const m=[],v=[];let _;for(let y=0;y<p.length-1;y++){_=u[y];const w=p[y],b=1/l[y],E=w+p[y+1]-_-_;m.push((_-w-E)*b),v.push(E*b*b)}this.xs=e,this.ys=t,this.c1s=p,this.c2s=m,this.c3s=v}}const LC=1;function yv(r){const e=r.nodeType===LC?r:r.parentElement;if(!e)return null;const{top:t,left:i}=e.getBoundingClientRect();return{x:i,y:t}}function ta(r){return{x:r.clientX,y:r.clientY}}function UC(r){var e;return r.nodeName==="IMG"&&($C()||!(!((e=document.documentElement)===null||e===void 0)&&e.contains(r)))}function FC(r,e,t,i){let o=r?e.width:t,l=r?e.height:i;return mv()&&r&&(l/=window.devicePixelRatio,o/=window.devicePixelRatio),{dragPreviewWidth:o,dragPreviewHeight:l}}function zC(r,e,t,i,o){const l=UC(e),d=yv(l?r:e),h={x:t.x-d.x,y:t.y-d.y},{offsetWidth:p,offsetHeight:m}=r,{anchorX:v,anchorY:_}=i,{dragPreviewWidth:y,dragPreviewHeight:w}=FC(l,e,p,m),b=()=>{let U=new Pm([0,.5,1],[h.y,h.y/m*w,h.y+w-m]).interpolate(_);return mv()&&l&&(U+=(window.devicePixelRatio-1)*w),U},E=()=>new Pm([0,.5,1],[h.x,h.x/p*y,h.x+y-p]).interpolate(v),{offsetX:k,offsetY:O}=o,j=k===0||k,H=O===0||O;return{x:j?k:E(),y:H?O:b()}}const vv="__NATIVE_FILE__",wv="__NATIVE_URL__",_v="__NATIVE_TEXT__",Sv="__NATIVE_HTML__",Rm=Object.freeze(Object.defineProperty({__proto__:null,FILE:vv,HTML:Sv,TEXT:_v,URL:wv},Symbol.toStringTag,{value:"Module"}));function Rc(r,e,t){const i=e.reduce((o,l)=>o||r.getData(l),"");return i??t}const od={[vv]:{exposeProperties:{files:r=>Array.prototype.slice.call(r.files),items:r=>r.items,dataTransfer:r=>r},matchesTypes:["Files"]},[Sv]:{exposeProperties:{html:(r,e)=>Rc(r,e,""),dataTransfer:r=>r},matchesTypes:["Html","text/html"]},[wv]:{exposeProperties:{urls:(r,e)=>Rc(r,e,"").split(`
`),dataTransfer:r=>r},matchesTypes:["Url","text/uri-list"]},[_v]:{exposeProperties:{text:(r,e)=>Rc(r,e,""),dataTransfer:r=>r},matchesTypes:["Text","text/plain"]}};class BC{initializeExposedProperties(){Object.keys(this.config.exposeProperties).forEach(e=>{Object.defineProperty(this.item,e,{configurable:!0,enumerable:!0,get(){return console.warn(`Browser doesn't allow reading "${e}" until the drop event.`),null}})})}loadDataTransfer(e){if(e){const t={};Object.keys(this.config.exposeProperties).forEach(i=>{const o=this.config.exposeProperties[i];o!=null&&(t[i]={value:o(e,this.config.matchesTypes),configurable:!0,enumerable:!0})}),Object.defineProperties(this.item,t)}}canDrag(){return!0}beginDrag(){return this.item}isDragging(e,t){return t===e.getSourceId()}endDrag(){}constructor(e){this.config=e,this.item={},this.initializeExposedProperties()}}function WC(r,e){const t=od[r];if(!t)throw new Error(`native type ${r} has no configuration`);const i=new BC(t);return i.loadDataTransfer(e),i}function Dc(r){if(!r)return null;const e=Array.prototype.slice.call(r.types||[]);return Object.keys(od).filter(t=>{const i=od[t];return i!=null&&i.matchesTypes?i.matchesTypes.some(o=>e.indexOf(o)>-1):!1})[0]||null}let HC=class{get window(){if(this.globalContext)return this.globalContext;if(typeof window<"u")return window}get document(){var e;return!((e=this.globalContext)===null||e===void 0)&&e.document?this.globalContext.document:this.window?this.window.document:void 0}get rootElement(){var e;return((e=this.optionsArgs)===null||e===void 0?void 0:e.rootElement)||this.window}constructor(e,t){this.ownerDocument=null,this.globalContext=e,this.optionsArgs=t}};function qC(r,e,t){return e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function Dm(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{},i=Object.keys(t);typeof Object.getOwnPropertySymbols=="function"&&(i=i.concat(Object.getOwnPropertySymbols(t).filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable}))),i.forEach(function(o){qC(r,o,t[o])})}return r}class VC{profile(){var e,t;return{sourcePreviewNodes:this.sourcePreviewNodes.size,sourcePreviewNodeOptions:this.sourcePreviewNodeOptions.size,sourceNodeOptions:this.sourceNodeOptions.size,sourceNodes:this.sourceNodes.size,dragStartSourceIds:((e=this.dragStartSourceIds)===null||e===void 0?void 0:e.length)||0,dropTargetIds:this.dropTargetIds.length,dragEnterTargetIds:this.dragEnterTargetIds.length,dragOverTargetIds:((t=this.dragOverTargetIds)===null||t===void 0?void 0:t.length)||0}}get window(){return this.options.window}get document(){return this.options.document}get rootElement(){return this.options.rootElement}setup(){const e=this.rootElement;if(e!==void 0){if(e.__isReactDndBackendSetUp)throw new Error("Cannot have two HTML5 backends at the same time.");e.__isReactDndBackendSetUp=!0,this.addEventListeners(e)}}teardown(){const e=this.rootElement;if(e!==void 0&&(e.__isReactDndBackendSetUp=!1,this.removeEventListeners(this.rootElement),this.clearCurrentDragSourceNode(),this.asyncEndDragFrameId)){var t;(t=this.window)===null||t===void 0||t.cancelAnimationFrame(this.asyncEndDragFrameId)}}connectDragPreview(e,t,i){return this.sourcePreviewNodeOptions.set(e,i),this.sourcePreviewNodes.set(e,t),()=>{this.sourcePreviewNodes.delete(e),this.sourcePreviewNodeOptions.delete(e)}}connectDragSource(e,t,i){this.sourceNodes.set(e,t),this.sourceNodeOptions.set(e,i);const o=u=>this.handleDragStart(u,e),l=u=>this.handleSelectStart(u);return t.setAttribute("draggable","true"),t.addEventListener("dragstart",o),t.addEventListener("selectstart",l),()=>{this.sourceNodes.delete(e),this.sourceNodeOptions.delete(e),t.removeEventListener("dragstart",o),t.removeEventListener("selectstart",l),t.setAttribute("draggable","false")}}connectDropTarget(e,t){const i=u=>this.handleDragEnter(u,e),o=u=>this.handleDragOver(u,e),l=u=>this.handleDrop(u,e);return t.addEventListener("dragenter",i),t.addEventListener("dragover",o),t.addEventListener("drop",l),()=>{t.removeEventListener("dragenter",i),t.removeEventListener("dragover",o),t.removeEventListener("drop",l)}}addEventListeners(e){e.addEventListener&&(e.addEventListener("dragstart",this.handleTopDragStart),e.addEventListener("dragstart",this.handleTopDragStartCapture,!0),e.addEventListener("dragend",this.handleTopDragEndCapture,!0),e.addEventListener("dragenter",this.handleTopDragEnter),e.addEventListener("dragenter",this.handleTopDragEnterCapture,!0),e.addEventListener("dragleave",this.handleTopDragLeaveCapture,!0),e.addEventListener("dragover",this.handleTopDragOver),e.addEventListener("dragover",this.handleTopDragOverCapture,!0),e.addEventListener("drop",this.handleTopDrop),e.addEventListener("drop",this.handleTopDropCapture,!0))}removeEventListeners(e){e.removeEventListener&&(e.removeEventListener("dragstart",this.handleTopDragStart),e.removeEventListener("dragstart",this.handleTopDragStartCapture,!0),e.removeEventListener("dragend",this.handleTopDragEndCapture,!0),e.removeEventListener("dragenter",this.handleTopDragEnter),e.removeEventListener("dragenter",this.handleTopDragEnterCapture,!0),e.removeEventListener("dragleave",this.handleTopDragLeaveCapture,!0),e.removeEventListener("dragover",this.handleTopDragOver),e.removeEventListener("dragover",this.handleTopDragOverCapture,!0),e.removeEventListener("drop",this.handleTopDrop),e.removeEventListener("drop",this.handleTopDropCapture,!0))}getCurrentSourceNodeOptions(){const e=this.monitor.getSourceId(),t=this.sourceNodeOptions.get(e);return Dm({dropEffect:this.altKeyPressed?"copy":"move"},t||{})}getCurrentDropEffect(){return this.isDraggingNativeItem()?"copy":this.getCurrentSourceNodeOptions().dropEffect}getCurrentSourcePreviewNodeOptions(){const e=this.monitor.getSourceId(),t=this.sourcePreviewNodeOptions.get(e);return Dm({anchorX:.5,anchorY:.5,captureDraggingState:!1},t||{})}isDraggingNativeItem(){const e=this.monitor.getItemType();return Object.keys(Rm).some(t=>Rm[t]===e)}beginDragNativeItem(e,t){this.clearCurrentDragSourceNode(),this.currentNativeSource=WC(e,t),this.currentNativeHandle=this.registry.addSource(e,this.currentNativeSource),this.actions.beginDrag([this.currentNativeHandle])}setCurrentDragSourceNode(e){this.clearCurrentDragSourceNode(),this.currentDragSourceNode=e;const t=1e3;this.mouseMoveTimeoutTimer=setTimeout(()=>{var i;return(i=this.rootElement)===null||i===void 0?void 0:i.addEventListener("mousemove",this.endDragIfSourceWasRemovedFromDOM,!0)},t)}clearCurrentDragSourceNode(){if(this.currentDragSourceNode){if(this.currentDragSourceNode=null,this.rootElement){var e;(e=this.window)===null||e===void 0||e.clearTimeout(this.mouseMoveTimeoutTimer||void 0),this.rootElement.removeEventListener("mousemove",this.endDragIfSourceWasRemovedFromDOM,!0)}return this.mouseMoveTimeoutTimer=null,!0}return!1}handleDragStart(e,t){e.defaultPrevented||(this.dragStartSourceIds||(this.dragStartSourceIds=[]),this.dragStartSourceIds.unshift(t))}handleDragEnter(e,t){this.dragEnterTargetIds.unshift(t)}handleDragOver(e,t){this.dragOverTargetIds===null&&(this.dragOverTargetIds=[]),this.dragOverTargetIds.unshift(t)}handleDrop(e,t){this.dropTargetIds.unshift(t)}constructor(e,t,i){this.sourcePreviewNodes=new Map,this.sourcePreviewNodeOptions=new Map,this.sourceNodes=new Map,this.sourceNodeOptions=new Map,this.dragStartSourceIds=null,this.dropTargetIds=[],this.dragEnterTargetIds=[],this.currentNativeSource=null,this.currentNativeHandle=null,this.currentDragSourceNode=null,this.altKeyPressed=!1,this.mouseMoveTimeoutTimer=null,this.asyncEndDragFrameId=null,this.dragOverTargetIds=null,this.lastClientOffset=null,this.hoverRafId=null,this.getSourceClientOffset=o=>{const l=this.sourceNodes.get(o);return l&&yv(l)||null},this.endDragNativeItem=()=>{this.isDraggingNativeItem()&&(this.actions.endDrag(),this.currentNativeHandle&&this.registry.removeSource(this.currentNativeHandle),this.currentNativeHandle=null,this.currentNativeSource=null)},this.isNodeInDocument=o=>!!(o&&this.document&&this.document.body&&this.document.body.contains(o)),this.endDragIfSourceWasRemovedFromDOM=()=>{const o=this.currentDragSourceNode;o==null||this.isNodeInDocument(o)||this.clearCurrentDragSourceNode()&&this.monitor.isDragging()&&this.actions.endDrag()},this.handleTopDragStartCapture=()=>{this.clearCurrentDragSourceNode(),this.dragStartSourceIds=[]},this.handleTopDragStart=o=>{if(o.defaultPrevented)return;const{dragStartSourceIds:l}=this;this.dragStartSourceIds=null;const u=ta(o);this.monitor.isDragging()&&this.actions.endDrag(),this.actions.beginDrag(l||[],{publishSource:!1,getSourceClientOffset:this.getSourceClientOffset,clientOffset:u});const{dataTransfer:d}=o,h=Dc(d);if(this.monitor.isDragging()){if(d&&typeof d.setDragImage=="function"){const m=this.monitor.getSourceId(),v=this.sourceNodes.get(m),_=this.sourcePreviewNodes.get(m)||v;if(_){const{anchorX:y,anchorY:w,offsetX:b,offsetY:E}=this.getCurrentSourcePreviewNodeOptions(),j=zC(v,_,u,{anchorX:y,anchorY:w},{offsetX:b,offsetY:E});d.setDragImage(_,j.x,j.y)}}try{d==null||d.setData("application/json",{})}catch{}this.setCurrentDragSourceNode(o.target);const{captureDraggingState:p}=this.getCurrentSourcePreviewNodeOptions();p?this.actions.publishDragSource():setTimeout(()=>this.actions.publishDragSource(),0)}else if(h)this.beginDragNativeItem(h);else{if(d&&!d.types&&(o.target&&!o.target.hasAttribute||!o.target.hasAttribute("draggable")))return;o.preventDefault()}},this.handleTopDragEndCapture=()=>{this.clearCurrentDragSourceNode()&&this.monitor.isDragging()&&this.actions.endDrag()},this.handleTopDragEnterCapture=o=>{if(this.dragEnterTargetIds=[],this.isDraggingNativeItem()){var l;(l=this.currentNativeSource)===null||l===void 0||l.loadDataTransfer(o.dataTransfer)}if(!this.enterLeaveCounter.enter(o.target)||this.monitor.isDragging())return;const{dataTransfer:d}=o,h=Dc(d);h&&this.beginDragNativeItem(h,d)},this.handleTopDragEnter=o=>{const{dragEnterTargetIds:l}=this;if(this.dragEnterTargetIds=[],!this.monitor.isDragging())return;this.altKeyPressed=o.altKey,l.length>0&&this.actions.hover(l,{clientOffset:ta(o)}),l.some(d=>this.monitor.canDropOnTarget(d))&&(o.preventDefault(),o.dataTransfer&&(o.dataTransfer.dropEffect=this.getCurrentDropEffect()))},this.handleTopDragOverCapture=o=>{if(this.dragOverTargetIds=[],this.isDraggingNativeItem()){var l;(l=this.currentNativeSource)===null||l===void 0||l.loadDataTransfer(o.dataTransfer)}},this.handleTopDragOver=o=>{const{dragOverTargetIds:l}=this;if(this.dragOverTargetIds=[],!this.monitor.isDragging()){o.preventDefault(),o.dataTransfer&&(o.dataTransfer.dropEffect="none");return}this.altKeyPressed=o.altKey,this.lastClientOffset=ta(o),this.hoverRafId===null&&typeof requestAnimationFrame<"u"&&(this.hoverRafId=requestAnimationFrame(()=>{this.monitor.isDragging()&&this.actions.hover(l||[],{clientOffset:this.lastClientOffset}),this.hoverRafId=null})),(l||[]).some(d=>this.monitor.canDropOnTarget(d))?(o.preventDefault(),o.dataTransfer&&(o.dataTransfer.dropEffect=this.getCurrentDropEffect())):this.isDraggingNativeItem()?o.preventDefault():(o.preventDefault(),o.dataTransfer&&(o.dataTransfer.dropEffect="none"))},this.handleTopDragLeaveCapture=o=>{this.isDraggingNativeItem()&&o.preventDefault(),this.enterLeaveCounter.leave(o.target)&&this.isDraggingNativeItem()&&setTimeout(()=>this.endDragNativeItem(),0)},this.handleTopDropCapture=o=>{if(this.dropTargetIds=[],this.isDraggingNativeItem()){var l;o.preventDefault(),(l=this.currentNativeSource)===null||l===void 0||l.loadDataTransfer(o.dataTransfer)}else Dc(o.dataTransfer)&&o.preventDefault();this.enterLeaveCounter.reset()},this.handleTopDrop=o=>{const{dropTargetIds:l}=this;this.dropTargetIds=[],this.actions.hover(l,{clientOffset:ta(o)}),this.actions.drop({dropEffect:this.getCurrentDropEffect()}),this.isDraggingNativeItem()?this.endDragNativeItem():this.monitor.isDragging()&&this.actions.endDrag()},this.handleSelectStart=o=>{const l=o.target;typeof l.dragDrop=="function"&&(l.tagName==="INPUT"||l.tagName==="SELECT"||l.tagName==="TEXTAREA"||l.isContentEditable||(o.preventDefault(),l.dragDrop()))},this.options=new HC(t,i),this.actions=e.getActions(),this.monitor=e.getMonitor(),this.registry=e.getRegistry(),this.enterLeaveCounter=new MC(this.isNodeInDocument)}}const GC=function(e,t,i){return new VC(e,t,i)};function KC(r,e,...t){if(!r){let i;{let o=0;i=new Error(e.replace(/%s/g,function(){return t[o++]})),i.name="Invariant Violation"}throw i.framesToPop=1,i}}var Hr;(function(r){r.mouse="mouse",r.touch="touch",r.keyboard="keyboard"})(Hr||(Hr={}));const YC={Left:1,Right:2,Center:4},JC={Left:0,Center:1,Right:2};function Ic(r){return r.button===void 0||r.button===JC.Left}function QC(r){return r.buttons===void 0||(r.buttons&YC.Left)===0}function bv(r){return!!r.targetTouches}const XC=1;function ZC(r){const e=r.nodeType===XC?r:r.parentElement;if(!e)return;const{top:t,left:i}=e.getBoundingClientRect();return{x:i,y:t}}function eP(r,e){if(r.targetTouches.length===1)return Oa(r.targetTouches[0]);if(e&&r.touches.length===1&&r.touches[0].target===e.target)return Oa(r.touches[0])}function Oa(r,e){return bv(r)?eP(r,e):{x:r.clientX,y:r.clientY}}function tP(r,e,t,i){return Math.sqrt(Math.pow(Math.abs(t-r),2)+Math.pow(Math.abs(i-e),2))}function rP(r,e,t,i,o){if(!o)return!1;const l=Math.atan2(i-e,t-r)*180/Math.PI+180;for(let u=0;u<o.length;++u){const d=o[u];if(d&&(d.start==null||l>=d.start)&&(d.end==null||l<=d.end))return!0}return!1}const Im=(()=>{let r=!1;try{addEventListener("test",()=>{},Object.defineProperty({},"passive",{get(){return r=!0,!0}}))}catch{}return r})();class nP{get delay(){var e;return(e=this.args.delay)!==null&&e!==void 0?e:0}get scrollAngleRanges(){return this.args.scrollAngleRanges}get getDropTargetElementsAtPoint(){return this.args.getDropTargetElementsAtPoint}get ignoreContextMenu(){var e;return(e=this.args.ignoreContextMenu)!==null&&e!==void 0?e:!1}get enableHoverOutsideTarget(){var e;return(e=this.args.enableHoverOutsideTarget)!==null&&e!==void 0?e:!1}get enableKeyboardEvents(){var e;return(e=this.args.enableKeyboardEvents)!==null&&e!==void 0?e:!1}get enableMouseEvents(){var e;return(e=this.args.enableMouseEvents)!==null&&e!==void 0?e:!1}get enableTouchEvents(){var e;return(e=this.args.enableTouchEvents)!==null&&e!==void 0?e:!0}get touchSlop(){return this.args.touchSlop||0}get delayTouchStart(){var e,t,i,o;return(o=(i=(e=this.args)===null||e===void 0?void 0:e.delayTouchStart)!==null&&i!==void 0?i:(t=this.args)===null||t===void 0?void 0:t.delay)!==null&&o!==void 0?o:0}get delayMouseStart(){var e,t,i,o;return(o=(i=(e=this.args)===null||e===void 0?void 0:e.delayMouseStart)!==null&&i!==void 0?i:(t=this.args)===null||t===void 0?void 0:t.delay)!==null&&o!==void 0?o:0}get window(){if(this.context&&this.context.window)return this.context.window;if(typeof window<"u")return window}get document(){var e;if(!((e=this.context)===null||e===void 0)&&e.document)return this.context.document;if(this.window)return this.window.document}get rootElement(){var e;return((e=this.args)===null||e===void 0?void 0:e.rootElement)||this.document}constructor(e,t){this.args=e,this.context=t}}const ds={[Hr.mouse]:{start:"mousedown",move:"mousemove",end:"mouseup",contextmenu:"contextmenu"},[Hr.touch]:{start:"touchstart",move:"touchmove",end:"touchend"},[Hr.keyboard]:{keydown:"keydown"}};class ws{profile(){var e;return{sourceNodes:this.sourceNodes.size,sourcePreviewNodes:this.sourcePreviewNodes.size,sourcePreviewNodeOptions:this.sourcePreviewNodeOptions.size,targetNodes:this.targetNodes.size,dragOverTargetIds:((e=this.dragOverTargetIds)===null||e===void 0?void 0:e.length)||0}}get document(){return this.options.document}setup(){const e=this.options.rootElement;e&&(KC(!ws.isSetUp,"Cannot have two Touch backends at the same time."),ws.isSetUp=!0,this.addEventListener(e,"start",this.getTopMoveStartHandler()),this.addEventListener(e,"start",this.handleTopMoveStartCapture,!0),this.addEventListener(e,"move",this.handleTopMove),this.addEventListener(e,"move",this.handleTopMoveCapture,!0),this.addEventListener(e,"end",this.handleTopMoveEndCapture,!0),this.options.enableMouseEvents&&!this.options.ignoreContextMenu&&this.addEventListener(e,"contextmenu",this.handleTopMoveEndCapture),this.options.enableKeyboardEvents&&this.addEventListener(e,"keydown",this.handleCancelOnEscape,!0))}teardown(){const e=this.options.rootElement;e&&(ws.isSetUp=!1,this._mouseClientOffset={},this.removeEventListener(e,"start",this.handleTopMoveStartCapture,!0),this.removeEventListener(e,"start",this.handleTopMoveStart),this.removeEventListener(e,"move",this.handleTopMoveCapture,!0),this.removeEventListener(e,"move",this.handleTopMove),this.removeEventListener(e,"end",this.handleTopMoveEndCapture,!0),this.options.enableMouseEvents&&!this.options.ignoreContextMenu&&this.removeEventListener(e,"contextmenu",this.handleTopMoveEndCapture),this.options.enableKeyboardEvents&&this.removeEventListener(e,"keydown",this.handleCancelOnEscape,!0),this.uninstallSourceNodeRemovalObserver())}addEventListener(e,t,i,o=!1){const l=Im?{capture:o,passive:!1}:o;this.listenerTypes.forEach(function(u){const d=ds[u][t];d&&e.addEventListener(d,i,l)})}removeEventListener(e,t,i,o=!1){const l=Im?{capture:o,passive:!1}:o;this.listenerTypes.forEach(function(u){const d=ds[u][t];d&&e.removeEventListener(d,i,l)})}connectDragSource(e,t){const i=this.handleMoveStart.bind(this,e);return this.sourceNodes.set(e,t),this.addEventListener(t,"start",i),()=>{this.sourceNodes.delete(e),this.removeEventListener(t,"start",i)}}connectDragPreview(e,t,i){return this.sourcePreviewNodeOptions.set(e,i),this.sourcePreviewNodes.set(e,t),()=>{this.sourcePreviewNodes.delete(e),this.sourcePreviewNodeOptions.delete(e)}}connectDropTarget(e,t){const i=this.options.rootElement;if(!this.document||!i)return()=>{};const o=l=>{if(!this.document||!i||!this.monitor.isDragging())return;let u;switch(l.type){case ds.mouse.move:u={x:l.clientX,y:l.clientY};break;case ds.touch.move:var d,h;u={x:((d=l.touches[0])===null||d===void 0?void 0:d.clientX)||0,y:((h=l.touches[0])===null||h===void 0?void 0:h.clientY)||0};break}const p=u!=null?this.document.elementFromPoint(u.x,u.y):void 0,m=p&&t.contains(p);if(p===t||m)return this.handleMove(l,e)};return this.addEventListener(this.document.body,"move",o),this.targetNodes.set(e,t),()=>{this.document&&(this.targetNodes.delete(e),this.removeEventListener(this.document.body,"move",o))}}getTopMoveStartHandler(){return!this.options.delayTouchStart&&!this.options.delayMouseStart?this.handleTopMoveStart:this.handleTopMoveStartDelay}installSourceNodeRemovalObserver(e){this.uninstallSourceNodeRemovalObserver(),this.draggedSourceNode=e,this.draggedSourceNodeRemovalObserver=new MutationObserver(()=>{e&&!e.parentElement&&(this.resurrectSourceNode(),this.uninstallSourceNodeRemovalObserver())}),!(!e||!e.parentElement)&&this.draggedSourceNodeRemovalObserver.observe(e.parentElement,{childList:!0})}resurrectSourceNode(){this.document&&this.draggedSourceNode&&(this.draggedSourceNode.style.display="none",this.draggedSourceNode.removeAttribute("data-reactid"),this.document.body.appendChild(this.draggedSourceNode))}uninstallSourceNodeRemovalObserver(){this.draggedSourceNodeRemovalObserver&&this.draggedSourceNodeRemovalObserver.disconnect(),this.draggedSourceNodeRemovalObserver=void 0,this.draggedSourceNode=void 0}constructor(e,t,i){this.getSourceClientOffset=o=>{const l=this.sourceNodes.get(o);return l&&ZC(l)},this.handleTopMoveStartCapture=o=>{Ic(o)&&(this.moveStartSourceIds=[])},this.handleMoveStart=o=>{Array.isArray(this.moveStartSourceIds)&&this.moveStartSourceIds.unshift(o)},this.handleTopMoveStart=o=>{if(!Ic(o))return;const l=Oa(o);l&&(bv(o)&&(this.lastTargetTouchFallback=o.targetTouches[0]),this._mouseClientOffset=l),this.waitingForDelay=!1},this.handleTopMoveStartDelay=o=>{if(!Ic(o))return;const l=o.type===ds.touch.start?this.options.delayTouchStart:this.options.delayMouseStart;this.timeout=setTimeout(this.handleTopMoveStart.bind(this,o),l),this.waitingForDelay=!0},this.handleTopMoveCapture=()=>{this.dragOverTargetIds=[]},this.handleMove=(o,l)=>{this.dragOverTargetIds&&this.dragOverTargetIds.unshift(l)},this.handleTopMove=o=>{if(this.timeout&&clearTimeout(this.timeout),!this.document||this.waitingForDelay)return;const{moveStartSourceIds:l,dragOverTargetIds:u}=this,d=this.options.enableHoverOutsideTarget,h=Oa(o,this.lastTargetTouchFallback);if(!h)return;if(this._isScrolling||!this.monitor.isDragging()&&rP(this._mouseClientOffset.x||0,this._mouseClientOffset.y||0,h.x,h.y,this.options.scrollAngleRanges)){this._isScrolling=!0;return}if(!this.monitor.isDragging()&&this._mouseClientOffset.hasOwnProperty("x")&&l&&tP(this._mouseClientOffset.x||0,this._mouseClientOffset.y||0,h.x,h.y)>(this.options.touchSlop?this.options.touchSlop:0)&&(this.moveStartSourceIds=void 0,this.actions.beginDrag(l,{clientOffset:this._mouseClientOffset,getSourceClientOffset:this.getSourceClientOffset,publishSource:!1})),!this.monitor.isDragging())return;const p=this.sourceNodes.get(this.monitor.getSourceId());this.installSourceNodeRemovalObserver(p),this.actions.publishDragSource(),o.cancelable&&o.preventDefault();const m=(u||[]).map(w=>this.targetNodes.get(w)).filter(w=>!!w),v=this.options.getDropTargetElementsAtPoint?this.options.getDropTargetElementsAtPoint(h.x,h.y,m):this.document.elementsFromPoint(h.x,h.y),_=[];for(const w in v){if(!v.hasOwnProperty(w))continue;let b=v[w];for(b!=null&&_.push(b);b;)b=b.parentElement,b&&_.indexOf(b)===-1&&_.push(b)}const y=_.filter(w=>m.indexOf(w)>-1).map(w=>this._getDropTargetId(w)).filter(w=>!!w).filter((w,b,E)=>E.indexOf(w)===b);if(d)for(const w in this.targetNodes){const b=this.targetNodes.get(w);if(p&&b&&b.contains(p)&&y.indexOf(w)===-1){y.unshift(w);break}}y.reverse(),this.actions.hover(y,{clientOffset:h})},this._getDropTargetId=o=>{const l=this.targetNodes.keys();let u=l.next();for(;u.done===!1;){const d=u.value;if(o===this.targetNodes.get(d))return d;u=l.next()}},this.handleTopMoveEndCapture=o=>{if(this._isScrolling=!1,this.lastTargetTouchFallback=void 0,!!QC(o)){if(!this.monitor.isDragging()||this.monitor.didDrop()){this.moveStartSourceIds=void 0;return}o.cancelable&&o.preventDefault(),this._mouseClientOffset={},this.uninstallSourceNodeRemovalObserver(),this.actions.drop(),this.actions.endDrag()}},this.handleCancelOnEscape=o=>{o.key==="Escape"&&this.monitor.isDragging()&&(this._mouseClientOffset={},this.uninstallSourceNodeRemovalObserver(),this.actions.endDrag())},this.options=new nP(i,t),this.actions=e.getActions(),this.monitor=e.getMonitor(),this.sourceNodes=new Map,this.sourcePreviewNodes=new Map,this.sourcePreviewNodeOptions=new Map,this.targetNodes=new Map,this.listenerTypes=[],this._mouseClientOffset={},this._isScrolling=!1,this.options.enableMouseEvents&&this.listenerTypes.push(Hr.mouse),this.options.enableTouchEvents&&this.listenerTypes.push(Hr.touch),this.options.enableKeyboardEvents&&this.listenerTypes.push(Hr.keyboard)}}const iP=function(e,t={},i={}){return new ws(e,t,i)},Ev=(r,e)=>({event:r,check:e}),sP=Ev("touchstart",r=>{const e=r;return e.touches!==null&&e.touches!==void 0}),oP=Ev("pointerdown",r=>r.pointerType=="mouse"),aP={backends:[{id:"html5",backend:GC,transition:oP},{id:"touch",backend:iP,options:{enableMouseEvents:!0},preview:!0,transition:sP}]};function lP(){return{replace(e){window.history.replaceState(e.state,"",e.search||"?")},push(e){window.history.pushState(e.state,"",e.search||"?")},get location(){return window.location}}}const uP=({children:r})=>{const[e]=N.useState(lP);return r(e)},cP=()=>x.jsx(x.Fragment,{children:x.jsxs("div",{className:"about-container",children:[x.jsx("h3",{className:"title",children:"About"}),x.jsx("hr",{}),x.jsx("p",{children:"Often, the biggest challenge in running a race is finding the time to train. Having a good training plan is key, but understanding how your running life intersects your non-running life is even more important. After all, youre not likely to kill that Sunday long run if it follows that Saturday night Phish show. Your training needs to work despite travel you do, work deadlines you face, kid schedules, doctors appointments, election days, Maker Faire, visits from out-of-town friends, baseball games, dates, gran fondos, colonoscopies, court appearanceswhatever life throws at you is easier to manage when its on a calendar."}),x.jsx("p",{children:"Each time I gear up for a race, I search Google for a way to marry a training plan to my calendar and Im surprised when nothing comes up. Instead, I do what you probably do: I enter each training run by hand. Its a collosal waste of time and an easy way add or remove a few miles with a careless fat finger."}),x.jsx("p",{children:"So to save myself this mundane ritual as I lock in a training schedule for the 2016 Boston Marathon (and many evenings and weekends since), I hacked together a web application that lets me:"}),x.jsxs("ol",{children:[x.jsx("li",{children:"Choose the date of my goal race"}),x.jsx("li",{children:"Choose a training plan"}),x.jsx("li",{children:"Specify miles or km (Hello non-Americans!)"}),x.jsx("li",{children:"Download an iCalendar (.ics) file with the right training runs on it"})]}),x.jsxs("p",{children:[" If youre not familiar with ",x.jsx("a",{href:"https://en.wikipedia.org/wiki/ICalendar",target:"_blank",children:"iCalendar"})," files, what you need to know is that you can import them into Google Calendar, the OSX Calendar app, and any other calendar app worth using."]}),x.jsx("p",{children:"(If you do use Google Calendar, I recommend creating a new calendar to import into so your training schedule gets its own color and so you can show/hide it as needed.)"}),x.jsx("p",{children:"The app knows about some training plans:"}),x.jsxs("ul",{children:[x.jsxs("li",{children:["Several plans by Pete Pfitzinger and Scott Douglas from their popular ",x.jsx("a",{href:"http://www.amazon.com/Advanced-Marathoning-Edition-Pete-Pfitzinger/dp/0736074600",target:"_blank",children:"Advanced Marathoning (3rd edition)"})," book"]}),x.jsxs("li",{children:["Several plans by Pete Pfitzinger and Scott Douglas from their popular ",x.jsx("a",{href:"https://www.amazon.com/dp/1718237472",target:"_blank",children:"Advanced Marathoning (4th edition)"})," book"]}),x.jsxs("li",{children:["Several plans by Pete Pfitzinger and Philip Latter from their popular ",x.jsx("a",{href:"https://www.amazon.com/Faster-Road-Racing-Half-Marathon/dp/1450470459",target:"_blank",children:" Faster Road Racing: 5K to Half Marathon"})," book"]}),x.jsxs("li",{children:["Beginner and Advanced Marathon plans by Keith and Kevin Hanson from their popular ",x.jsx("a",{href:"https://www.amazon.com/Hansons-Marathon-Method-Your-Fastest/dp/1937715485",target:"_blank",children:"Hansons Marathon Method"})," book"]}),x.jsxs("li",{children:["Several plans by Hal Higdon from his popular ",x.jsx("a",{href:"http://www.amazon.com/Marathon-Ultimate-Training-Programs-Marathons/dp/1609612248",target:"_blank",children:"Marathon: The Ultimate Training Guide"})," book"]}),x.jsx("li",{children:"A few popular Couch to 5K plans for new runners"})]}),x.jsx("p",{children:"Ive read these books and have trained with programs from them in the past. The plans will make little sense if you dont take the time to read the books they came from. So, seriously, understand what youre getting yourself into so you get the most out of your training and dont hurt yourself."}),x.jsx("p",{children:"The scope of this app is intentionally narrowit helps get a stock training plan onto your calendar with as little friction as possible. Once its on your calendar, by all means adjust the scheduled runs as necessary so your running life doesnt wreck your non-running life and vice-versa."}),x.jsx("p",{children:"That being said, you can make some minor changes to the plan before you download it:"}),x.jsxs("ol",{children:[x.jsx("li",{children:"Swap any two workouts easily using drag-and-drop: just grab the workout you want to move and drag it where you want it to go."}),x.jsx("li",{children:"Swap all workouts that fall on a given day of the week with workouts on another day of the week: just grab the day of week heading (e.g. Sunday) and drop it onto the day you would like to swap with (e.g. Saturday)."}),x.jsx("li",{children:"An undo button will appear near the top of the screen if you need it."})]}),x.jsx("p",{children:"Note: These features work best on bigger screens; day-of-week swapping is not currently available on devices with smallest screens."}),x.jsx("p",{children:"Thanks for reading this far. If you find any bugs, have any questions or feedback feel free to get in touch (contact details appear below)."})]})});Cw.createRoot(document.getElementById("root")).render(x.jsx(N.StrictMode,{children:x.jsx(AC,{options:aP,children:x.jsx(mC,{adapter:uP,children:x.jsx("div",{className:"app",children:x.jsx(V_,{basename:"/Running_Calendar-dev/",children:x.jsx(b_,{children:x.jsxs(ra,{path:"/",element:x.jsx(iS,{}),children:[x.jsx(ra,{index:!0,path:"/",element:x.jsx(CC,{})}),x.jsx(ra,{path:"about",element:x.jsx(cP,{})})]})})})})})})}));
